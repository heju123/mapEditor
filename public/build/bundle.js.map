{"version":3,"sources":["webpack:///webpack/bootstrap 044bf45c4e11a7666d4c","webpack:///./src/js/main/style/nav.js","webpack:///./src/js/main.js","webpack:///./src/js/main/view/route.js","webpack:///./src/js/main/view/mainView.js","webpack:///./src/js/main/controller/mainController.js","webpack:///./src/js/main/view/map/mapView.js","webpack:///./src/js/main/controller/map/mapController.js","webpack:///./src/js/main/view/dropdown/fileView.js","webpack:///./src/js/main/view/dropdown/mapView.js"],"names":["navButtonStyle","style","autoWidth","height","hover","backgroundColor","active","fontColor","focus","navDivider","width","navItemStyle","animation","duration","easeType","easing","Main","mainBox","document","getElementById","window","innerWidth","innerHeight","monk","run","main","id","type","routes","view","default","TOP_HEIGHT","controller","x","y","children","layout","orientation","text","events","callback","param","self","parent","getWidth","autoLine","lineHeight","fontSize","getHeight","get","Promise","resolve","reject","require","MainController","component","registerEvent","dropdownViews","push","viewState","getComponentById","mainView","onClickRoot","bind","forEach","e","hideAllDropdownViews","getX","setX","stopPropagation","newMapWindow","clearForm","center","openWindow","okCallback","data","mapComponent","components","Rect","initCfg","appendChildren","setTerrainWindow","terrain","terrainShowLabel","setText","Controller","name","controllerParam","draggable","MapController","parseInt","size","startCoors","undefined","endCoors","selectedCoors","initMapData","setStyle","button","mx","pageX","getRealX","my","pageY","getRealY","Math","floor","minX","min","maxX","max","minY","maxY","setMapDataBatch","mapData","block","setMapData","key","i","j","value","ctx","lineWidth","strokeStyle","globalAlpha","fillStyle","beginPath","moveTo","lineTo","rect","fill","stroke","closePath","autoHeight","borderWidth","borderColor","zIndex"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kDAA0C,WAAW,EAAE;AACvD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uDAA+C,sCAAsC;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA,kDAA0C,oBAAoB,WAAW;;AAEzE;AACA;;;;;;;;;;;;;AC/IA;AACO,IAAIA,0CAAiB;AACxBC,WAAQ;AACJC,mBAAY,IADR;AAEJC,gBAAS,MAFL;AAGJC,eAAQ;AACJC,6BAAkB;AADd,SAHJ;AAMJC,gBAAS;AACLD,6BAAkB,SADb;AAELE,uBAAY;AAFP,SANL;AAUJC,eAAQ;AACJH,6BAAkB;AADd;;AAVJ;AADgB,CAArB;;AAkBP;AACO,IAAII,kCAAa;AACpBR,WAAQ;AACJS,eAAQ,MADJ;AAEJP,gBAAS,CAFL;AAGJE,yBAAiB;AAHb;AADY,CAAjB;;AAQP;AACO,IAAIM,sCAAe;AACtBV,WAAQ;AACJS,eAAQ,MADJ;AAEJP,gBAAS,EAFL;AAGJE,yBAAiB,SAHb;AAIJD,eAAQ;AACJC,6BAAkB;AADd,SAJJ;AAOJC,gBA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","file":"bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules, executeModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [], result;\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules, executeModules);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// objects to store loaded and loading chunks\n \tvar installedChunks = {\n \t\t2: 0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData === 0) {\n \t\t\treturn new Promise(function(resolve) { resolve(); });\n \t\t}\n\n \t\t// a Promise means \"currently loading\".\n \t\tif(installedChunkData) {\n \t\t\treturn installedChunkData[2];\n \t\t}\n\n \t\t// setup Promise in chunk cache\n \t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t});\n \t\tinstalledChunkData[2] = promise;\n\n \t\t// start chunk loading\n \t\tvar head = document.getElementsByTagName('head')[0];\n \t\tvar script = document.createElement('script');\n \t\tscript.type = 'text/javascript';\n \t\tscript.charset = 'utf-8';\n \t\tscript.async = true;\n \t\tscript.timeout = 120000;\n\n \t\tif (__webpack_require__.nc) {\n \t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t}\n \t\tscript.src = __webpack_require__.p + \"\" + ({\"0\":\"setTerrainView\",\"1\":\"newMapView\"}[chunkId]||chunkId) + \".chunk.js\";\n \t\tvar timeout = setTimeout(onScriptComplete, 120000);\n \t\tscript.onerror = script.onload = onScriptComplete;\n \t\tfunction onScriptComplete() {\n \t\t\t// avoid mem leaks in IE.\n \t\t\tscript.onerror = script.onload = null;\n \t\t\tclearTimeout(timeout);\n \t\t\tvar chunk = installedChunks[chunkId];\n \t\t\tif(chunk !== 0) {\n \t\t\t\tif(chunk) {\n \t\t\t\t\tchunk[1](new Error('Loading chunk ' + chunkId + ' failed.'));\n \t\t\t\t}\n \t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t}\n \t\t};\n \t\thead.appendChild(script);\n\n \t\treturn promise;\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 044bf45c4e11a7666d4c","//顶部工具栏按钮\r\nexport let navButtonStyle = {\r\n    style : {\r\n        autoWidth : true,\r\n        height : \"100%\",\r\n        hover : {\r\n            backgroundColor : \"#bfbfbf\"\r\n        },\r\n        active : {\r\n            backgroundColor : \"#FF8501\",\r\n            fontColor : \"#ffffff\"\r\n        },\r\n        focus : {\r\n            backgroundColor : \"#f1f1f1\"\r\n        }\r\n\r\n    }\r\n};\r\n\r\n//顶部工具栏下拉分割线\r\nexport let navDivider = {\r\n    style : {\r\n        width : \"100%\",\r\n        height : 1,\r\n        backgroundColor: \"#ABABAB\"\r\n    }\r\n};\r\n\r\n//顶部工具栏下拉选项按钮\r\nexport let navItemStyle = {\r\n    style : {\r\n        width : \"100%\",\r\n        height : 35,\r\n        backgroundColor: \"#DCDCDC\",\r\n        hover : {\r\n            backgroundColor : \"#E9E9E9\"\r\n        },\r\n        active : {\r\n            backgroundColor : \"#FF8501\",\r\n            fontColor : \"#ffffff\"\r\n        }\r\n    },\r\n    animation : {\r\n        backgroundColor : {\r\n            duration : \"300ms\",\r\n            easeType : \"Linear\",\r\n            easing : \"ease\"\r\n        }\r\n    }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/main/style/nav.js","/**\r\n * Created by heju on 2017/7/19.\r\n */\r\nimport route from \"./main/view/route.js\";\r\n\r\nclass Main {\r\n    constructor(){\r\n        let mainBox = document.getElementById(\"mainBox\");\r\n        mainBox.style.width = window.innerWidth + \"px\";\r\n        mainBox.style.height = window.innerHeight + \"px\";\r\n\r\n        var monk = new window.monk.Main(\"mainBox\");\r\n\r\n        monk.run(route);\r\n    }\r\n}\r\n\r\nlet main = new Main();\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","/**\r\n * Created by heju on 2017/7/27.\r\n */\r\nimport mainView from \"./mainView.js\";\r\n\r\nexport default {\r\n    id : \"mainRoute\",\r\n    type : \"route\",\r\n    routes : {\r\n        \"main\" : {\r\n            view : mainView,\r\n            default : true\r\n        },\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/main/view/route.js","import MainController from \"../controller/mainController.js\";\r\nimport fileView from \"./dropdown/fileView.js\";\r\nimport mapView from \"./dropdown/mapView.js\";\r\nimport {navButtonStyle} from \"../style/nav.js\";\r\n\r\nconst TOP_HEIGHT = 30;\r\n\r\nexport default {\r\n    id : \"mainView\",\r\n    controller : MainController,\r\n    type : \"rect\",\r\n    style : {\r\n        x : 0,\r\n        y : 0,\r\n        width : \"100%\",\r\n        height : \"100%\",\r\n        backgroundColor : \"#ffffff\"\r\n    },\r\n    children : [\r\n        //工具栏\r\n        {\r\n            type : \"rect\",\r\n            style : {\r\n                x : 0,\r\n                y : 0,\r\n                width : \"100%\",\r\n                height : TOP_HEIGHT,\r\n                backgroundColor : \"#aeaeae\"\r\n            },\r\n            children : [\r\n                {\r\n                    type : \"rect\",\r\n                    style : {\r\n                        x : 10,\r\n                        y : 0,\r\n                        autoWidth : true,\r\n                        height : \"100%\",\r\n                        layout : {\r\n                            type : \"linearLayout\",\r\n                            orientation : \"horizontal\"\r\n                        }\r\n                    },\r\n                    children : [\r\n                        {\r\n                            type : \"button\",\r\n                            style : navButtonStyle.style,\r\n                            text : \"文件\",\r\n                            animation : navButtonStyle.animation,\r\n                            events : {\r\n                                \"click\" : {\r\n                                    callback : \"showDropdownView\",\r\n                                    param : (self)=>{\r\n                                        return [0, self];\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        {\r\n                            type : \"button\",\r\n                            style : navButtonStyle.style,\r\n                            text : \"地图\",\r\n                            animation : navButtonStyle.animation,\r\n                            events : {\r\n                                \"click\" : {\r\n                                    callback : \"showDropdownView\",\r\n                                    param : (self)=>{\r\n                                        return [1, self];\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    id : \"top_tool_terrainShowLabel\",\r\n                    type: \"rect\",\r\n                    style: {\r\n                        x: function(){\r\n                            return this.parent.getWidth() - 180\r\n                        },\r\n                        y: 0,\r\n                        autoWidth: true,\r\n                        autoLine : false,\r\n                        height: \"100%\",\r\n                        lineHeight : TOP_HEIGHT,\r\n                        fontSize : \"16px\",\r\n                        fontColor : \"#666666\"\r\n                    },\r\n                    active : false\r\n                }\r\n            ]\r\n        },\r\n        fileView(TOP_HEIGHT),\r\n        mapView(TOP_HEIGHT),\r\n        //编辑区域\r\n        {\r\n            id : \"edit_area\",\r\n            type : \"rect\",\r\n            style : {\r\n                x : 0,\r\n                y : TOP_HEIGHT,\r\n                width : \"100%\",\r\n                height : function(){\r\n                    return this.parent.getHeight() - TOP_HEIGHT;\r\n                },\r\n                backgroundColor : \"#f4f4f4\"\r\n            }\r\n        },\r\n        (get) => {\r\n            return new Promise((resolve, reject)=>{\r\n                require.ensure([], require => {\r\n                    get(require(\"../../window/newMap/view/newMapView.js\").default, resolve, reject);\r\n                },'newMapView');\r\n            });\r\n        },\r\n        (get) => {\r\n            return new Promise((resolve, reject)=>{\r\n                require.ensure([], require => {\r\n                    get(require(\"../../window/setTerrain/view/setTerrainView.js\").default, resolve, reject);\r\n                },'setTerrainView');\r\n            });\r\n        }\r\n    ]\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/main/view/mainView.js","/**\r\n * Created by heju on 2017/7/14.\r\n */\r\nimport mapView from \"../view/map/mapView.js\";\r\n\r\nexport default class MainController extends window.monk.Controller{\r\n    constructor(component) {\r\n        super(component);\r\n\r\n        this.registerEvent(\"$onViewLoaded\", ()=>{\r\n            this.dropdownViews = [];\r\n            this.dropdownViews.push(this.viewState.getComponentById(\"dropdown_fileView\"));\r\n            this.dropdownViews.push(this.viewState.getComponentById(\"dropdown_mapView\"));\r\n\r\n            let mainView = this.viewState.getComponentById(\"mainView\");\r\n            mainView.registerEvent(\"click\", this.onClickRoot.bind(this));\r\n        });\r\n    }\r\n\r\n    hideAllDropdownViews()\r\n    {\r\n        this.dropdownViews.forEach((view)=>{\r\n            view.active = false;\r\n        });\r\n    }\r\n\r\n    showDropdownView(param, e){\r\n        this.hideAllDropdownViews();\r\n        let x = param[1].getX() + param[1].parent.getX();\r\n        this.dropdownViews[param[0]].setX(x);\r\n        this.dropdownViews[param[0]].active = true;\r\n        e.stopPropagation();\r\n    }\r\n\r\n    onClickRoot(){\r\n        this.hideAllDropdownViews();\r\n    }\r\n\r\n    openNewMapDlg(e){\r\n        let newMapWindow = this.viewState.getComponentById(\"new_map_window\");\r\n        newMapWindow.controller.clearForm();\r\n        newMapWindow.controller.center().openWindow({\r\n            okCallback : (data)=>{\r\n                let parent = this.component.getComponentById(\"edit_area\");\r\n                this.mapComponent = new window.monk.components.Rect(parent);\r\n                this.mapComponent.initCfg(mapView(data));\r\n                parent.appendChildren(this.mapComponent);\r\n            }\r\n        });\r\n    }\r\n\r\n    openSetTerrainDlg(e){\r\n        let setTerrainWindow = this.viewState.getComponentById(\"set_terrain_window\");\r\n        setTerrainWindow.controller.center().openWindow({\r\n            okCallback : (data)=>{\r\n                if (data.terrain && this.mapComponent)\r\n                {\r\n                    this.mapComponent.terrain = data.terrain;\r\n                    let terrainShowLabel = this.viewState.getComponentById(\"top_tool_terrainShowLabel\");\r\n                    terrainShowLabel.setText(\"当前设置地形：\" + data.terrain);\r\n                    terrainShowLabel.setX(terrainShowLabel.parent.getWidth() - terrainShowLabel.getWidth());\r\n                    terrainShowLabel.active = true;\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/main/controller/mainController.js","import MapController from \"../../controller/map/mapController.js\";\r\n\r\nexport default (data)=>{\r\n    return {\r\n        name : \"mapCom\",\r\n        controller : MapController,\r\n        controllerParam : data,\r\n        type : \"rect\",\r\n        style : {\r\n            x : 0,\r\n            y : 0,\r\n            width : 0,\r\n            height : 0,\r\n            backgroundColor : \"#c8c8c8\",\r\n            draggable : true\r\n        }\r\n    };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/main/view/map/mapView.js","export default class MapController extends window.monk.Controller {\r\n    constructor(component, data) {\r\n        super(component);\r\n\r\n        this.width = parseInt(data.width, 10);\r\n        this.height = parseInt(data.height, 10);\r\n        this.size = parseInt(data.size, 10);\r\n\r\n        this.startCoors = undefined;//多选开始坐标\r\n        this.endCoors = undefined;//多选结束坐标\r\n        this.selectedCoors = undefined;//选中的坐标集合\r\n        this.terrain = undefined;//当前指定的地形\r\n\r\n        this.initMapData();\r\n\r\n        this.component.setStyle({\r\n            width : this.width * this.size,\r\n            height : this.height * this.size\r\n        });\r\n\r\n        this.component.registerEvent(\"mousedown\", (e)=>{\r\n            if (e.button === 2)//右键点击\r\n            {\r\n                //鼠标相对于面板的x,y值\r\n                let mx = e.pageX - this.component.getRealX();\r\n                let my = e.pageY - this.component.getRealY();\r\n\r\n                let x = Math.floor(mx / this.size);\r\n                let y = Math.floor(my / this.size);\r\n                this.startCoors = {x : x, y : y};\r\n            }\r\n        });\r\n        this.component.registerEvent(\"mousemove\", (e)=>{\r\n            if (this.startCoors)//右键点击\r\n            {\r\n                //鼠标相对于面板的x,y值\r\n                let mx = e.pageX - this.component.getRealX();\r\n                let my = e.pageY - this.component.getRealY();\r\n\r\n                let x = Math.floor(mx / this.size);\r\n                let y = Math.floor(my / this.size);\r\n\r\n                this.endCoors = {x : x, y : y};\r\n            }\r\n        });\r\n        this.component.registerEvent(\"mouseup\", (e)=>{\r\n            if (e.button === 2)//右键点击\r\n            {\r\n                if (this.startCoors && this.endCoors)//批量设置\r\n                {\r\n                    let minX = Math.min(this.startCoors.x, this.endCoors.x);\r\n                    let maxX = Math.max(this.startCoors.x, this.endCoors.x);\r\n                    let minY = Math.min(this.startCoors.y, this.endCoors.y);\r\n                    let maxY = Math.max(this.startCoors.y, this.endCoors.y);\r\n                    this.setMapDataBatch(minX, maxX, minY, maxY, \"block\", !this.mapData[minX][minY].block);\r\n\r\n                    this.selectedCoors = {\r\n                        minX : minX,\r\n                        maxX : maxX,\r\n                        minY : minY,\r\n                        maxY : maxY\r\n                    };\r\n                }\r\n                else\r\n                {\r\n                    //鼠标相对于面板的x,y值\r\n                    let mx = e.pageX - this.component.getRealX();\r\n                    let my = e.pageY - this.component.getRealY();\r\n\r\n                    let x = Math.floor(mx / this.size);\r\n                    let y = Math.floor(my / this.size);\r\n                    this.setMapData(x, y, \"block\", !this.mapData[x][y].block);\r\n\r\n                    this.selectedCoors = {\r\n                        x : x,\r\n                        y : y\r\n                    };\r\n                }\r\n                this.startCoors = undefined;\r\n                this.endCoors = undefined;\r\n            }\r\n        });\r\n\r\n        this.component.registerEvent(\"keydown\", (e)=>{\r\n            if (!this.selectedCoors)\r\n            {\r\n                return;\r\n            }\r\n            //设置地形编号\r\n            if (this.selectedCoors.x)\r\n            {\r\n                this.setMapData(this.selectedCoors.x, this.selectedCoors.y, \"terrain\", e.key);\r\n            }\r\n            else if (this.selectedCoors.minX)\r\n            {\r\n                this.setMapDataBatch(this.selectedCoors.minX, this.selectedCoors.maxX,\r\n                    this.selectedCoors.minY, this.selectedCoors.maxY, \"terrain\", e.key);\r\n            }\r\n        });\r\n    }\r\n\r\n    //初始化地图数据\r\n    initMapData(){\r\n        this.mapData = [];\r\n        for (let i = 0; i < this.width; i++)\r\n        {\r\n            this.mapData[i] = [];\r\n            for (let j = 0; j < this.height; j++)\r\n            {\r\n                this.mapData[i][j] = {\r\n                    block : false,//是否障碍物\r\n                    terrain : 0//地形：无\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\n    //设置指定位置的地图数据\r\n    setMapData(x, y, key, value){\r\n        this.mapData[x][y][key] = value;\r\n    }\r\n    //批量设置指定位置的地图数据\r\n    setMapDataBatch(minX, maxX, minY, maxY, key, value){\r\n        for (let x = minX; x <= maxX; x++)\r\n        {\r\n            for (let y = minY; y <= maxY; y++)\r\n            {\r\n                this.setMapData(x, y, key, value);\r\n            }\r\n        }\r\n    }\r\n\r\n    draw(ctx)\r\n    {\r\n        //绘制地图方格\r\n        ctx.lineWidth = 1;\r\n        ctx.strokeStyle=\"#6a6a6a\";\r\n        ctx.globalAlpha=1;\r\n        ctx.fillStyle=\"#000000\";\r\n        ctx.beginPath();\r\n        for (let x = 0; x <= this.width; x++)\r\n        {\r\n            ctx.moveTo(this.component.getRealX(), this.component.getRealY() + (x * this.size));\r\n            ctx.lineTo(this.component.getRealX() + this.component.getWidth(), this.component.getRealY() + (x * this.size));\r\n\r\n            for (let y = 0; y <= this.height; y++)\r\n            {\r\n                ctx.moveTo(this.component.getRealX() + (y * this.size), this.component.getRealY());\r\n                ctx.lineTo(this.component.getRealX() + (y * this.size), this.component.getRealY() + this.component.getHeight());\r\n\r\n                //绘制障碍物\r\n                if (this.mapData && this.mapData[x] && this.mapData[x][y] && this.mapData[x][y].block\r\n                    && x < this.width && y < this.height)\r\n                {\r\n                    ctx.rect(this.component.getRealX() + (x * this.size), this.component.getRealY() + (y * this.size),\r\n                        this.size, this.size);\r\n                    ctx.fill();\r\n                }\r\n            }\r\n        }\r\n        ctx.stroke();\r\n        ctx.closePath();\r\n\r\n        //绘制多选区域\r\n        if (this.startCoors && this.endCoors)\r\n        {\r\n            ctx.beginPath();\r\n            ctx.fillStyle=\"#337ab7\";\r\n            ctx.globalAlpha=0.6;\r\n            let minX = Math.min(this.startCoors.x, this.endCoors.x);\r\n            let maxX = Math.max(this.startCoors.x, this.endCoors.x);\r\n            let minY = Math.min(this.startCoors.y, this.endCoors.y);\r\n            let maxY = Math.max(this.startCoors.y, this.endCoors.y);\r\n            ctx.rect(this.component.getRealX() + (minX * this.size), this.component.getRealY() + (minY * this.size),\r\n                (maxX * this.size) - (minX * this.size) + this.size, (maxY * this.size) - (minY * this.size) + this.size);\r\n            ctx.fill();\r\n            ctx.closePath();\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/main/controller/map/mapController.js","import {navItemStyle,navDivider} from \"../../style/nav.js\";\r\n\r\nexport default (TOP_HEIGHT)=>{\r\n    return {\r\n        id : \"dropdown_fileView\",\r\n        type: \"rect\",\r\n        style: {\r\n            x: 10,\r\n            y: TOP_HEIGHT,\r\n            width: 100,\r\n            autoHeight : true,\r\n            backgroundColor: \"#DCDCDC\",\r\n            borderWidth : 1,\r\n            borderColor : \"#ABABAB\",\r\n            layout : {\r\n                type : \"linearLayout\",\r\n                orientation : \"vertical\"\r\n            },\r\n            zIndex : 2\r\n        },\r\n        active : false,\r\n        children : [\r\n            {\r\n                type : \"button\",\r\n                style : navItemStyle.style,\r\n                text : \"新建地图\",\r\n                animation : navItemStyle.animation,\r\n                events : {\r\n                    \"click\" : \"openNewMapDlg\"\r\n                }\r\n            },\r\n            {\r\n                type: \"rect\",\r\n                style: navDivider.style\r\n            },\r\n            {\r\n                type : \"button\",\r\n                style : navItemStyle.style,\r\n                text : \"加载地图\",\r\n                animation : navItemStyle.animation\r\n            }\r\n        ]\r\n    };\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/main/view/dropdown/fileView.js","import {navItemStyle,navDivider} from \"../../style/nav.js\";\r\n\r\nexport default (TOP_HEIGHT)=>{\r\n    return {\r\n        id : \"dropdown_mapView\",\r\n        type: \"rect\",\r\n        style: {\r\n            x: 10,\r\n            y: TOP_HEIGHT,\r\n            width: 100,\r\n            autoHeight : true,\r\n            backgroundColor: \"#DCDCDC\",\r\n            borderWidth : 1,\r\n            borderColor : \"#ABABAB\",\r\n            layout : {\r\n                type : \"linearLayout\",\r\n                orientation : \"vertical\"\r\n            },\r\n            zIndex : 2\r\n        },\r\n        active : false,\r\n        children : [\r\n            {\r\n                type : \"button\",\r\n                style : navItemStyle.style,\r\n                text : \"设置地形\",\r\n                animation : navItemStyle.animation,\r\n                events : {\r\n                    \"click\" : \"openSetTerrainDlg\"\r\n                }\r\n            }\r\n        ]\r\n    };\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/main/view/dropdown/mapView.js"],"sourceRoot":""}