{"version":3,"sources":["webpack:///webpack/bootstrap 7b18c18ffcff1ef89a37","webpack:///./src/js/main/style/nav.js","webpack:///./src/js/config.js","webpack:///./src/js/main.js","webpack:///./src/js/main/view/route.js","webpack:///./src/js/main/view/mainView.js","webpack:///./src/js/main/controller/mainController.js","webpack:///./src/js/main/view/map/mapView.js","webpack:///./src/js/main/controller/map/mapController.js","webpack:///./src/js/main/view/dropdown/fileView.js","webpack:///./src/js/main/view/dropdown/mapView.js"],"names":["navButtonStyle","style","autoWidth","height","hover","backgroundColor","active","fontColor","focus","navDivider","width","navItemStyle","animation","duration","easeType","easing","serverUrl","Main","mainBox","document","getElementById","window","innerWidth","innerHeight","monk","run","main","id","type","routes","view","default","TOP_HEIGHT","controller","x","y","children","layout","orientation","text","events","callback","param","self","parent","getWidth","autoLine","lineHeight","fontSize","getHeight","get","Promise","resolve","reject","require","MainController","component","registerEvent","dropdownViews","push","viewState","getComponentById","mainView","onClickRoot","bind","forEach","e","hideAllDropdownViews","getX","setX","stopPropagation","newMapWindow","clearForm","center","openWindow","okCallback","data","mapComponent","components","Rect","initCfg","appendChildren","setTerrainWindow","trrainBlock","isSetTerrain","terrain","terrainShowLabel","setText","httpUtil","post","mapName","mapData","JSON","stringify","then","parse","code","commonUtil","popMessageTooltip","selectMapWindow","Controller","name","controllerParam","draggable","MapController","parseInt","size","startCoors","undefined","endCoors","selectedCoors","initMapData","setStyle","button","mx","pageX","getRealX","my","pageY","getRealY","Math","floor","minX","min","maxX","max","minY","maxY","setMapDataBatch","block","setMapData","i","j","key","value","ctx","lineWidth","strokeStyle","globalAlpha","beginPath","fillStyle","rect","fill","closePath","FONT_SIZE","font","textBaseline","fillText","moveTo","lineTo","stroke","autoHeight","borderWidth","borderColor","zIndex"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kDAA0C,WAAW,EAAE;AACvD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uDAA+C,0DAA0D;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA,kDAA0C,oBAAoB,WAAW;;AAEzE;AACA;;;;;;;;;;;;;AC/IA;AACO,IAAIA,0CAAiB;AACxBC,WAAQ;AACJC,mBAAY,IADR;AAEJC,gBAAS,MAFL;AAGJC,eAAQ;AACJC,6BAAkB;AADd,SAHJ;AAMJC,gBAAS;AACLD,6BAAkB,SADb;AAELE,uBAAY;AAFP,SANL;AAUJC,eAAQ;AACJH,6BAAkB;AADd;;AAVJ;AADgB,CAArB;;AAkBP;AACO,IAAII,kCAAa;AACpBR,WAAQ;AACJS,eAAQ,MADJ;AAEJP,gBAAS,CAFL;AAGJE,yBAAiB;AAHb;AADY,CAAjB;;AAQP;AACO,IAAIM,sCAAe;AACtBV,WAAQ;AACJS,eAAQ,MADJ;AAEJP,gBAAS,EAFL;AAGJE,yBAAiB,SAHb;AAIJD,eAAQ;AACJC,6BAAkB;AADd,SAJJ;AAOJC,gBA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","file":"bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules, executeModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [], result;\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules, executeModules);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// objects to store loaded and loading chunks\n \tvar installedChunks = {\n \t\t3: 0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData === 0) {\n \t\t\treturn new Promise(function(resolve) { resolve(); });\n \t\t}\n\n \t\t// a Promise means \"currently loading\".\n \t\tif(installedChunkData) {\n \t\t\treturn installedChunkData[2];\n \t\t}\n\n \t\t// setup Promise in chunk cache\n \t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t});\n \t\tinstalledChunkData[2] = promise;\n\n \t\t// start chunk loading\n \t\tvar head = document.getElementsByTagName('head')[0];\n \t\tvar script = document.createElement('script');\n \t\tscript.type = 'text/javascript';\n \t\tscript.charset = 'utf-8';\n \t\tscript.async = true;\n \t\tscript.timeout = 120000;\n\n \t\tif (__webpack_require__.nc) {\n \t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t}\n \t\tscript.src = __webpack_require__.p + \"\" + ({\"0\":\"setTerrainView\",\"1\":\"selectMapView\",\"2\":\"newMapView\"}[chunkId]||chunkId) + \".chunk.js\";\n \t\tvar timeout = setTimeout(onScriptComplete, 120000);\n \t\tscript.onerror = script.onload = onScriptComplete;\n \t\tfunction onScriptComplete() {\n \t\t\t// avoid mem leaks in IE.\n \t\t\tscript.onerror = script.onload = null;\n \t\t\tclearTimeout(timeout);\n \t\t\tvar chunk = installedChunks[chunkId];\n \t\t\tif(chunk !== 0) {\n \t\t\t\tif(chunk) {\n \t\t\t\t\tchunk[1](new Error('Loading chunk ' + chunkId + ' failed.'));\n \t\t\t\t}\n \t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t}\n \t\t};\n \t\thead.appendChild(script);\n\n \t\treturn promise;\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7b18c18ffcff1ef89a37","//顶部工具栏按钮\r\nexport let navButtonStyle = {\r\n    style : {\r\n        autoWidth : true,\r\n        height : \"100%\",\r\n        hover : {\r\n            backgroundColor : \"#bfbfbf\"\r\n        },\r\n        active : {\r\n            backgroundColor : \"#FF8501\",\r\n            fontColor : \"#ffffff\"\r\n        },\r\n        focus : {\r\n            backgroundColor : \"#f1f1f1\"\r\n        }\r\n\r\n    }\r\n};\r\n\r\n//顶部工具栏下拉分割线\r\nexport let navDivider = {\r\n    style : {\r\n        width : \"100%\",\r\n        height : 1,\r\n        backgroundColor: \"#ABABAB\"\r\n    }\r\n};\r\n\r\n//顶部工具栏下拉选项按钮\r\nexport let navItemStyle = {\r\n    style : {\r\n        width : \"100%\",\r\n        height : 35,\r\n        backgroundColor: \"#DCDCDC\",\r\n        hover : {\r\n            backgroundColor : \"#E9E9E9\"\r\n        },\r\n        active : {\r\n            backgroundColor : \"#FF8501\",\r\n            fontColor : \"#ffffff\"\r\n        }\r\n    },\r\n    animation : {\r\n        backgroundColor : {\r\n            duration : \"300ms\",\r\n            easeType : \"Linear\",\r\n            easing : \"ease\"\r\n        }\r\n    }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/main/style/nav.js","export default {\r\n    serverUrl : \"http://localhost:3000\"\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/config.js","/**\r\n * Created by heju on 2017/7/19.\r\n */\r\nimport route from \"./main/view/route.js\";\r\n\r\nclass Main {\r\n    constructor(){\r\n        let mainBox = document.getElementById(\"mainBox\");\r\n        mainBox.style.width = window.innerWidth + \"px\";\r\n        mainBox.style.height = window.innerHeight + \"px\";\r\n\r\n        var monk = new window.monk.Main(\"mainBox\");\r\n\r\n        monk.run(route);\r\n    }\r\n}\r\n\r\nlet main = new Main();\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","/**\r\n * Created by heju on 2017/7/27.\r\n */\r\nimport mainView from \"./mainView.js\";\r\n\r\nexport default {\r\n    id : \"mainRoute\",\r\n    type : \"route\",\r\n    routes : {\r\n        \"main\" : {\r\n            view : mainView,\r\n            default : true\r\n        },\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/main/view/route.js","import MainController from \"../controller/mainController.js\";\r\nimport fileView from \"./dropdown/fileView.js\";\r\nimport mapView from \"./dropdown/mapView.js\";\r\nimport {navButtonStyle} from \"../style/nav.js\";\r\n\r\nconst TOP_HEIGHT = 30;\r\n\r\nexport default {\r\n    id : \"mainView\",\r\n    controller : MainController,\r\n    type : \"rect\",\r\n    style : {\r\n        x : 0,\r\n        y : 0,\r\n        width : \"100%\",\r\n        height : \"100%\",\r\n        backgroundColor : \"#ffffff\"\r\n    },\r\n    children : [\r\n        //工具栏\r\n        {\r\n            type : \"rect\",\r\n            style : {\r\n                x : 0,\r\n                y : 0,\r\n                width : \"100%\",\r\n                height : TOP_HEIGHT,\r\n                backgroundColor : \"#aeaeae\"\r\n            },\r\n            children : [\r\n                {\r\n                    type : \"rect\",\r\n                    style : {\r\n                        x : 10,\r\n                        y : 0,\r\n                        autoWidth : true,\r\n                        height : \"100%\",\r\n                        layout : {\r\n                            type : \"linearLayout\",\r\n                            orientation : \"horizontal\"\r\n                        }\r\n                    },\r\n                    children : [\r\n                        {\r\n                            type : \"button\",\r\n                            style : navButtonStyle.style,\r\n                            text : \"文件\",\r\n                            animation : navButtonStyle.animation,\r\n                            events : {\r\n                                \"click\" : {\r\n                                    callback : \"showDropdownView\",\r\n                                    param : (self)=>{\r\n                                        return [0, self];\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        {\r\n                            type : \"button\",\r\n                            style : navButtonStyle.style,\r\n                            text : \"地图\",\r\n                            animation : navButtonStyle.animation,\r\n                            events : {\r\n                                \"click\" : {\r\n                                    callback : \"showDropdownView\",\r\n                                    param : (self)=>{\r\n                                        return [1, self];\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    id : \"top_tool_terrainShowLabel\",\r\n                    type: \"rect\",\r\n                    style: {\r\n                        x: function(){\r\n                            return this.parent.getWidth() - 180\r\n                        },\r\n                        y: 0,\r\n                        autoWidth: true,\r\n                        autoLine : false,\r\n                        height: \"100%\",\r\n                        lineHeight : TOP_HEIGHT,\r\n                        fontSize : \"16px\",\r\n                        fontColor : \"#666666\"\r\n                    },\r\n                    active : false\r\n                }\r\n            ]\r\n        },\r\n        fileView(TOP_HEIGHT),\r\n        mapView(TOP_HEIGHT),\r\n        //编辑区域\r\n        {\r\n            id : \"edit_area\",\r\n            type : \"rect\",\r\n            style : {\r\n                x : 0,\r\n                y : TOP_HEIGHT,\r\n                width : \"100%\",\r\n                height : function(){\r\n                    return this.parent.getHeight() - TOP_HEIGHT;\r\n                },\r\n                backgroundColor : \"#f4f4f4\"\r\n            }\r\n        },\r\n        (get) => {\r\n            return new Promise((resolve, reject)=>{\r\n                require.ensure([], require => {\r\n                    get(require(\"../../window/newMap/view/newMapView.js\").default, resolve, reject);\r\n                },'newMapView');\r\n            });\r\n        },\r\n        (get) => {\r\n            return new Promise((resolve, reject)=>{\r\n                require.ensure([], require => {\r\n                    get(require(\"../../window/setTerrain/view/setTerrainView.js\").default, resolve, reject);\r\n                },'setTerrainView');\r\n            });\r\n        },\r\n        (get) => {\r\n            return new Promise((resolve, reject)=>{\r\n                require.ensure([], require => {\r\n                    get(require(\"../../window/selectMap/view/selectMapView.js\").default, resolve, reject);\r\n                },'selectMapView');\r\n            });\r\n        }\r\n    ]\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/main/view/mainView.js","/**\r\n * Created by heju on 2017/7/14.\r\n */\r\nimport mapView from \"../view/map/mapView.js\";\r\nimport config from \"../../config.js\";\r\n\r\nexport default class MainController extends window.monk.Controller{\r\n    constructor(component) {\r\n        super(component);\r\n\r\n        this.registerEvent(\"$onViewLoaded\", ()=>{\r\n            this.dropdownViews = [];\r\n            this.dropdownViews.push(this.viewState.getComponentById(\"dropdown_fileView\"));\r\n            this.dropdownViews.push(this.viewState.getComponentById(\"dropdown_mapView\"));\r\n\r\n            let mainView = this.viewState.getComponentById(\"mainView\");\r\n            mainView.registerEvent(\"click\", this.onClickRoot.bind(this));\r\n        });\r\n    }\r\n\r\n    hideAllDropdownViews()\r\n    {\r\n        this.dropdownViews.forEach((view)=>{\r\n            view.active = false;\r\n        });\r\n    }\r\n\r\n    showDropdownView(param, e){\r\n        this.hideAllDropdownViews();\r\n        let x = param[1].getX() + param[1].parent.getX();\r\n        this.dropdownViews[param[0]].setX(x);\r\n        this.dropdownViews[param[0]].active = true;\r\n        e.stopPropagation();\r\n    }\r\n\r\n    onClickRoot(){\r\n        this.hideAllDropdownViews();\r\n    }\r\n\r\n    openNewMapDlg(e){\r\n        let newMapWindow = this.viewState.getComponentById(\"new_map_window\");\r\n        newMapWindow.controller.clearForm();\r\n        newMapWindow.controller.center().openWindow({\r\n            okCallback : (data)=>{\r\n                let parent = this.component.getComponentById(\"edit_area\");\r\n                this.mapComponent = new window.monk.components.Rect(parent);\r\n                this.mapComponent.initCfg(mapView(data));\r\n                parent.appendChildren(this.mapComponent);\r\n            }\r\n        });\r\n    }\r\n\r\n    openSetTerrainDlg(e){\r\n        let setTerrainWindow = this.viewState.getComponentById(\"set_terrain_window\");\r\n        setTerrainWindow.controller.center().openWindow({\r\n            okCallback : (data)=>{\r\n                if (this.mapComponent)\r\n                {\r\n                    if (data.trrainBlock)//选中“设置地形为障碍物”标识当前正在设置障碍物\r\n                    {\r\n                        this.mapComponent.controller.isSetTerrain = false;\r\n                    }\r\n                    else\r\n                    {\r\n                        this.mapComponent.controller.isSetTerrain = true;\r\n                    }\r\n                    this.mapComponent.controller.terrain = data.terrain;\r\n                    let terrainShowLabel = this.viewState.getComponentById(\"top_tool_terrainShowLabel\");\r\n                    if (data.terrain && data.terrain !== \"0\")\r\n                    {\r\n                        terrainShowLabel.setText(\"当前设置地形：\" + data.terrain);\r\n                    }\r\n                    else\r\n                    {\r\n                        terrainShowLabel.setText(\"\");\r\n                    }\r\n                    terrainShowLabel.setX(terrainShowLabel.parent.getWidth() - terrainShowLabel.getWidth());\r\n                    terrainShowLabel.active = true;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    saveMap(e){\r\n        window.monk.httpUtil.post(config.serverUrl + \"/saveMap\", {\r\n            mapName : this.mapComponent.controller.mapName,\r\n            mapData : JSON.stringify(this.mapComponent.controller.mapData)\r\n        }).then((data)=>{\r\n            data = JSON.parse(data);\r\n            if (data.code === 200)\r\n            {\r\n                window.monk.commonUtil.popMessageTooltip(\"保存成功！\");\r\n            }\r\n        });\r\n    }\r\n\r\n    loadMap(){\r\n        let selectMapWindow = this.viewState.getComponentById(\"select_map_window\");\r\n        selectMapWindow.controller.center().openWindow({\r\n            okCallback : (data)=>{\r\n            }\r\n        });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/main/controller/mainController.js","import MapController from \"../../controller/map/mapController.js\";\r\n\r\nexport default (data)=>{\r\n    return {\r\n        name : \"mapCom\",\r\n        controller : MapController,\r\n        controllerParam : data,\r\n        type : \"rect\",\r\n        style : {\r\n            x : 0,\r\n            y : 0,\r\n            width : 0,\r\n            height : 0,\r\n            backgroundColor : \"#c8c8c8\",\r\n            draggable : true\r\n        }\r\n    };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/main/view/map/mapView.js","export default class MapController extends window.monk.Controller {\r\n    constructor(component, data) {\r\n        super(component);\r\n\r\n        this.mapName = data.mapName;\r\n        this.width = parseInt(data.width, 10);\r\n        this.height = parseInt(data.height, 10);\r\n        this.size = parseInt(data.size, 10);\r\n\r\n        this.startCoors = undefined;//多选开始坐标\r\n        this.endCoors = undefined;//多选结束坐标\r\n        this.selectedCoors = undefined;//选中的坐标集合\r\n        this.terrain = undefined;//当前指定的地形\r\n        this.isSetTerrain = false;//是否正在设置地形\r\n\r\n        this.initMapData();\r\n\r\n        this.component.setStyle({\r\n            width : this.width * this.size,\r\n            height : this.height * this.size\r\n        });\r\n\r\n        this.component.registerEvent(\"mousedown\", (e)=>{\r\n            if (e.button === 2)//右键点击\r\n            {\r\n                //鼠标相对于面板的x,y值\r\n                let mx = e.pageX - this.component.getRealX();\r\n                let my = e.pageY - this.component.getRealY();\r\n\r\n                let x = Math.floor(mx / this.size);\r\n                let y = Math.floor(my / this.size);\r\n                this.startCoors = {x : x, y : y};\r\n            }\r\n        });\r\n        this.component.registerEvent(\"mousemove\", (e)=>{\r\n            if (this.startCoors)\r\n            {\r\n                //鼠标相对于面板的x,y值\r\n                let mx = e.pageX - this.component.getRealX();\r\n                let my = e.pageY - this.component.getRealY();\r\n\r\n                let x = Math.floor(mx / this.size);\r\n                let y = Math.floor(my / this.size);\r\n\r\n                this.endCoors = {x : x, y : y};\r\n            }\r\n        });\r\n        this.component.registerEvent(\"mouseup\", (e)=>{\r\n            if (e.button === 2)//右键点击\r\n            {\r\n                if (this.startCoors && this.endCoors)//批量设置\r\n                {\r\n                    let minX = Math.min(this.startCoors.x, this.endCoors.x);\r\n                    let maxX = Math.max(this.startCoors.x, this.endCoors.x);\r\n                    let minY = Math.min(this.startCoors.y, this.endCoors.y);\r\n                    let maxY = Math.max(this.startCoors.y, this.endCoors.y);\r\n                    if (this.isSetTerrain)\r\n                    {\r\n                        this.setMapDataBatch(minX, maxX, minY, maxY, \"terrain\", this.terrain);\r\n                    }\r\n                    else\r\n                    {\r\n                        this.setMapDataBatch(minX, maxX, minY, maxY, \"block\", !this.mapData[minX][minY].block);\r\n                    }\r\n\r\n                    this.selectedCoors = {\r\n                        minX : minX,\r\n                        maxX : maxX,\r\n                        minY : minY,\r\n                        maxY : maxY\r\n                    };\r\n                }\r\n                else\r\n                {\r\n                    //鼠标相对于面板的x,y值\r\n                    let mx = e.pageX - this.component.getRealX();\r\n                    let my = e.pageY - this.component.getRealY();\r\n\r\n                    let x = Math.floor(mx / this.size);\r\n                    let y = Math.floor(my / this.size);\r\n                    if (this.isSetTerrain)\r\n                    {\r\n                        this.setMapData(x, y, \"terrain\", this.terrain);\r\n                    }\r\n                    else\r\n                    {\r\n                        this.setMapData(x, y, \"block\", !this.mapData[x][y].block);\r\n                    }\r\n\r\n                    this.selectedCoors = {\r\n                        x : x,\r\n                        y : y\r\n                    };\r\n                }\r\n                this.startCoors = undefined;\r\n                this.endCoors = undefined;\r\n            }\r\n        });\r\n    }\r\n\r\n    //初始化地图数据\r\n    initMapData(){\r\n        this.mapData = [];\r\n        for (let i = 0; i < this.width; i++)\r\n        {\r\n            this.mapData[i] = [];\r\n            for (let j = 0; j < this.height; j++)\r\n            {\r\n                this.mapData[i][j] = {\r\n                    block : false,//是否障碍物\r\n                    terrain : 0//地形：无\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\n    //设置指定位置的地图数据\r\n    setMapData(x, y, key, value){\r\n        this.mapData[x][y][key] = value;\r\n    }\r\n    //批量设置指定位置的地图数据\r\n    setMapDataBatch(minX, maxX, minY, maxY, key, value){\r\n        for (let x = minX; x <= maxX; x++)\r\n        {\r\n            for (let y = minY; y <= maxY; y++)\r\n            {\r\n                this.setMapData(x, y, key, value);\r\n            }\r\n        }\r\n    }\r\n\r\n    draw(ctx)\r\n    {\r\n        //绘制地图方格\r\n        ctx.lineWidth = 1;\r\n        ctx.strokeStyle=\"#6a6a6a\";\r\n        ctx.globalAlpha=1;\r\n\r\n        for (let x = 0; x <= this.width; x++)\r\n        {\r\n            for (let y = 0; y <= this.height; y++)\r\n            {\r\n                //绘制障碍物\r\n                ctx.beginPath();\r\n                ctx.fillStyle=\"#000000\";\r\n                if (this.mapData && this.mapData[x] && this.mapData[x][y] && this.mapData[x][y].block\r\n                    && x < this.width && y < this.height)\r\n                {\r\n                    ctx.rect(this.component.getRealX() + (x * this.size), this.component.getRealY() + (y * this.size),\r\n                        this.size, this.size);\r\n                    ctx.fill();\r\n                }\r\n                ctx.closePath();\r\n\r\n                //绘制地形\r\n                ctx.beginPath();\r\n                if (this.mapData && this.mapData[x] && this.mapData[x][y] && this.mapData[x][y].terrain\r\n                    && this.mapData[x][y].terrain !== \"0\")\r\n                {\r\n                    let FONT_SIZE = 15;\r\n                    ctx.font = FONT_SIZE + \"px Microsoft YaHei\";\r\n                    ctx.fillStyle = \"#ff0000\";\r\n                    ctx.textBaseline=\"hanging\";\r\n                    ctx.fillText(this.mapData[x][y].terrain,\r\n                        this.component.getRealX() + (x * this.size),\r\n                        this.component.getRealY() + (y * this.size) + (this.size / 2 - FONT_SIZE / 2));\r\n                }\r\n                ctx.closePath();\r\n            }\r\n        }\r\n\r\n        //画线\r\n        ctx.beginPath();\r\n        for (let x = 0; x <= this.width; x++)\r\n        {\r\n            for (let y = 0; y <= this.height; y++)\r\n            {\r\n                ctx.moveTo(this.component.getRealX(), this.component.getRealY() + (x * this.size));\r\n                ctx.lineTo(this.component.getRealX() + this.component.getWidth(), this.component.getRealY() + (x * this.size));\r\n                ctx.moveTo(this.component.getRealX() + (y * this.size), this.component.getRealY());\r\n                ctx.lineTo(this.component.getRealX() + (y * this.size), this.component.getRealY() + this.component.getHeight());\r\n            }\r\n        }\r\n        ctx.stroke();\r\n        ctx.closePath();\r\n\r\n\r\n        //绘制多选区域\r\n        if (this.startCoors && this.endCoors)\r\n        {\r\n            ctx.beginPath();\r\n            ctx.fillStyle=\"#337ab7\";\r\n            ctx.globalAlpha=0.6;\r\n            let minX = Math.min(this.startCoors.x, this.endCoors.x);\r\n            let maxX = Math.max(this.startCoors.x, this.endCoors.x);\r\n            let minY = Math.min(this.startCoors.y, this.endCoors.y);\r\n            let maxY = Math.max(this.startCoors.y, this.endCoors.y);\r\n            ctx.rect(this.component.getRealX() + (minX * this.size), this.component.getRealY() + (minY * this.size),\r\n                (maxX * this.size) - (minX * this.size) + this.size, (maxY * this.size) - (minY * this.size) + this.size);\r\n            ctx.fill();\r\n            ctx.closePath();\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/main/controller/map/mapController.js","import {navItemStyle,navDivider} from \"../../style/nav.js\";\r\n\r\nexport default (TOP_HEIGHT)=>{\r\n    return {\r\n        id : \"dropdown_fileView\",\r\n        type: \"rect\",\r\n        style: {\r\n            x: 10,\r\n            y: TOP_HEIGHT,\r\n            width: 100,\r\n            autoHeight : true,\r\n            backgroundColor: \"#DCDCDC\",\r\n            borderWidth : 1,\r\n            borderColor : \"#ABABAB\",\r\n            layout : {\r\n                type : \"linearLayout\",\r\n                orientation : \"vertical\"\r\n            },\r\n            zIndex : 2\r\n        },\r\n        active : false,\r\n        children : [\r\n            {\r\n                type : \"button\",\r\n                style : navItemStyle.style,\r\n                text : \"新建地图\",\r\n                animation : navItemStyle.animation,\r\n                events : {\r\n                    \"click\" : \"openNewMapDlg\"\r\n                }\r\n            },\r\n            {\r\n                type: \"rect\",\r\n                style: navDivider.style\r\n            },\r\n            {\r\n                type : \"button\",\r\n                style : navItemStyle.style,\r\n                text : \"加载地图\",\r\n                animation : navItemStyle.animation,\r\n                events : {\r\n                    \"click\" : \"loadMap\"\r\n                }\r\n            },\r\n            {\r\n                type: \"rect\",\r\n                style: navDivider.style\r\n            },\r\n            {\r\n                type : \"button\",\r\n                style : navItemStyle.style,\r\n                text : \"保存地图\",\r\n                animation : navItemStyle.animation,\r\n                events : {\r\n                    \"click\" : \"saveMap\"\r\n                }\r\n            }\r\n        ]\r\n    };\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/main/view/dropdown/fileView.js","import {navItemStyle,navDivider} from \"../../style/nav.js\";\r\n\r\nexport default (TOP_HEIGHT)=>{\r\n    return {\r\n        id : \"dropdown_mapView\",\r\n        type: \"rect\",\r\n        style: {\r\n            x: 10,\r\n            y: TOP_HEIGHT,\r\n            width: 100,\r\n            autoHeight : true,\r\n            backgroundColor: \"#DCDCDC\",\r\n            borderWidth : 1,\r\n            borderColor : \"#ABABAB\",\r\n            layout : {\r\n                type : \"linearLayout\",\r\n                orientation : \"vertical\"\r\n            },\r\n            zIndex : 2\r\n        },\r\n        active : false,\r\n        children : [\r\n            {\r\n                type : \"button\",\r\n                style : navItemStyle.style,\r\n                text : \"设置地形\",\r\n                animation : navItemStyle.animation,\r\n                events : {\r\n                    \"click\" : \"openSetTerrainDlg\"\r\n                }\r\n            }\r\n        ]\r\n    };\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/main/view/dropdown/mapView.js"],"sourceRoot":""}