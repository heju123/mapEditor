{"version":3,"sources":["webpack:///webpack/bootstrap a88e0f735fa4f63d804e","webpack:///./src/js/util/globalUtil.js","webpack:///./src/js/util/commonUtil.js","webpack:///./src/js/ui/components/rect.js","webpack:///./src/js/ui/components/panel.js","webpack:///./src/js/event/type/event.js","webpack:///./src/js/ui/components/input.js","webpack:///./src/js/ui/components/scrollbar.js","webpack:///./src/js/main.js","webpack:///./src/js/ui/fps.js","webpack:///./src/js/ui/viewState.js","webpack:///./src/js/ui/components/component.js","webpack:///./src/js/ui/components/button.js","webpack:///./src/js/ui/components/router.js","webpack:///./src/js/event/eventBus.js","webpack:///./src/js/event/eventListener.js","webpack:///./src/js/event/type/clickEvent.js","webpack:///./src/js/event/type/mouseEvent.js","webpack:///./src/js/event/type/keyEvent.js","webpack:///./src/js/event/type/wheelEvent.js","webpack:///./src/js/data/structure/stack.js","webpack:///./src/js/event/eventNotify.js","webpack:///./src/js/util/httpUtil.js","webpack:///./src/js/ui/controller.js","webpack:///./src/js/ui/components/game/sprite.js"],"names":["globalUtil","commonUtil","asyncLoadedScripts","asyncLoadedScriptsCallbackQueue","getScriptDomFromUrl","url","dom","test","document","createElement","setAttribute","href","type","rel","asyncLoadScript","callback","$this","undefined","push","apply","scriptDom","readyState","onreadystatechange","i","j","length","onload","getElementsByTagName","appendChild","concatList","list","addList","forEach","item","isEmptyObj","obj","key","copyObject","dest","override","result","copyArray","getArrayInfoByKey","arr","value","inArray","object","Rect","parent","cfg","ctx","save","beginPath","setCommonStyle","style","backgroundColor","fillStyle","borderRadius","getRectRadiusPath","rect","getRealX","getRealY","getWidth","getHeight","fill","setClip","backgroundImage","backgroundImageDom","backgroundImageClip","drawImage","restore","closePath","borderWidth","bcolor","borderColor","lineWidth","strokeStyle","stroke","text","font","fontSize","fontFamily","textBaseline","row","index","char","cindex","fillText","getTextRealX","parseInt","getTextRealY","lineHeight","getRealXRecursion","getRealYRecursion","getInnerWidth","getInnerHeight","clip","arguments","getRectRadiusPath_self","getRectRadiusPath_xywh","self","radius","padding","px","py","pwidth","pheight","x","y","width","height","moveTo","lineTo","arcTo","com","Panel","controller","child","propagationDoLayout","allWeight","children","layout","layoutWeight","fixByWeight","getAllWeight","allWH","weight","orientation","setX","setY","setWidth","setHeight","autoWidth","autoHeight","Event","propagation","immediatePropagation","target","currentTarget","Input","showTextCursor","showTextCursorInterval","multiLine","scrollText","action","focusComponent","drawTextCursor","selectionEnd","inputListenerDom","textRow","textCursorX","textCursorY","compositionMode","getTextCursorPos","mx","my","getText","textX","textY","charCount","setSelectionRange","oriY","doLayout","Scrollbar","viewState","setStyle","contentScrollX","contentScrollY","showHScroll","showVScroll","scrollbarBaseLineV","produceLine","baseLineColor","baseLineAlpha","active","scrollbarOpeLineV","opeLineColor","opeLineAlpha","hover","alpha","appendChildren","scrollbarBaseLineH","scrollbarOpeLineH","registerEvent","doMouseDown","bind","doMouseMoveBind","doMouseMove","doMouseUpBind","doMouseUp","doMouseWheel","initScrollbar","hoverComponent","parentOf","onScrollObj","e","pageX","pageY","opeLine","onScrollMDOffset","mp","setVal","maxVal","Math","max","min","contentHeight","setScrollY","contentWidth","setScrollX","wheelDelta","wheelVal","scrollObjY","oritation","lineColor","require","default","swidth","scrollbarWidth","scrollbarRadius","scrollbarX","scrollbarY","line","init","maxWidth","maxHeight","getTextHeight","getTextWidth","getX","getY","removeEvent","Main","eleId","mainBody","getElementById","fps","position","left","top","body","viewCfg","setMainView","startLoop","window","Monk","httpUtil","Controller","Fps","canvas","offsetWidth","offsetHeight","getContext","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","eventBus","draw","saveStyle","getChildren","Array","sort","a","b","zIndex","drawView","restoreClip","restoreStyle","fillRect","beforeDraw","rootPanel","afterDraw","ViewState","isViewState","defaultFontFamily","defaultFontSize","mouseAction","activeComponent","onFocus","focus","addEventListener","setVal2FocusCom","initCfg","doNotifyEvent","hoverCom","propagationEvent","setText","eventNotify","captureEvent","val","retCom","getComponentInChildrenByKey","id","eventType","removeAllEvent","Component","eventNotifys","originalStyle","autoLine","img","Image","src","cfgStyle","current","initCfgStyle","name","getTextForRows","events","eventInfo","funName","param","getController","initChildrenCfg","childrenCfg","chiCfg","produceChildrenByCfg","Button","Sprite","childCom","asyncGetView","resolve","reject","panel","parentArea","inParentArea","focusEnable","hoverEnable","activeEnable","isPointInComponent","checkEvent","globalAlpha","setStyle_obj","setStyle_kv","scrollX","scrollY","oriX","textAlign","textLength","textScrollX","textScrollY","toString","indexOf","substring","rowsStr","charWidth","charAt","split","c","map","join","allWidth","destroy","Router","routes","rCfg","loader","view","isLoaded","currentRoute","getChildrenView","currentChildren","retChild","Promise","then","destory","destroyRoute","splice","EventBus","eventListeners","eventNotifyQueue","propagationEventQueue","initDomEvent","attachEvent","createEventNotify","createOtherEventNotify","batchNo","Date","getTime","event","createPropagationStack","listener","set","setSourceEvent","addEventNotify","ntype","eventFun","bubble","getTop","pop","getEvent","setTarget","setCurrentTarget","setButton","sourceEvent","button","setPageX","setPageY","setKey","setKeyCode","keyCode","setWheelDelta","detail","getEventListener","eventListener","EventListener","ClickEvent","MouseEvent","KeyEvent","WheelEvent","Stack","data","next","ret","EventNotify","getGetParamStr","normal","str","get","purl","xmlhttp","XMLHttpRequest","ActiveXObject","status","response","open","send","post","errCallback","$","ajax","contentType","JSON","stringify","success","textStatus","jqXHR","error","errorThrown"],"mappings":"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","file":"monk.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a88e0f735fa4f63d804e","/**\r\n * Created by heju on 2017/7/25.\r\n */\r\nlet globalUtil = {\r\n};\r\nexport default globalUtil;\n\n\n// WEBPACK FOOTER //\n// ./src/js/util/globalUtil.js","/**\r\n * Created by heju on 2017/7/14.\r\n */\r\nlet commonUtil = {\r\n    asyncLoadedScripts: {},\r\n    asyncLoadedScriptsCallbackQueue: {},\r\n    getScriptDomFromUrl : (url)=>{\r\n        let dom;\r\n        if (/.+\\.js$/.test(url))\r\n        {\r\n            dom = document.createElement(\"SCRIPT\");\r\n            dom.setAttribute(\"type\", \"text/javascript\");\r\n            dom.setAttribute(\"src\", url);\r\n        }\r\n        else if(/.+\\.css$/.test(url))\r\n        {\r\n            dom = document.createElement('link');\r\n            dom.href = url;\r\n            dom.type = \"text/css\";\r\n            dom.rel=\"stylesheet\";\r\n        }\r\n        return dom;\r\n    },\r\n    /**\r\n     * 异步加载script或css\r\n     */\r\n    asyncLoadScript: (url, callback) => {\r\n        let $this = commonUtil;\r\n        if ($this.asyncLoadedScripts[url] != undefined)//已加载script标签\r\n        {\r\n            if (callback && typeof(callback) == \"function\") {\r\n                if ($this.asyncLoadedScripts[url] == 0)//未执行首个script标签的回调\r\n                {\r\n                    if (!$this.asyncLoadedScriptsCallbackQueue[url]) {\r\n                        $this.asyncLoadedScriptsCallbackQueue[url] = [];\r\n                    }\r\n                    $this.asyncLoadedScriptsCallbackQueue[url].push(callback);\r\n                }\r\n                else {\r\n                    callback.apply($this, []);\r\n                }\r\n            }\r\n            return;\r\n        }\r\n        $this.asyncLoadedScripts[url] = 0;\r\n        let scriptDom = $this.getScriptDomFromUrl(url);\r\n        if (scriptDom.readyState) {\r\n            scriptDom.onreadystatechange = function () {\r\n                if (scriptDom.readyState == \"loaded\" || scriptDom.readyState == \"complete\") {\r\n                    scriptDom.onreadystatechange = null;\r\n                    $this.asyncLoadedScripts[url] = 1;\r\n                    if (callback && typeof(callback) == \"function\") {\r\n                        callback.apply($this, []);\r\n                    }\r\n                    if ($this.asyncLoadedScriptsCallbackQueue[url]) {\r\n                        for (let i = 0, j = $this.asyncLoadedScriptsCallbackQueue[url].length; i < j; i++) {\r\n                            $this.asyncLoadedScriptsCallbackQueue[url][i].apply($this, []);\r\n                        }\r\n                        $this.asyncLoadedScriptsCallbackQueue[url] = undefined;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            scriptDom.onload = function () {\r\n                $this.asyncLoadedScripts[url] = 1;\r\n                if (callback && typeof(callback) == \"function\") {\r\n                    callback.apply($this, []);\r\n                }\r\n                if ($this.asyncLoadedScriptsCallbackQueue[url]) {\r\n                    for (let i = 0, j = $this.asyncLoadedScriptsCallbackQueue[url].length; i < j; i++) {\r\n                        $this.asyncLoadedScriptsCallbackQueue[url][i].apply($this, []);\r\n                    }\r\n                    $this.asyncLoadedScriptsCallbackQueue[url] = undefined;\r\n                }\r\n            }\r\n        }\r\n        document.getElementsByTagName('head')[0].appendChild(scriptDom);\r\n    },\r\n    concatList : (list, addList)=>{\r\n        addList.forEach((item)=>{\r\n            list.push(item);\r\n        });\r\n    },\r\n    isEmptyObj : (obj)=>{\r\n        for (let key in obj)\r\n        {\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n    /**\r\n     * 复制对象\r\n     * @param obj 待复制的对象\r\n     * @param dest 复制到目标对象\r\n     * @param override 是否覆盖属性，false:如果dest存在相同不为空的属性，则不做复制操作，true:只复制obj不为空的属性\r\n     * @return 复制的目标对象\r\n     */\r\n    copyObject : (obj, dest, override)=>{\r\n        if (override == undefined)\r\n        {\r\n            override = true;\r\n        }\r\n        let result = dest || {};\r\n        for (let key in obj)\r\n        {\r\n            if (!override && result[key])\r\n            {\r\n                continue;\r\n            }\r\n            else\r\n            {\r\n                if (!obj[key] && obj[key] != 0)\r\n                {\r\n                    continue;\r\n                }\r\n                result[key] = obj[key];\r\n            }\r\n        }\r\n        return result;\r\n    },\r\n    copyArray : (obj)=>{\r\n        let result = [];\r\n        for (let i = 0, j = obj.length; i < j; i++)\r\n        {\r\n            if (typeof(obj[i]) == \"object\")\r\n            {\r\n                result[i] = commonUtil.copyObject(obj[i]);\r\n            }\r\n            else\r\n            {\r\n                result[i] = obj[i];\r\n            }\r\n        }\r\n        return result;\r\n    },\r\n    /**\r\n     * 用key值获取数组\r\n     * @param arr 数组\r\n     * @param key 字段名\r\n     * @param value key字段值\r\n     * @return 数组信息\r\n     */\r\n    getArrayInfoByKey : (arr, key, value)=>{\r\n        let item;\r\n        for (let i = 0, j = arr.length; i < j; i++)\r\n        {\r\n            item = arr[i];\r\n            if (item[key] === value)\r\n            {\r\n                return item;\r\n            }\r\n        }\r\n        return undefined;\r\n    },\r\n    /**\r\n     * 判断对象是否在数组中\r\n     * @param arr\r\n     * @param object\r\n     */\r\n    inArray : (arr, object)=>{\r\n        if (arr == undefined || object == undefined)\r\n        {\r\n            return false;\r\n        }\r\n        let item;\r\n        for (let i = 0,j = arr.length; i < j; i++)\r\n        {\r\n            item = arr[i];\r\n            if (item === object)\r\n            {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n};\r\nexport default commonUtil;\n\n\n// WEBPACK FOOTER //\n// ./src/js/util/commonUtil.js","/**\r\n * Created by heju on 2017/7/14.\r\n */\r\nimport commonUtil from \"../../util/commonUtil.js\";\r\nimport globalUtil from \"../../util/globalUtil.js\";\r\nimport Component from \"./component.js\";\r\n\r\nexport default class Rect extends Component{\r\n    constructor(parent) {\r\n        super(parent);\r\n    }\r\n\r\n    initCfg(cfg){\r\n        super.initCfg(cfg);\r\n    }\r\n\r\n    draw(ctx){\r\n        if (!super.draw(ctx))\r\n        {\r\n            return false;\r\n        }\r\n        ctx.save();\r\n        ctx.beginPath();\r\n        this.setCommonStyle(ctx);\r\n        if (this.style.backgroundColor)\r\n        {\r\n            ctx.fillStyle = this.style.backgroundColor;\r\n            if (this.style.borderRadius)\r\n            {\r\n                this.getRectRadiusPath(this, ctx, this.style.borderRadius);\r\n            }\r\n            else\r\n            {\r\n                ctx.rect(this.getRealX(), this.getRealY(), this.getWidth(), this.getHeight());\r\n            }\r\n            ctx.fill();\r\n        }\r\n        ctx.save();\r\n        this.setClip(ctx);//绘制图片前需要先剪切，避免图片超出当前组件\r\n        if (this.style.backgroundImage && this.backgroundImageDom)\r\n        {\r\n            if (this.style.backgroundImageClip)\r\n            {\r\n                ctx.drawImage(this.backgroundImageDom,\r\n                    this.style.backgroundImageClip[0], this.style.backgroundImageClip[1], this.style.backgroundImageClip[2], this.style.backgroundImageClip[3],\r\n                    this.getRealX(), this.getRealY(), this.getWidth(), this.getHeight());\r\n            }\r\n            else\r\n            {\r\n                ctx.drawImage(this.backgroundImageDom, this.getRealX(), this.getRealY(), this.getWidth(), this.getHeight());\r\n            }\r\n        }\r\n        ctx.restore();\r\n        ctx.closePath();\r\n        if (this.style.borderWidth)\r\n        {\r\n            ctx.beginPath();\r\n            let bcolor = this.style.borderColor || this.style.backgroundColor;\r\n            ctx.lineWidth = this.style.borderWidth;\r\n            ctx.strokeStyle = bcolor;\r\n            if (this.style.borderRadius)\r\n            {\r\n                this.getRectRadiusPath(this, ctx, this.style.borderRadius, -this.style.borderWidth / 2);\r\n            }\r\n            else\r\n            {\r\n                ctx.rect(this.getRealX() + this.style.borderWidth / 2, this.getRealY() + this.style.borderWidth / 2,\r\n                    this.getWidth() - this.style.borderWidth, this.getHeight() - this.style.borderWidth);\r\n            }\r\n            ctx.stroke();\r\n            ctx.closePath();\r\n        }\r\n        ctx.restore();\r\n\r\n        //绘制文字\r\n        ctx.save();\r\n        this.setClip(ctx);\r\n        ctx.beginPath();\r\n        this.setCommonStyle(ctx);\r\n        if (this.text && this.text.length > 0)\r\n        {\r\n            ctx.font=this.style.fontSize + \" \" + this.style.fontFamily;\r\n            ctx.textBaseline=\"hanging\";\r\n            this.text.forEach((row, index)=>{\r\n                row.forEach((char, cindex)=>{\r\n                    ctx.fillText(char, this.getTextRealX() + cindex * parseInt(this.style.fontSize, 10),\r\n                        this.getTextRealY() + this.style.lineHeight / 2 - parseInt(this.style.fontSize, 10) / 2 + this.style.lineHeight * index);\r\n                });\r\n            });\r\n        }\r\n        ctx.restore();\r\n\r\n        return true;\r\n    }\r\n\r\n    /** 设置后避免超出parent范围 */\r\n    setParentClip(ctx){\r\n        if (this.parent)\r\n        {\r\n            if (this.parent.style.borderRadius)\r\n            {\r\n                this.getRectRadiusPath(this.parent, ctx, this.parent.style.borderRadius, -(this.parent.style.borderWidth || 0));//边框也要切掉\r\n            }\r\n            else\r\n            {\r\n                ctx.rect(this.getRealXRecursion(this.parent) + (this.parent.style.borderWidth || 0),\r\n                    this.getRealYRecursion(this.parent) + (this.parent.style.borderWidth || 0),\r\n                    this.parent.getInnerWidth(), this.parent.getInnerHeight());\r\n            }\r\n            ctx.clip();\r\n        }\r\n    }\r\n    /** 设置后避免超出当前组件范围 */\r\n    setClip(ctx){\r\n        if (this.style.borderRadius)\r\n        {\r\n            this.getRectRadiusPath(this, ctx, this.style.borderRadius, -(this.style.borderWidth || 0));\r\n        }\r\n        else\r\n        {\r\n            ctx.rect(this.getRealX() + (this.style.borderWidth || 0),\r\n                this.getRealY() + (this.style.borderWidth || 0),\r\n                this.getInnerWidth(), this.getInnerHeight());\r\n        }\r\n        ctx.clip();\r\n    }\r\n\r\n    getRectRadiusPath(){\r\n        if (arguments.length <= 4)\r\n        {\r\n            this.getRectRadiusPath_self(arguments[0], arguments[1], arguments[2], arguments[3]);\r\n        }\r\n        else\r\n        {\r\n            this.getRectRadiusPath_xywh(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], arguments[6]);\r\n        }\r\n    }\r\n    /**\r\n     * 获取圆角矩形路径\r\n     *\r\n     * @param self 当前组件\r\n     * @param radius 圆角半径\r\n     * @param padding 整体扩大的像素\r\n     */\r\n    getRectRadiusPath_self(self, ctx, radius, padding){\r\n        this.getRectRadiusPath_xywh(self.getRealX(), self.getRealY(), self.getWidth(), self.getHeight(), ctx, radius, padding);\r\n    }\r\n    /**\r\n     * 获取圆角矩形路径\r\n     *\r\n     * @param px 绝对x坐标\r\n     * @param py 绝对y坐标\r\n     * @param pwidth 矩形宽\r\n     * @param pheight 矩形高\r\n     * @param radius 圆角半径\r\n     * @param padding 整体扩大的像素\r\n     */\r\n    getRectRadiusPath_xywh(px, py, pwidth, pheight, ctx, radius, padding){\r\n        padding = padding || 0;\r\n        let x = px - padding;\r\n        let y = py - padding;\r\n        let width = pwidth + padding * 2;\r\n        let height = pheight + padding * 2;\r\n        radius += padding;\r\n        ctx.moveTo(x + radius + padding, y);\r\n        ctx.lineTo(x + width - radius - padding, y);\r\n        ctx.arcTo(x + width, y,x + width, y + radius + padding, radius);\r\n        ctx.lineTo(x + width, y + height - radius - padding);\r\n        ctx.arcTo(x + width, y + height, x + width - radius - padding, y + height, radius);\r\n        ctx.lineTo(x + radius + padding, y + height);\r\n        ctx.arcTo(x, y + height, x, y + height - radius - padding, radius);\r\n        ctx.lineTo(x, y + radius + padding);\r\n        ctx.arcTo(x, y, x + radius + padding, y, radius);\r\n    }\r\n\r\n    /**\r\n     * 是否在parent区域内\r\n     *\r\n     * @return -1：无parent；0：不在范围内；1：在范围内\r\n     */\r\n    inParentArea(com){\r\n        if (!com.parent)\r\n        {\r\n            return -1;\r\n        }\r\n        else{\r\n            if (this.getRealXRecursion(com.parent) + com.parent.getInnerWidth() <= com.getRealX()\r\n                || this.getRealXRecursion(com.parent) >= com.getRealX() + com.getWidth()\r\n                || this.getRealYRecursion(com.parent) + com.parent.getInnerHeight() <= com.getRealY()\r\n                || this.getRealYRecursion(com.parent) >= com.getRealY() + com.getHeight())//不在parent范围内\r\n            {\r\n                return 0;\r\n            }\r\n            else\r\n            {\r\n                return 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 判断鼠标坐标是否在控件范围内\r\n     *\r\n     * @param px 鼠标x\r\n     * @param py 鼠标y\r\n     * @return true：在范围内\r\n     */\r\n    isPointInComponent(px, py){\r\n        if (px >= this.getRealX(this) && px <= this.getRealX(this) + this.getWidth()\r\n            && py >= this.getRealY(this) && py <= this.getRealY(this) + this.getHeight())\r\n        {\r\n            return true;\r\n        }\r\n        else\r\n        {\r\n            return false;\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/components/rect.js","/**\r\n * Created by heju on 2017/7/20.\r\n */\r\nimport Rect from \"./rect.js\";\r\n\r\nexport default class Panel extends Rect{\r\n    constructor(parent){\r\n        super(parent);\r\n    }\r\n\r\n    initCfg(cfg)\r\n    {\r\n        if (cfg.controller && typeof(cfg.controller) == \"function\")\r\n        {\r\n            this.controller = new cfg.controller(this);\r\n        }\r\n        super.initCfg(cfg);\r\n    }\r\n\r\n    appendChildren(child){\r\n        super.appendChildren(child);\r\n\r\n        this.propagationDoLayout(this);\r\n    }\r\n\r\n    /** 获取所有的权值 */\r\n    getAllWeight(){\r\n        let allWeight = 0;\r\n        this.children.forEach((child, index)=>{\r\n            if (child.style.layout && child.style.layout.layoutWeight)\r\n            {\r\n                allWeight += child.style.layout.layoutWeight;\r\n            }\r\n            else\r\n            {\r\n                allWeight += 1;\r\n            }\r\n        });\r\n        return allWeight;\r\n    }\r\n\r\n    doLayout(){\r\n        if (this.style.layout && this.style.layout.type && this.children.length > 0)\r\n        {\r\n            switch(this.style.layout.type)\r\n            {\r\n                case \"linearLayout\" :\r\n                    let fixByWeight = this.style.layout.fixByWeight || false;\r\n                    let allWeight = 0;\r\n                    if (fixByWeight)\r\n                    {\r\n                        allWeight = this.getAllWeight();//总权值\r\n                    }\r\n                    let allWH = 0;//记录高宽，确定x和y坐标\r\n                    this.children.forEach((child, index)=>{\r\n                        let weight = 1;\r\n                        if (child.style.layout && child.style.layout.layoutWeight)\r\n                        {\r\n                            weight = child.style.layout.layoutWeight;\r\n                        }\r\n                        if (!this.style.layout.orientation || this.style.layout.orientation === \"horizontal\")\r\n                        {\r\n                            let width;\r\n                            if (fixByWeight)\r\n                            {\r\n                                width = this.getInnerWidth() * (weight / allWeight);\r\n                            }\r\n                            else\r\n                            {\r\n                                width = child.getWidth();\r\n                            }\r\n                            child.setX(allWH);\r\n                            child.setY(0);\r\n                            child.setWidth(width);\r\n                            allWH += width;\r\n                        }\r\n                        else if (this.style.layout.orientation === \"vertical\")\r\n                        {\r\n                            let height;\r\n                            if (fixByWeight)\r\n                            {\r\n                                height = this.getInnerHeight() * (weight / allWeight);\r\n                            }\r\n                            else\r\n                            {\r\n                                height = child.getHeight();\r\n                            }\r\n                            child.setY(allWH);\r\n                            child.setX(0);\r\n                            child.setHeight(height);\r\n                            allWH += height;\r\n                        }\r\n                    });\r\n                    //自适应高宽\r\n                    if ((!this.style.layout.orientation || this.style.layout.orientation === \"horizontal\")\r\n                        && this.style.autoWidth)\r\n                    {\r\n                        this.setWidth(allWH);\r\n                    }\r\n                    else if ((this.style.layout.orientation === \"vertical\")\r\n                        && this.style.autoHeight)\r\n                    {\r\n                        this.setHeight(allWH);\r\n                    }\r\n                    break;\r\n                default : break;\r\n            }\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/components/panel.js","/**\r\n * Created by heju on 2017/7/25.\r\n */\r\nexport default class Event {\r\n    constructor(type) {\r\n        this.type = type;\r\n        this.propagation = true;\r\n        this.immediatePropagation = true;\r\n    }\r\n\r\n    setTarget(target) {\r\n        this.target = target;\r\n    }\r\n\r\n    setCurrentTarget(target) {\r\n        this.currentTarget = target;\r\n    }\r\n\r\n    stopPropagation()\r\n    {\r\n        this.propagation = false;\r\n    }\r\n\r\n    stopImmediatePropagation(){\r\n        this.immediatePropagation = false;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/event/type/event.js","/**\r\n * Created by heju on 2017/7/30.\r\n */\r\nimport Scrollbar from \"./scrollbar.js\";\r\nimport globalUtil from \"../../util/globalUtil\";\r\nimport commonUtil from \"../../util/commonUtil\";\r\n\r\nexport default class Input extends Scrollbar {\r\n    constructor(parent) {\r\n        super(parent);\r\n\r\n        this.showTextCursor = true;\r\n        this.showTextCursorInterval = 0;\r\n        this.multiLine = false;\r\n        this.scrollText = true;\r\n    }\r\n\r\n    initCfg(cfg){\r\n        super.initCfg(cfg);\r\n    }\r\n\r\n    draw(ctx) {\r\n        if (!super.draw(ctx)) {\r\n            return false;\r\n        }\r\n\r\n        ctx.save();\r\n        this.setClip(ctx);\r\n        ctx.beginPath();\r\n        //focus\r\n        if (globalUtil.action.focusComponent === this) {\r\n            //绘制光标\r\n            this.drawTextCursor(ctx);\r\n        }\r\n        ctx.restore();\r\n        return true;\r\n    }\r\n\r\n    /** 获取文本输入光标位置 */\r\n    getTextCursorPos(){\r\n        let selectionEnd = globalUtil.action.inputListenerDom.selectionEnd;\r\n        let textRow;\r\n        if (this.text && this.text.length > 0)\r\n        {\r\n            for (let i = 0,j = this.text.length; i < j; i++)\r\n            {\r\n                if (selectionEnd <= this.text[i].length)\r\n                {\r\n                    textRow = i;\r\n                    break;\r\n                }\r\n                selectionEnd -= this.text[i].length;\r\n                selectionEnd--;//selectionEnd里包含多余的换行符，所以要减一个换行符\r\n            }\r\n            textRow = textRow === undefined ? this.text.length - 1 : textRow;\r\n        }\r\n        this.textCursorX = selectionEnd * parseInt(this.style.fontSize) + 1;\r\n        this.textCursorY = this.style.lineHeight / 2 - parseInt(this.style.fontSize, 10) / 2 + this.style.lineHeight * (textRow || 0);\r\n    }\r\n\r\n    drawTextCursor(ctx){\r\n        if (this.showTextCursor)\r\n        {\r\n            if (!globalUtil.action.inputListenerDom.compositionMode)\r\n            {\r\n                this.getTextCursorPos();\r\n            }\r\n            ctx.fillStyle=\"#000\";\r\n            ctx.moveTo(this.getTextRealX() + this.textCursorX, this.getTextRealY() + this.textCursorY + 2);\r\n            ctx.lineTo(this.getTextRealX() + this.textCursorX, this.getTextRealY() + this.textCursorY + this.style.lineHeight - 2);\r\n            ctx.stroke();\r\n        }\r\n        this.showTextCursorInterval++;\r\n        if (this.showTextCursorInterval === 30)\r\n        {\r\n            this.showTextCursorInterval = 0;\r\n            this.showTextCursor = !this.showTextCursor;\r\n        }\r\n    }\r\n\r\n    onFocus(mx, my){\r\n        this.showTextCursorInterval = 0;\r\n        this.showTextCursor = true;\r\n        globalUtil.action.inputListenerDom.value = this.getText() || \"\";\r\n\r\n        if (this.text)//点击输入框更改光标位置\r\n        {\r\n            let textX;\r\n            let textY;\r\n            let charCount = 0;\r\n            this.text.forEach((row, index)=>{\r\n                row.forEach((char, cindex)=>{\r\n                    textX = this.getTextRealX() + cindex * parseInt(this.style.fontSize, 10);\r\n                    textY = this.getTextRealY() + this.style.lineHeight / 2 - parseInt(this.style.fontSize, 10) / 2 + this.style.lineHeight * index;\r\n                    if (my >= textY\r\n                        && my <= textY + parseInt(this.style.fontSize, 10)\r\n                        && mx >= textX\r\n                        && mx <= textX + parseInt(this.style.fontSize, 10))\r\n                    {\r\n                        globalUtil.action.inputListenerDom.setSelectionRange(charCount + 1, charCount + 1);\r\n                    }\r\n                    charCount++;\r\n                });\r\n                charCount++;//加上换行符\r\n            });\r\n        }\r\n    }\r\n\r\n    getTextRealX(){\r\n        return super.getTextRealX();\r\n    }\r\n\r\n    getTextRealY(){\r\n        let oriY = super.getTextRealY();\r\n        if (this.multiLine)\r\n        {\r\n            return oriY;\r\n        }\r\n        else\r\n        {\r\n            return oriY + this.getHeight() / 2 - this.style.lineHeight / 2;\r\n        }\r\n    }\r\n\r\n    setText(text){\r\n        super.setText(text);\r\n        this.doLayout();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/components/input.js","import Rect from \"./rect.js\";\r\nimport globalUtil from \"../../util/globalUtil\";\r\n\r\nexport default class Scrollbar extends Rect {\r\n    constructor(parent) {\r\n        super(parent);\r\n\r\n        if (!this.scrollText)\r\n        {\r\n            this.setX(0);\r\n            this.setY(0);\r\n            if (!parent)//最顶层\r\n            {\r\n                this.setWidth(globalUtil.viewState.getWidth());\r\n                this.setHeight(globalUtil.viewState.getHeight());\r\n            }\r\n            else {\r\n                this.setWidth(parent.getInnerWidth());\r\n                this.setHeight(parent.getInnerHeight());\r\n            }\r\n        }\r\n\r\n        this.setStyle({\r\n            contentScrollX : 0, //内容整体滚动的x轴距离\r\n            contentScrollY : 0, //内容整体滚动的y轴距离\r\n            showHScroll : false,//是否显示水平滚动条\r\n            showVScroll : false //是否显示垂直滚动条\r\n        });\r\n    }\r\n\r\n    initScrollbar(){\r\n        //竖向滚动条\r\n        this.scrollbarBaseLineV = this.produceLine(1, this.style.baseLineColor || \"#000\", this.style.baseLineAlpha || 0.25);\r\n        this.scrollbarBaseLineV.active = false;\r\n        this.scrollbarOpeLineV = this.produceLine(1, this.style.opeLineColor || \"#000\", this.style.opeLineAlpha || 0.4);\r\n        this.scrollbarOpeLineV.setStyle({\r\n            hover : {\r\n                alpha : 0.5\r\n            },\r\n            active : {\r\n                alpha : 0.7\r\n            }\r\n        });\r\n        this.scrollbarOpeLineV.type = \"V\";\r\n        this.scrollbarBaseLineV.appendChildren(this.scrollbarOpeLineV);\r\n        this.appendChildren(this.scrollbarBaseLineV);\r\n        //横向滚动条\r\n        this.scrollbarBaseLineH = this.produceLine(2, this.style.baseLineColor || \"#000\", this.style.baseLineAlpha || 0.25);\r\n        this.scrollbarBaseLineH.active = false;\r\n        this.scrollbarOpeLineH = this.produceLine(2, this.style.opeLineColor || \"#000\", this.style.opeLineAlpha || 0.4);\r\n        this.scrollbarOpeLineH.setStyle({\r\n            hover : {\r\n                alpha : 0.5\r\n            },\r\n            active : {\r\n                alpha : 0.7\r\n            }\r\n        });\r\n        this.scrollbarOpeLineH.type = \"H\";\r\n        this.scrollbarBaseLineH.appendChildren(this.scrollbarOpeLineH);\r\n        this.appendChildren(this.scrollbarBaseLineH);\r\n\r\n        this.scrollbarOpeLineV.registerEvent(\"mousedown\", this.doMouseDown.bind(this, \"V\"));\r\n        this.scrollbarOpeLineH.registerEvent(\"mousedown\", this.doMouseDown.bind(this, \"H\"));\r\n        this.doMouseMoveBind = this.doMouseMove.bind(this);\r\n        this.doMouseUpBind = this.doMouseUp.bind(this);\r\n        globalUtil.viewState.registerEvent(\"mousemove\", this.doMouseMoveBind);\r\n        globalUtil.viewState.registerEvent(\"mouseup\", this.doMouseUpBind);\r\n\r\n        this.registerEvent(\"mousewheel\", this.doMouseWheel.bind(this));\r\n    }\r\n\r\n    initCfg(cfg){\r\n        super.initCfg(cfg);\r\n        this.initScrollbar();\r\n    }\r\n\r\n    draw(ctx)\r\n    {\r\n        if (!super.draw(ctx))\r\n        {\r\n            return false;\r\n        }\r\n        if (this.scrollbarBaseLineH && this.scrollbarBaseLineV)\r\n        {\r\n            if (globalUtil.action.hoverComponent === this\r\n                || this.parentOf(globalUtil.action.hoverComponent) || this.onScrollObj)\r\n            {\r\n                this.scrollbarBaseLineH.active = this.style.showHScroll;\r\n                this.scrollbarBaseLineV.active = this.style.showVScroll;\r\n            }\r\n            else\r\n            {\r\n                this.scrollbarBaseLineH.active = false;\r\n                this.scrollbarBaseLineV.active = false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    doMouseDown(type, e){\r\n        let x = e.pageX;\r\n        let y = e.pageY;\r\n        let opeLine = this[\"scrollbarOpeLine\" + type];\r\n        this.onScrollMDOffset = type === \"V\" ? y - opeLine.getRealY() : x - opeLine.getRealX();\r\n        this.onScrollObj = opeLine;\r\n    }\r\n\r\n    doMouseMove(e){\r\n        let x = e.pageX;\r\n        let y = e.pageY;\r\n        if (this.onScrollObj)\r\n        {\r\n            let mp = this.onScrollObj.type === \"V\" ? y : x;\r\n            let setVal;//要设置的滚动条xy值\r\n            let maxVal;//滚动条最大能设置的值\r\n            if (this.onScrollObj.type === \"V\")\r\n            {\r\n                setVal = mp - this.scrollbarBaseLineV.getRealY() - this.onScrollMDOffset;\r\n                maxVal = this.scrollbarBaseLineV.getHeight() - this.onScrollObj.getHeight();\r\n                setVal = Math.max(setVal, 0);\r\n                setVal = Math.min(setVal, maxVal);\r\n                this.onScrollObj.setY(setVal);\r\n                this.setStyle(\"contentScrollY\", (this.style.contentHeight - this.getInnerHeight()) * (setVal / maxVal));\r\n                this.setScrollY();\r\n            }\r\n            else\r\n            {\r\n                setVal = mp - this.scrollbarBaseLineH.getRealX() - this.onScrollMDOffset;\r\n                maxVal = this.scrollbarBaseLineH.getWidth() - this.onScrollObj.getWidth();\r\n                setVal = Math.max(setVal, 0);\r\n                setVal = Math.min(setVal, maxVal);\r\n                this.onScrollObj.setX(setVal);\r\n                this.setStyle(\"contentScrollX\", (this.style.contentWidth - this.getInnerWidth()) * (setVal / maxVal));\r\n                this.setScrollX();\r\n            }\r\n        }\r\n    }\r\n\r\n    doMouseUp(e){\r\n        this.onScrollObj = undefined;\r\n    }\r\n\r\n    doMouseWheel(e){\r\n        if (this.style.contentHeight <= this.getInnerHeight())\r\n        {\r\n            return;\r\n        }\r\n        let wheelDelta = e.wheelDelta;\r\n        let wheelVal;\r\n        if (wheelDelta < 0)\r\n        {\r\n            wheelVal = this.style.contentScrollY + 30;\r\n        }\r\n        else\r\n        {\r\n            wheelVal = this.style.contentScrollY - 30;\r\n        }\r\n        wheelVal = Math.min(wheelVal, this.style.contentHeight - this.getInnerHeight());\r\n        wheelVal = Math.max(wheelVal, 0);\r\n        this.setStyle(\"contentScrollY\", wheelVal);\r\n        this.setScrollY();\r\n        let scrollObjY = (this.scrollbarBaseLineV.getHeight() - this.scrollbarOpeLineV.getHeight())\r\n            * (wheelVal / (this.style.contentHeight - this.getInnerHeight()));\r\n        this.scrollbarOpeLineV.setY(scrollObjY);\r\n    }\r\n\r\n    //设置所有子节点的滚动值\r\n    setScrollX(){\r\n        if (this.scrollText)\r\n        {\r\n            this.setStyle(\"textScrollX\", this.style.contentScrollX);\r\n        }\r\n        else\r\n        {\r\n            this.children.forEach((child)=>{\r\n                if (child !== this.scrollbarBaseLineV && child !== this.scrollbarBaseLineH)\r\n                {\r\n                    child.setStyle(\"scrollX\", this.style.contentScrollX);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    setScrollY(){\r\n        if (this.scrollText)\r\n        {\r\n            this.setStyle(\"textScrollY\", this.style.contentScrollY);\r\n        }\r\n        else\r\n        {\r\n            this.children.forEach((child)=>{\r\n                if (child !== this.scrollbarBaseLineV && child !== this.scrollbarBaseLineH)\r\n                {\r\n                    child.setStyle(\"scrollY\", this.style.contentScrollY);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /** 生成滚动条\r\n     *\r\n     * @param oritation 方向，1：竖向滚动条；2：横向滚动条\r\n     */\r\n    produceLine(oritation, lineColor, alpha)\r\n    {\r\n        let Rect = require(\"./rect.js\").default;\r\n        oritation = oritation || 1;\r\n        let padding = 0;\r\n        let swidth = this.style.scrollbarWidth || 10;\r\n        let radius = this.style.scrollbarRadius || 6;\r\n        let scrollbarX = oritation === 1 ? this.getInnerWidth() - swidth : padding;\r\n        let scrollbarY = oritation === 2 ? this.getInnerHeight() - swidth : padding;\r\n\r\n        let line = new Rect(this);\r\n        line.setX(scrollbarX);\r\n        line.setY(scrollbarY);\r\n        if (oritation === 1)\r\n        {\r\n            line.setWidth(swidth);\r\n            line.setHeight(this.getInnerHeight() - padding * 2);\r\n        }\r\n        else\r\n        {\r\n            line.setHeight(swidth);\r\n            line.setWidth(this.getInnerWidth() - padding * 2);\r\n        }\r\n        line.setStyle({\r\n            backgroundColor : lineColor,\r\n            alpha : alpha,\r\n            borderRadius : radius\r\n        });\r\n        line.init();\r\n        return line;\r\n    }\r\n\r\n    appendChildren(child){\r\n        super.appendChildren(child);\r\n\r\n        this.propagationDoLayout(this);\r\n    }\r\n\r\n    doLayout(){\r\n        let maxWidth = 0;\r\n        let maxHeight = 0;\r\n        if (this.scrollText && this.text)\r\n        {\r\n            maxHeight = this.getTextHeight();\r\n            maxWidth = this.getTextWidth();\r\n        }\r\n        else\r\n        {\r\n            this.children.forEach((child, index)=>{\r\n                if (child !== this.scrollbarBaseLineV && child !== this.scrollbarBaseLineH)\r\n                {\r\n                    maxWidth = Math.max(maxWidth, child.getX() + child.getWidth());\r\n                    maxHeight = Math.max(maxHeight, child.getY() + child.getHeight());\r\n                }\r\n            });\r\n        }\r\n        this.setStyle({\r\n            contentWidth : maxWidth,\r\n            contentHeight : maxHeight\r\n        });\r\n\r\n        //是否显示滚动条\r\n        if (this.scrollbarBaseLineH)\r\n        {\r\n            if (this.style.contentWidth <= this.getInnerWidth())\r\n            {\r\n                this.scrollbarBaseLineH.active = false;\r\n                this.setStyle(\"showHScroll\", false);\r\n            }\r\n            else\r\n            {\r\n                this.scrollbarOpeLineH.setWidth(this.scrollbarBaseLineH.getWidth() * (this.getInnerWidth() / this.style.contentWidth));\r\n                this.setStyle(\"showHScroll\", true);\r\n            }\r\n        }\r\n        if (this.scrollbarBaseLineV)\r\n        {\r\n            if (this.style.contentHeight <= this.getHeight())\r\n            {\r\n                this.scrollbarBaseLineV.active = false;\r\n                this.setStyle(\"showVScroll\", false);\r\n            }\r\n            else\r\n            {\r\n                this.scrollbarOpeLineV.setHeight(this.scrollbarBaseLineV.getHeight() * (this.getInnerHeight() / this.style.contentHeight));\r\n                this.setStyle(\"showVScroll\", true);\r\n            }\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n\r\n        globalUtil.viewState.removeEvent(\"mousemove\", this.doMouseMoveBind);\r\n        globalUtil.viewState.removeEvent(\"mouseup\", this.doMouseUpBind);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/components/scrollbar.js","/**\r\n * Created by heju on 2017/7/10.\r\n */\r\nimport Fps from \"./ui/fps.js\";\r\nimport httpUtil from \"./util/httpUtil.js\";\r\nimport commonUtil from \"./util/commonUtil.js\";\r\nimport globalUtil from \"./util/globalUtil.js\";\r\nimport Controller from \"./ui/controller.js\";\r\n\r\nclass Main {\r\n    constructor(eleId){\r\n        let mainBody = document.getElementById(eleId);\r\n        this.fps = new Fps(mainBody);\r\n\r\n        globalUtil.action = {};\r\n\r\n        //输入框输入监听\r\n        globalUtil.action.inputListenerDom = document.createElement(\"TEXTAREA\");\r\n        globalUtil.action.inputListenerDom.style.position = \"fixed\";\r\n        globalUtil.action.inputListenerDom.style.left = \"0px\";\r\n        globalUtil.action.inputListenerDom.style.top = \"0px\";\r\n        globalUtil.action.inputListenerDom.style[\"z-index\"] = -1;\r\n        document.body.appendChild(globalUtil.action.inputListenerDom);\r\n    }\r\n\r\n    setMainView(viewCfg){\r\n        this.fps.setMainView(viewCfg);\r\n        this.fps.startLoop();\r\n    }\r\n\r\n    run(viewCfg){\r\n        this.setMainView(viewCfg);\r\n    }\r\n}\r\n\r\nwindow.Monk = {\r\n    Main : Main,\r\n    commonUtil : commonUtil,\r\n    httpUtil : httpUtil,\r\n    Controller : Controller\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","/**\r\n * Created by heju on 2017/7/13.\r\n */\r\nimport commonUtil from \"../util/commonUtil.js\";\r\nimport globalUtil from \"../util/globalUtil.js\";\r\nimport ViewState from \"./viewState.js\";\r\nimport EventBus from \"../event/eventBus.js\";\r\n\r\nexport default class Fps{\r\n    constructor(mainBody){\r\n        this.canvas = document.createElement(\"CANVAS\");\r\n        mainBody.appendChild(this.canvas);\r\n        this.canvas.width = mainBody.offsetWidth;\r\n        this.canvas.height = mainBody.offsetHeight;\r\n        this.ctx = this.canvas.getContext('2d');\r\n        window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\r\n\r\n        globalUtil.eventBus = new EventBus(this.canvas);\r\n    }\r\n\r\n    setMainView(viewCfg){\r\n        globalUtil.viewState = new ViewState(this.ctx);\r\n        globalUtil.viewState.init(viewCfg);\r\n    }\r\n\r\n    /** 开始循环绘制 */\r\n    startLoop(){\r\n        window.requestAnimationFrame(this.draw.bind(this));\r\n    }\r\n\r\n    /** 防止children超出 */\r\n    setClip(com)\r\n    {\r\n        if (com.setClip)\r\n        {\r\n            this.ctx.save();\r\n            com.setClip(this.ctx);\r\n        }\r\n    }\r\n    restoreClip(com)\r\n    {\r\n        if (com.setClip)\r\n        {\r\n            this.ctx.restore();\r\n        }\r\n    }\r\n\r\n    drawView(com){\r\n        if (!com.active)\r\n        {\r\n            return;\r\n        }\r\n        com.saveStyle();\r\n        if (com.draw(this.ctx))\r\n        {\r\n            let children = com.getChildren();\r\n            if (children)\r\n            {\r\n                if (children instanceof Array)\r\n                {\r\n                    children.sort((a, b)=>a.style.zIndex - b.style.zIndex);//zIndex升序排序\r\n                    let child;\r\n                    for (let i = 0, j = children.length; i < j; i++)\r\n                    {\r\n                        this.setClip(com);\r\n                        child = children[i];\r\n                        this.drawView(child);\r\n                        this.restoreClip(com);\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    this.setClip(com);\r\n                    this.drawView(children);\r\n                    this.restoreClip(com);\r\n                }\r\n            }\r\n        }\r\n        com.restoreStyle();\r\n    }\r\n\r\n    draw(){\r\n        //背景\r\n        this.ctx.fillStyle = \"#000\";\r\n        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n        globalUtil.viewState.beforeDraw(this.ctx);\r\n        this.drawView(globalUtil.viewState.rootPanel);\r\n        globalUtil.viewState.afterDraw(this.ctx);\r\n\r\n        window.requestAnimationFrame(this.draw.bind(this));\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/fps.js","/**\r\n * Created by heju on 2017/7/19.\r\n */\r\nimport globalUtil from \"../util/globalUtil.js\";\r\nimport commonUtil from \"../util/commonUtil.js\";\r\nimport Panel from \"./components/panel.js\";\r\nimport Router from \"./components/router.js\";\r\nimport Input from \"./components/input.js\";\r\n\r\nexport default class ViewState{\r\n    constructor(ctx){\r\n        this.ctx = ctx;\r\n\r\n        this.isViewState = true;\r\n\r\n        this.defaultFontFamily = \"Microsoft YaHei\";\r\n        this.defaultFontSize = \"14px\";\r\n\r\n        this.ctx.mouseAction = {};\r\n\r\n        this.registerEvent(\"mousedown\", (e)=>{\r\n            if (globalUtil.action.hoverComponent)\r\n            {\r\n                globalUtil.action.focusComponent = globalUtil.action.hoverComponent;\r\n                globalUtil.action.activeComponent = globalUtil.action.hoverComponent;\r\n                if (globalUtil.action.focusComponent.onFocus && typeof(globalUtil.action.focusComponent.onFocus) === \"function\")\r\n                {\r\n                    globalUtil.action.focusComponent.onFocus(e.pageX, e.pageY);\r\n                }\r\n            }\r\n        });\r\n        this.registerEvent(\"mouseup\", (e)=>{\r\n            globalUtil.action.inputListenerDom.focus();\r\n            if (globalUtil.action.activeComponent)\r\n            {\r\n                globalUtil.action.activeComponent = undefined;\r\n            }\r\n        });\r\n        this.registerEvent(\"mousemove\", (e)=>{\r\n            this.ctx.mouseAction.mx = e.pageX;\r\n            this.ctx.mouseAction.my = e.pageY;\r\n        });\r\n\r\n        //输入框事件\r\n        globalUtil.action.inputListenerDom.compositionMode = false;//是否输入法状态\r\n        globalUtil.eventBus.addEventListener(globalUtil.action.inputListenerDom, \"compositionstart\", (e)=>{\r\n            globalUtil.action.inputListenerDom.compositionMode = true;\r\n        });\r\n        globalUtil.eventBus.addEventListener(globalUtil.action.inputListenerDom, \"compositionend\", (e)=>{\r\n            globalUtil.action.inputListenerDom.compositionMode = false;\r\n            if (globalUtil.action.focusComponent && globalUtil.action.focusComponent instanceof Input)\r\n            {\r\n                this.setVal2FocusCom();\r\n            }\r\n        });\r\n        globalUtil.eventBus.addEventListener(globalUtil.action.inputListenerDom, \"input\", (e)=>{\r\n            if (!globalUtil.action.inputListenerDom.compositionMode\r\n                && globalUtil.action.focusComponent && globalUtil.action.focusComponent instanceof Input)\r\n            {\r\n                this.setVal2FocusCom();\r\n            }\r\n        });\r\n    }\r\n\r\n    init(viewCfg){\r\n        if (viewCfg.type == \"panel\")\r\n        {\r\n            this.rootPanel = new Panel();\r\n            this.rootPanel.initCfg(viewCfg);\r\n        }\r\n        else if (viewCfg.type == \"route\")\r\n        {\r\n            this.rootPanel = new Router();\r\n            this.rootPanel.initCfg(viewCfg);\r\n        }\r\n    }\r\n\r\n    /** 绘制前 */\r\n    beforeDraw(ctx){\r\n        //通知触发事件\r\n        globalUtil.eventBus.doNotifyEvent();\r\n\r\n        ctx.mouseAction.hoverCom = undefined;\r\n    }\r\n\r\n    /** 绘制后 */\r\n    afterDraw(ctx){\r\n        globalUtil.eventBus.propagationEvent();\r\n\r\n        //全部绘制完后检查hover的组件\r\n        if (ctx.mouseAction.hoverCom)\r\n        {\r\n            globalUtil.action.hoverComponent = ctx.mouseAction.hoverCom;\r\n        }\r\n    }\r\n\r\n    /** 将textarea中的值设置到焦点组件 */\r\n    setVal2FocusCom(){\r\n        globalUtil.action.focusComponent.setText(globalUtil.action.inputListenerDom.value);\r\n        globalUtil.action.inputListenerDom.text = globalUtil.action.focusComponent.getText() || \"\";\r\n    }\r\n\r\n    addEventNotify(eventNotify){\r\n        globalUtil.eventBus.captureEvent(eventNotify);//为了最后执行mousedown事件，必须第一个占坑\r\n    }\r\n\r\n    getComponentInChildrenByKey(key, val, com) {\r\n        let children = com.getChildren();\r\n        if (children)\r\n        {\r\n            let retCom;\r\n            if (children instanceof Array)\r\n            {\r\n                let child;\r\n                for (let i = 0, j = children.length; i < j; i++)\r\n                {\r\n                    child = children[i];\r\n                    if (child[key] && child[key] === val)\r\n                    {\r\n                        return child;\r\n                    }\r\n                    retCom = this.getComponentInChildrenByKey(key, val, child);\r\n                    if (retCom)\r\n                    {\r\n                        return retCom;\r\n                    }\r\n                    if (i == j - 1)\r\n                    {\r\n                        return undefined;\r\n                    }\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if (children[key] && children[key] === val)\r\n                {\r\n                    return children;\r\n                }\r\n                else\r\n                {\r\n                    return this.getComponentInChildrenByKey(key, val, children);\r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n            return undefined;\r\n        }\r\n    }\r\n\r\n    getComponentById(id){\r\n        if (this.rootPanel.id && this.rootPanel.id === id)\r\n        {\r\n            return this.rootPanel;\r\n        }\r\n        else\r\n        {\r\n            return this.getComponentInChildrenByKey(\"id\", id, this.rootPanel);\r\n        }\r\n    }\r\n\r\n    getWidth(){\r\n        return this.ctx.canvas.width;\r\n    }\r\n\r\n    getHeight(){\r\n        return this.ctx.canvas.height;\r\n    }\r\n\r\n    registerEvent(eventType, callback){\r\n        globalUtil.eventBus.registerEvent(this, eventType, callback);\r\n    }\r\n\r\n    removeEvent(eventType, callback){\r\n        globalUtil.eventBus.removeEvent(this, eventType, callback);\r\n    }\r\n\r\n    removeAllEvent()\r\n    {\r\n        globalUtil.eventBus.removeAllEvent(this);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/viewState.js","/**\r\n * Created by heju on 2017/7/20.\r\n */\r\nimport globalUtil from \"../../util/globalUtil.js\";\r\nimport commonUtil from \"../../util/commonUtil.js\";\r\n\r\nexport default class Component {\r\n    constructor(parent) {\r\n        this.parent = parent;\r\n        this.eventNotifys = [];//事件通知队列\r\n        this.active = true;//为false则不绘制\r\n        this.children = [];\r\n\r\n        this.style = {};\r\n        this.originalStyle = {};//保存原来的样式，避免focus或hover后原来的样式丢失\r\n\r\n        this.setStyle({\r\n            fontFamily : globalUtil.viewState.defaultFontFamily,\r\n            fontSize : globalUtil.viewState.defaultFontSize,\r\n            zIndex : 1\r\n        });\r\n        this.setStyle(\"lineHeight\", parseInt(this.style.fontSize, 10));\r\n\r\n        this.multiLine = true;//是否多行文本\r\n        this.autoLine = true;//是否自动换行\r\n    }\r\n\r\n    init(){\r\n        let $this = this;\r\n        if (this.style.backgroundImage)\r\n        {\r\n            let img = new Image();\r\n            img.onload = function(){\r\n                $this.backgroundImageDom = this;\r\n                if (!$this.getWidth() || $this.style.autoWidth)\r\n                {\r\n                    $this.setWidth($this.backgroundImageDom.width);\r\n                }\r\n                if (!$this.getHeight() || $this.style.autoHeight)\r\n                {\r\n                    $this.setHeight($this.backgroundImageDom.height);\r\n                }\r\n            };\r\n            img.src = this.style.backgroundImage;\r\n        }\r\n    }\r\n\r\n    /** 配置文件递归初始化样式 */\r\n    initCfgStyle(cfgStyle, current){\r\n        for (let key in cfgStyle)\r\n        {\r\n            if (typeof(cfgStyle[key]) === \"function\")\r\n            {\r\n                current[key] = cfgStyle[key].apply(this, []);\r\n            }\r\n            else if (typeof(cfgStyle[key]) === \"object\")\r\n            {\r\n                current[key] = {};\r\n                this.initCfgStyle(cfgStyle[key], current[key]);\r\n            }\r\n            else\r\n            {\r\n                current[key] = cfgStyle[key];\r\n            }\r\n        }\r\n    }\r\n\r\n    initCfg(cfg){\r\n        if (cfg.id)\r\n        {\r\n            this.id = cfg.id;\r\n        }\r\n        if (cfg.name)\r\n        {\r\n            this.name = cfg.name;\r\n        }\r\n\r\n        this.initCfgStyle(cfg.style, this.style);\r\n\r\n        this.text = this.getTextForRows(cfg.text);\r\n        this.multiLine = cfg.multiLine || this.multiLine;\r\n\r\n        this.scrollText = cfg.scrollText || this.scrollText;//是否文字滚动\r\n\r\n        //事件绑定配置\r\n        if (cfg.events)\r\n        {\r\n            let eventInfo;\r\n            let funName;\r\n            let param;\r\n            let controller;\r\n            for (let type in cfg.events)\r\n            {\r\n                eventInfo = cfg.events[type];\r\n                if (typeof(eventInfo) == \"object\")\r\n                {\r\n                    funName = eventInfo.callback;\r\n                    if (eventInfo.param)//有参数\r\n                    {\r\n                        param = eventInfo.param.apply(this, [this]);\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    funName = eventInfo;\r\n                }\r\n                controller = this.getController(this);\r\n                if (controller && controller[funName]\r\n                    && typeof(controller[funName]) == \"function\")\r\n                {\r\n                    if (param)\r\n                    {\r\n                        this.registerEvent(type, controller[funName].bind(controller, param));\r\n                    }\r\n                    else\r\n                    {\r\n                        this.registerEvent(type, controller[funName].bind(controller));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.init();\r\n\r\n        if (cfg.children)\r\n        {\r\n            this.initChildrenCfg(cfg.children);\r\n        }\r\n    }\r\n\r\n    initChildrenCfg(childrenCfg){\r\n        if (typeof(childrenCfg) == \"object\" && childrenCfg instanceof Array)\r\n        {\r\n            let chiCfg;\r\n            for (let i = 0, j = childrenCfg.length; i < j; i++)\r\n            {\r\n                chiCfg = childrenCfg[i];\r\n                this.produceChildrenByCfg(chiCfg);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            this.produceChildrenByCfg(childrenCfg);\r\n        }\r\n    }\r\n\r\n    produceChildrenByCfg(chiCfg){\r\n        let Panel = require(\"./panel.js\").default;\r\n        let Rect = require(\"./rect.js\").default;\r\n        let Input = require(\"./input.js\").default;\r\n        let Button = require(\"./button.js\").default;\r\n        let Scrollbar = require(\"./scrollbar.js\").default;\r\n        let Sprite = require(\"./game/sprite.js\").default;\r\n\r\n        let childCom;\r\n        if (typeof(chiCfg) === \"function\")//异步加载view\r\n        {\r\n            return chiCfg(this.asyncGetView.bind(this));\r\n        }\r\n        else\r\n        {\r\n            switch (chiCfg.type)\r\n            {\r\n                case \"panel\" :\r\n                    childCom = new Panel(this);\r\n                    break;\r\n                case \"rect\" :\r\n                    childCom = new Rect(this);\r\n                    break;\r\n                case \"input\" :\r\n                    childCom = new Input(this);\r\n                    break;\r\n                case \"button\" :\r\n                    childCom = new Button(this);\r\n                    break;\r\n                case \"scrollbar\" :\r\n                    childCom = new Scrollbar(this);\r\n                    break;\r\n                case \"sprite\" :\r\n                    childCom = new Sprite(this);\r\n                default : break;\r\n            }\r\n            childCom.initCfg(chiCfg);\r\n            this.appendChildren(childCom);\r\n            return childCom;\r\n        }\r\n    }\r\n\r\n    asyncGetView(viewCfg, resolve, reject){\r\n        let Panel = require(\"./panel.js\").default;\r\n        let panel = new Panel(this);\r\n        panel.initCfg(viewCfg);\r\n        this.appendChildren(panel);\r\n        if (resolve)\r\n        {\r\n            resolve(panel);\r\n        }\r\n    }\r\n\r\n    draw(ctx){\r\n        //不在parent范围内，则不需要绘制\r\n        let parentArea = this.inParentArea(this);\r\n        if (parentArea === 0)\r\n        {\r\n            return false;\r\n        }\r\n\r\n        this.focusEnable();\r\n        this.hoverEnable();\r\n        this.activeEnable();\r\n\r\n        //判断鼠标是否在组件范围内\r\n        //防止鼠标指向子组件超出父组件的范围部分而hover到这个子组件上\r\n        if (ctx.mouseAction.mx && ctx.mouseAction.my\r\n            && this.isPointInComponent(ctx.mouseAction.mx, ctx.mouseAction.my)\r\n            && (!this.parent || this.parent === ctx.mouseAction.hoverCom\r\n                || this.parent === ctx.mouseAction.hoverCom.parent))\r\n        {\r\n            ctx.mouseAction.hoverCom = this;\r\n        }\r\n\r\n        //检查事件\r\n        if (this.eventNotifys.length > 0)\r\n        {\r\n            this.eventNotifys.forEach((eventNotify)=>{\r\n                this.checkEvent(eventNotify);\r\n            });\r\n            this.eventNotifys.length = 0;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /** 添加子节点 */\r\n    appendChildren(child){\r\n        this.children.push(child);\r\n    }\r\n\r\n    /** 设置通用样式，所有组件在绘制前都应该设置 */\r\n    setCommonStyle(ctx){\r\n        //半透明\r\n        if (this.style.alpha !== undefined)\r\n        {\r\n            ctx.globalAlpha = this.style.alpha;\r\n        }\r\n    }\r\n\r\n    saveStyle(){\r\n        commonUtil.copyObject(this.style, this.originalStyle, true);\r\n    }\r\n\r\n    restoreStyle(){\r\n        this.setStyle(this.originalStyle);\r\n    }\r\n\r\n    hoverEnable(){\r\n        if (globalUtil.action.hoverComponent === this)\r\n        {\r\n            this.setStyle(this.style.hover);\r\n        }\r\n    }\r\n    focusEnable(){\r\n        if (globalUtil.action.focusComponent === this)\r\n        {\r\n            this.setStyle(this.style.focus);\r\n        }\r\n    }\r\n    activeEnable(){\r\n        if (globalUtil.action.activeComponent === this)\r\n        {\r\n            this.setStyle(this.style.active);\r\n        }\r\n    }\r\n\r\n    /** 检查事件是否匹配 */\r\n    checkEvent(eventNotify){\r\n        if (eventNotify.type)\r\n        {\r\n            if (eventNotify.type === 1\r\n                && this.isPointInComponent(eventNotify.px, eventNotify.py))//判断鼠标是否在控件范围内\r\n            {\r\n                globalUtil.eventBus.captureEvent(eventNotify);\r\n            }\r\n            else if (eventNotify.type === 2\r\n                && globalUtil.action.focusComponent === this)//键盘事件\r\n            {\r\n                globalUtil.eventBus.captureEvent(eventNotify);\r\n            }\r\n            else if (eventNotify.type === 3\r\n                && (globalUtil.action.focusComponent === this\r\n                    || this.parentOf(globalUtil.action.focusComponent)))//鼠标滚动事件\r\n            {\r\n                globalUtil.eventBus.captureEvent(eventNotify);\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 冒泡执行doLayout方法 */\r\n    propagationDoLayout(com){\r\n        if (com.doLayout && typeof(com.doLayout) === \"function\")\r\n        {\r\n            com.doLayout();\r\n        }\r\n        if (com.parent)\r\n        {\r\n            this.propagationDoLayout(com.parent);\r\n        }\r\n    }\r\n\r\n    /** this是否是com的父亲 */\r\n    parentOf(com){\r\n        if (!com || !com.parent)\r\n        {\r\n            return false;\r\n        }\r\n        if (com.parent === this)\r\n        {\r\n            return true;\r\n        }\r\n        return this.parentOf(com.parent);\r\n    }\r\n\r\n    /** 设置组件样式 */\r\n    setStyle(){\r\n        if (arguments.length === 0)\r\n        {\r\n            return;\r\n        }\r\n        if (arguments.length === 1 && typeof(arguments[0]) === \"object\")\r\n        {\r\n            this.setStyle_obj(arguments[0]);\r\n        }\r\n        else if (arguments.length === 2 && typeof(arguments[0]) === \"string\")\r\n        {\r\n            this.setStyle_kv(arguments[0], arguments[1]);\r\n        }\r\n    }\r\n    setStyle_kv(key, value){\r\n        this.style[key] = value;\r\n    }\r\n    setStyle_obj(style){\r\n        commonUtil.copyObject(style, this.style, true);\r\n    }\r\n\r\n\r\n    getController(com){\r\n        let Panel = require(\"./panel.js\").default;\r\n        if (!com.parent)\r\n        {\r\n            return com.controller;\r\n        }\r\n        if (com instanceof Panel && com.controller)\r\n        {\r\n            return com.controller;\r\n        }\r\n        else\r\n        {\r\n            return this.getController(com.parent);\r\n        }\r\n    }\r\n\r\n    setX(x){\r\n        this.setStyle(\"x\", x);\r\n    }\r\n    setY(y){\r\n        this.setStyle(\"y\", y);\r\n    }\r\n    getX(){\r\n        return this.style.x - (this.style.scrollX || 0);//要减去滚动的长度\r\n    }\r\n    getY(){\r\n        return this.style.y - (this.style.scrollY || 0);\r\n    }\r\n\r\n    //获取显示在界面上真实的x坐标，加上父级坐标\r\n    getRealXRecursion(com){\r\n        if (com.parent)\r\n        {\r\n            return com.getX() + this.getRealXRecursion(com.parent) + (com.parent.style.borderWidth || 0);\r\n        }\r\n        else\r\n        {\r\n            return com.getX();\r\n        }\r\n    }\r\n    getRealX(){\r\n        return this.getRealXRecursion(this);\r\n    }\r\n    getRealYRecursion(com){\r\n        if (com.parent)\r\n        {\r\n            return com.getY() + this.getRealYRecursion(com.parent) + (com.parent.style.borderWidth || 0);\r\n        }\r\n        else{\r\n            return com.getY();\r\n        }\r\n    }\r\n    getRealY(){\r\n        return this.getRealYRecursion(this);\r\n    }\r\n\r\n    /** 获取文本的坐标 */\r\n    getTextRealX(){\r\n        let oriX = this.getRealX() + (this.style.borderWidth || 0);\r\n        //文字居中显示\r\n        if (this.text && this.style.textAlign === \"center\")\r\n        {\r\n            let textLength = parseInt(this.style.fontSize) * this.getText().length;\r\n            if (textLength <= this.getWidth())\r\n            {\r\n                return oriX + (this.getWidth() / 2 - textLength / 2);\r\n            }\r\n        }\r\n        return oriX - (this.style.textScrollX || 0);\r\n    }\r\n    getTextRealY(){\r\n        return this.getRealY() + (this.style.borderWidth || 0) - (this.style.textScrollY || 0);\r\n    }\r\n\r\n    /** 高宽处理 */\r\n    setWidth(width){\r\n        this.setStyle(\"width\", width);\r\n    }\r\n    setHeight(height){\r\n        this.setStyle(\"height\", height);\r\n    }\r\n    getWidth(){\r\n        if (!this.style.width)\r\n        {\r\n            return undefined;\r\n        }\r\n        if (this.style.width.toString().indexOf(\"%\") > -1)//百分比\r\n        {\r\n            let maxWidth = this.parent.getWidth() - (this.parent ? (this.parent.style.borderWidth || 0) * 2 : 0);\r\n            return maxWidth * (this.style.width.substring(0, this.style.width.length - 1) / 100);\r\n        }\r\n        return this.style.width;\r\n    }\r\n    getHeight(){\r\n        if (!this.style.height)\r\n        {\r\n            return undefined;\r\n        }\r\n        if (this.style.height.toString().indexOf(\"%\") > -1)\r\n        {\r\n            let maxHeight = this.parent.getHeight() - (this.parent ? (this.parent.style.borderWidth || 0) * 2 : 0);\r\n            return maxHeight * (this.style.height.substring(0, this.style.height.length - 1) / 100);\r\n        }\r\n        return this.style.height;\r\n    }\r\n    //获取去边框的宽高\r\n    getInnerWidth(){\r\n        return this.getWidth() - (this.style.borderWidth || 0) * 2;\r\n    }\r\n    getInnerHeight(){\r\n        return this.getHeight() - (this.style.borderWidth || 0) * 2;\r\n    }\r\n\r\n    /** 用\\n分隔string，实现换行 */\r\n    getTextForRows(text){\r\n        if (!text)\r\n        {\r\n            return undefined;\r\n        }\r\n        let rowsStr;\r\n        if (!this.multiLine)//单行\r\n        {\r\n            rowsStr = [text];\r\n        }\r\n        else\r\n        {\r\n            if (this.autoLine)//如果自动换行\r\n            {\r\n                let index = 0;\r\n                let charWidth = 0;\r\n                let char;\r\n                while (char = text.charAt(index)) {\r\n                    if (char === \"\\n\") {\r\n                        charWidth = 0;\r\n                    }\r\n                    else {\r\n                        charWidth += parseInt(this.style.fontSize, 10);\r\n                        if (charWidth > this.getWidth() - (this.style.borderWidth || 0) * 2) {//如果当前行宽度大于组件宽度，则添加一个换行符\r\n                            charWidth = 0;\r\n                            text = text.substring(0, index) + \"\\n\" + text.substring(index);\r\n                        }\r\n                    }\r\n                    index++;\r\n                }\r\n            }\r\n            rowsStr = text.split(\"\\n\");\r\n        }\r\n        let i;\r\n        let c;\r\n        let arr;\r\n        return rowsStr.map((row)=>{\r\n            i = 0;\r\n            arr = [];\r\n            while (c = row.charAt(i))\r\n            {\r\n                arr.push(c);\r\n                i++;\r\n            }\r\n            return arr;\r\n        });\r\n    }\r\n\r\n    setText(text){\r\n        this.text = this.getTextForRows(text);\r\n    }\r\n\r\n    getText(){\r\n        if (!this.text)\r\n        {\r\n            return undefined;\r\n        }\r\n        return this.text.map((row, index)=>{\r\n            return row.join(\"\");\r\n        }).join(\"\\n\");\r\n    }\r\n\r\n    /** 获取文本占的总高度 */\r\n    getTextHeight(){\r\n        if (!this.text)\r\n        {\r\n            return 0;\r\n        }\r\n        return this.text.length * parseInt(this.style.fontSize, 10);\r\n    }\r\n    getTextWidth(){\r\n        if (!this.text)\r\n        {\r\n            return 0;\r\n        }\r\n        let allWidth = 0;\r\n        this.text.forEach((row, index)=> {\r\n            allWidth = Math.max(allWidth, row.length * parseInt(this.style.fontSize, 10));\r\n        });\r\n        return allWidth;\r\n    }\r\n\r\n    getChildren(){\r\n        return this.children;\r\n    }\r\n\r\n    registerEvent(eventType, callback){\r\n        globalUtil.eventBus.registerEvent(this, eventType, callback);\r\n    }\r\n\r\n    removeEvent(eventType, callback){\r\n        globalUtil.eventBus.removeEvent(this, eventType, callback);\r\n    }\r\n\r\n    removeAllEvent()\r\n    {\r\n        globalUtil.eventBus.removeAllEvent(this);\r\n    }\r\n\r\n    addEventNotify(eventNotify){\r\n        this.eventNotifys.push(eventNotify);\r\n    }\r\n\r\n    destroy(){\r\n        this.removeAllEvent();\r\n\r\n        this.getChildren().forEach((child)=>{\r\n            child.destroy();\r\n        });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/components/component.js","import Rect from \"./rect.js\";\r\n\r\nexport default class Button extends Rect {\r\n    constructor(parent) {\r\n        super(parent);\r\n        this.setStyle(\"textAlign\", \"center\");\r\n    }\r\n\r\n    initCfg(cfg){\r\n        super.initCfg(cfg);\r\n        this.setStyle(\"lineHeight\", this.getHeight());\r\n        //自适应宽度\r\n        if (this.style.autoWidth)\r\n        {\r\n            this.setStyle(\"width\", this.getTextWidth() + 20);\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/components/button.js","import globalUtil from \"../../util/globalUtil.js\";\r\nimport Rect from \"./rect.js\";\r\n\r\nexport default class Router extends Rect{\r\n    constructor(parent){\r\n        super(parent);\r\n\r\n        //routes对象结构：每个name下面包含loader：子节点的配置文件；isLoaded：当前路由资源是否加载\r\n        this.routes = {};\r\n        this.children = [];\r\n\r\n        this.setX(0);\r\n        this.setY(0);\r\n        if (!parent)//最顶层\r\n        {\r\n            this.setWidth(globalUtil.viewState.getWidth());\r\n            this.setHeight(globalUtil.viewState.getHeight());\r\n        }\r\n        else\r\n        {\r\n            this.setWidth(parent.getInnerWidth());\r\n            this.setHeight(parent.getInnerHeight());\r\n        }\r\n    }\r\n\r\n    initCfg(cfg)\r\n    {\r\n        super.initCfg(cfg);\r\n\r\n        if (cfg.routes)\r\n        {\r\n            let rCfg;\r\n            for (let name in cfg.routes)\r\n            {\r\n                rCfg = cfg.routes[name];\r\n                this.routes[name] = {\r\n                    loader : rCfg.view,\r\n                    isLoaded : false\r\n                };\r\n                if (rCfg.default)\r\n                {\r\n                    this.currentRoute = name;\r\n                    this.getChildrenView();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    draw(ctx){\r\n        if (!super.draw(ctx)) {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    getChildrenView(){\r\n        if (!this.currentChildren)\r\n        {\r\n            if (this.routes[this.currentRoute].isLoaded === false)//未加载资源\r\n            {\r\n                let retChild = this.produceChildrenByCfg(this.routes[this.currentRoute].loader);\r\n                if (retChild instanceof Promise)\r\n                {\r\n                    retChild.then((child)=>{\r\n                        this.currentChildren = child;\r\n                        this.currentChildren.name = this.currentRoute;\r\n                        this.currentChildren.active = true;\r\n                        this.routes[this.currentRoute].isLoaded = true;\r\n                    });\r\n                }\r\n                else\r\n                {\r\n                    this.currentChildren = retChild;\r\n                    this.currentChildren.name = this.currentRoute;\r\n                    this.currentChildren.active = true;\r\n                    this.routes[this.currentRoute].isLoaded = true;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                this.children.forEach((child)=>{\r\n                    if (child.name === this.currentRoute)\r\n                    {\r\n                        this.currentChildren = child;\r\n                    }\r\n                });\r\n                this.currentChildren.active = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    getChildren(){\r\n        return this.currentChildren;\r\n    }\r\n\r\n    /** 切换route\r\n     *\r\n     * @param name 要切换route的name\r\n     * @param destory 是否销毁之前的route\r\n     */\r\n    changeRoute(name, destory){\r\n        if (this.currentChildren)\r\n        {\r\n            this.currentChildren.active = false;\r\n        }\r\n        if (destory)\r\n        {\r\n            this.destroyRoute(this.currentRoute);\r\n        }\r\n        this.currentRoute = name;\r\n        this.currentChildren = undefined;\r\n        this.getChildrenView();\r\n    }\r\n\r\n    destroyRoute(name){\r\n        this.currentChildren.destroy();\r\n        let cindex = -1;\r\n        this.children.forEach((child, index)=>{\r\n            if (child.name === name)\r\n            {\r\n                cindex = index;\r\n            }\r\n        });\r\n        if (cindex > -1)\r\n        {\r\n            this.children.splice(cindex, 1);\r\n            this.routes[name].isLoaded = false;\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/components/router.js","/**\r\n * Created by heju on 2017/7/25.\r\n */\r\nimport EventListener from \"./eventListener.js\";\r\nimport ClickEvent from \"./type/clickEvent.js\";\r\nimport MouseEvent from \"./type/mouseEvent.js\";\r\nimport KeyEvent from \"./type/keyEvent.js\";\r\nimport WheelEvent from \"./type/wheelEvent.js\";\r\nimport Stack from \"../data/structure/stack.js\";\r\nimport EventNotify from \"./eventNotify.js\";\r\nimport globalUtil from \"../util/globalUtil\";\r\nimport commonUtil from \"../util/commonUtil\";\r\n\r\nexport default class EventBus{\r\n    constructor(canvas){\r\n        this.canvas = canvas;\r\n        //注册事件列表\r\n        this.eventListeners = {\r\n            \"click\" : [],\r\n            \"mousedown\" : [],\r\n            \"mousemove\" : [],\r\n            \"mouseup\" : [],\r\n            \"keydown\" : [],\r\n            \"keyup\" : [],\r\n            \"mousewheel\" : []\r\n        };\r\n        //事件通知队列\r\n        this.eventNotifyQueue = [];\r\n        //事件冒泡执行队列\r\n        this.propagationEventQueue = {};\r\n\r\n        this.initDomEvent();\r\n    }\r\n\r\n    addEventListener(dom, type, callback){\r\n        if (window.addEventListener)\r\n        {\r\n            dom.addEventListener(type, callback, false);\r\n        }\r\n        else\r\n        {\r\n            dom.attachEvent(\"on\" + type, callback);\r\n        }\r\n    }\r\n\r\n    initDomEvent(){\r\n        this.addEventListener(this.canvas, \"click\", (e)=>{\r\n            this.createEventNotify(e, \"click\");\r\n        });\r\n\r\n        this.addEventListener(this.canvas, \"mousedown\", (e)=>{\r\n            this.createEventNotify(e, \"mousedown\");\r\n        });\r\n\r\n        this.addEventListener(this.canvas, \"mousemove\", (e)=>{\r\n            this.createEventNotify(e, \"mousemove\");\r\n        });\r\n\r\n        this.addEventListener(this.canvas, \"mouseup\", (e)=>{\r\n            this.createEventNotify(e, \"mouseup\");\r\n        });\r\n\r\n        this.addEventListener(window, \"keydown\", (e)=>{\r\n            this.createOtherEventNotify(e, \"keydown\", 2);\r\n        });\r\n\r\n        this.addEventListener(window, \"keyup\", (e)=>{\r\n            this.createOtherEventNotify(e, \"keyup\", 2);\r\n        });\r\n\r\n        this.addEventListener(this.canvas, \"DOMMouseScroll\", (e)=>{\r\n            this.createOtherEventNotify(e, \"mousewheel\", 3);\r\n        });\r\n        this.addEventListener(this.canvas, \"mousewheel\", (e)=>{\r\n            this.createOtherEventNotify(e, \"mousewheel\", 3);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 创建冒泡执行堆栈，用批次号分类\r\n     *\r\n     * @return 批次号（时间戳）\r\n     */\r\n    createPropagationStack(){\r\n        let batchNo = (new Date).getTime();\r\n        this.propagationEventQueue[batchNo] = new Stack();\r\n        return batchNo;\r\n    }\r\n\r\n    createEventNotify(e, type){\r\n        e = e || window.event;\r\n        let px = e.pageX;\r\n        let py = e.pageY;\r\n        let batchNo = this.createPropagationStack();\r\n        let eventNotify;\r\n        this.eventNotifyQueue.push(()=>{\r\n            let eventListeners = this.eventListeners[type];\r\n            if (eventListeners.length > 0)\r\n            {\r\n                let listener;\r\n                for (let i = eventListeners.length - 1; i >=0; i--)\r\n                {\r\n                    listener = eventListeners[i];\r\n                    if (listener.target.isViewState || listener.target.active)\r\n                    {\r\n                        eventNotify = new EventNotify();\r\n                        eventNotify.set({\r\n                            batchNo: batchNo,\r\n                            type: 1,\r\n                            px: px,\r\n                            py: py,\r\n                            listener: listener\r\n                        });\r\n                        listener.setSourceEvent(e);\r\n                        listener.target.addEventNotify(eventNotify);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    createOtherEventNotify(e, type, ntype){\r\n        e = e || window.event;\r\n        let batchNo = this.createPropagationStack();\r\n        let eventNotify;\r\n        this.eventNotifyQueue.push(()=>{\r\n            this.eventListeners[type].forEach((listener)=>{\r\n                if (listener.target.isViewState || listener.target.active)\r\n                {\r\n                    eventNotify = new EventNotify();\r\n                    eventNotify.set({\r\n                        batchNo : batchNo,\r\n                        type : ntype,\r\n                        listener : listener\r\n                    });\r\n                    listener.setSourceEvent(e);\r\n                    listener.target.addEventNotify(eventNotify);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    //通知触发事件\r\n    doNotifyEvent(){\r\n        this.eventNotifyQueue.forEach((eventFun)=>{\r\n            if (eventFun && typeof(eventFun) == \"function\")\r\n            {\r\n                eventFun();\r\n            }\r\n        });\r\n        this.eventNotifyQueue.length = 0;\r\n    }\r\n\r\n    //捕获事件\r\n    captureEvent(eventNotify){\r\n        if (!this.propagationEventQueue[eventNotify.batchNo])\r\n        {\r\n            return;\r\n        }\r\n        this.propagationEventQueue[eventNotify.batchNo].push(eventNotify.listener);\r\n    }\r\n\r\n    /**\r\n     * 冒泡执行事件\r\n     */\r\n    propagationEvent(){\r\n        let listener;\r\n        let bubble;//上一个冒泡节点\r\n        let target;\r\n        let event;\r\n        let top;\r\n        let key;\r\n        for (key in this.propagationEventQueue)\r\n        {\r\n            bubble = undefined;\r\n            target = undefined;\r\n            event = undefined;\r\n            top = this.propagationEventQueue[key].getTop();\r\n            if (top)//获取target，第一个冒泡节点的target\r\n            {\r\n                target = top.target;\r\n            }\r\n            while (listener = this.propagationEventQueue[key].pop())\r\n            {\r\n                if (listener.target.isViewState || !bubble//viewstate节点或第一个节点\r\n                    || (event && event.immediatePropagation && bubble === listener.target)//自己\r\n                    || (event && event.propagation && listener.target.parentOf(bubble)))//parent\r\n                {\r\n                    event = this.getEvent(listener);\r\n                    event.setTarget(target);\r\n                    if (listener.callback && typeof(listener.callback) === \"function\")\r\n                    {\r\n                        listener.callback(event);\r\n                    }\r\n                    bubble = listener.target;\r\n                }\r\n            }\r\n            delete this.propagationEventQueue[key];\r\n        }\r\n    }\r\n\r\n    getEvent(listener){\r\n        let event;\r\n        switch (listener.type)\r\n        {\r\n            case \"click\" :\r\n                event = new ClickEvent(listener.type);\r\n                event.setCurrentTarget(listener.target);\r\n                break;\r\n            case \"mousedown\" :\r\n                event = new MouseEvent(listener.type);\r\n                event.setCurrentTarget(listener.target);\r\n                event.setButton(listener.sourceEvent.button);\r\n                event.setPageX(listener.sourceEvent.pageX);\r\n                event.setPageY(listener.sourceEvent.pageY);\r\n                break;\r\n            case \"mousemove\" :\r\n                event = new MouseEvent(listener.type);\r\n                event.setCurrentTarget(listener.target);\r\n                event.setPageX(listener.sourceEvent.pageX);\r\n                event.setPageY(listener.sourceEvent.pageY);\r\n                break;\r\n            case \"mouseup\" :\r\n                event = new MouseEvent(listener.type);\r\n                event.setCurrentTarget(listener.target);\r\n                event.setButton(listener.sourceEvent.button);\r\n                event.setPageX(listener.sourceEvent.pageX);\r\n                event.setPageY(listener.sourceEvent.pageY);\r\n                break;\r\n            case \"keydown\" :\r\n                event = new KeyEvent(listener.type);\r\n                event.setCurrentTarget(listener.target);\r\n                event.setKey(listener.sourceEvent.key);\r\n                event.setKeyCode(listener.sourceEvent.keyCode);\r\n                break;\r\n            case \"keyup\" :\r\n                event = new KeyEvent(listener.type);\r\n                event.setCurrentTarget(listener.target);\r\n                event.setKey(listener.sourceEvent.key);\r\n                event.setKeyCode(listener.sourceEvent.keyCode);\r\n                break;\r\n            case \"mousewheel\" :\r\n                event = new WheelEvent(listener.type);\r\n                event.setCurrentTarget(listener.target);\r\n                event.setWheelDelta(listener.sourceEvent.wheelDelta || -listener.sourceEvent.detail);\r\n                break;\r\n            default : break;\r\n        }\r\n        return event;\r\n    }\r\n\r\n    /** 注册事件 */\r\n    registerEvent(com, type, callback){\r\n        let listener = this.getEventListener(com, type, callback);\r\n        this.eventListeners[type].push(listener);\r\n        return listener;\r\n    }\r\n\r\n    /**\r\n     * 移除事件\r\n     *\r\n     * @param callback 如果callback不传，则删除所有type类型的事件\r\n     */\r\n    removeEvent(com, type, callback){\r\n        if (!com || !type)\r\n        {\r\n            return;\r\n        }\r\n        let listener;\r\n        for (let i = 0; i < this.eventListeners[type].length; i++)\r\n        {\r\n            listener = this.eventListeners[type][i];\r\n            if (listener.target === com && (!callback || listener.callback === callback))\r\n            {\r\n                this.eventListeners[type].splice(i, 1);\r\n                i--;\r\n            }\r\n        }\r\n    }\r\n\r\n    removeAllEvent(com){\r\n        for (let type in this.eventListeners)\r\n        {\r\n            this.removeEvent(com, type);\r\n        }\r\n    }\r\n\r\n    getEventListener(target, type, callback){\r\n       let eventListener = new EventListener(type, callback);\r\n       eventListener.setTarget(target);\r\n       return eventListener;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/event/eventBus.js","//事件监听类\r\nexport default class EventListener {\r\n    constructor(type, callback) {\r\n        this.type = type;\r\n        this.callback = callback;\r\n    }\r\n\r\n    setTarget(target)\r\n    {\r\n        this.target = target;\r\n    }\r\n\r\n    setSourceEvent(sourceEvent){\r\n        this.sourceEvent = sourceEvent;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/event/eventListener.js","/**\r\n * Created by heju on 2017/7/25.\r\n */\r\nimport Event from \"./event.js\";\r\n\r\nexport default class ClickEvent extends Event{\r\n    constructor(type) {\r\n        super(type);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/event/type/clickEvent.js","/**\r\n * Created by heju on 2017/7/26.\r\n */\r\nimport Event from \"./event.js\";\r\n\r\nexport default class MouseEvent extends Event{\r\n    constructor(type) {\r\n        super(type);\r\n\r\n        this.pageX = undefined;\r\n        this.pageY = undefined;\r\n        this.button = undefined;\r\n    }\r\n\r\n    setPageX(x){\r\n        this.pageX = x;\r\n    }\r\n\r\n    setPageY(y){\r\n        this.pageY = y;\r\n    }\r\n\r\n    setButton(button){\r\n        this.button = button;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/event/type/mouseEvent.js","/**\r\n * Created by heju on 2017/7/26.\r\n */\r\nimport Event from \"./event.js\";\r\n\r\nexport default class KeyEvent extends Event{\r\n    constructor(type) {\r\n        super(type);\r\n\r\n        this.key = undefined;\r\n        this.keyCode = undefined;\r\n    }\r\n\r\n    setKey(key){\r\n        this.key = key;\r\n    }\r\n\r\n    setKeyCode(keyCode){\r\n        this.keyCode = keyCode;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/event/type/keyEvent.js","import Event from \"./event.js\";\r\n\r\nexport default class WheelEvent extends Event{\r\n    constructor(type) {\r\n        super(type);\r\n\r\n        this.wheelDelta = undefined;\r\n    }\r\n\r\n    setWheelDelta(wheelDelta){\r\n        this.wheelDelta = wheelDelta;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/event/type/wheelEvent.js","/**\r\n * Created by heju on 2017/7/26.\r\n */\r\nexport default class Stack{\r\n    constructor() {\r\n    }\r\n\r\n    push(obj){\r\n        if (obj)\r\n        {\r\n            let data;\r\n            if (!this.top)\r\n            {\r\n                data = {\r\n                    value : obj\r\n                };\r\n            }\r\n            else\r\n            {\r\n                data = {\r\n                    value : obj,\r\n                    next : this.top\r\n                };\r\n            }\r\n            this.top = data;\r\n        }\r\n    }\r\n\r\n    pop(){\r\n        if (!this.top)\r\n        {\r\n            return undefined;\r\n        }\r\n        let ret;\r\n        if (this.top)\r\n        {\r\n            ret = this.top.value;\r\n        }\r\n        this.top = this.top.next;\r\n        return ret;\r\n    }\r\n\r\n    getTop(){\r\n        return this.top ? this.top.value : undefined;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/data/structure/stack.js","/**\r\n * Created by heju on 2017/7/26.\r\n */\r\n//事件通知类\r\nexport default class EventNotify {\r\n    constructor() {\r\n    }\r\n\r\n    /**\r\n     * 设置通知，下次循环draw的时候用这些值判断是否触发事件\r\n     */\r\n    set(obj){\r\n        this.batchNo = obj.batchNo;//批次号，表明是哪一批次的事件\r\n        this.type = obj.type;//1：鼠标相关事件；2：键盘事件\r\n        this.px = obj.px;\r\n        this.py = obj.py;\r\n        this.listener = obj.listener;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/event/eventNotify.js","/**\r\n * Created by heju on 2017/2/10.\r\n */\r\nlet httpUtil = {\r\n    getGetParamStr : (param, normal) => {\r\n        let str = \"\";\r\n        if (param != undefined)\r\n        {\r\n            for (let key in param)\r\n            {\r\n                if (normal)\r\n                {\r\n                    str += key + \"=\" + param[key] + \"&\";\r\n                }\r\n                else\r\n                {\r\n                    str += \"/\" + param[key];\r\n                }\r\n            }\r\n            if (normal)\r\n            {\r\n                str = str.substring(0, str.length - 1);\r\n            }\r\n        }\r\n        return str;\r\n    },\r\n    get : (url, param) => {\r\n        return new Promise((resolve, reject)=>{\r\n            let purl = url;\r\n            if (param)\r\n            {\r\n                purl = url + httpUtil.getGetParamStr(param);\r\n            }\r\n            let xmlhttp;\r\n            if (window.XMLHttpRequest)\r\n            {\r\n                //  IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码\r\n                xmlhttp=new XMLHttpRequest();\r\n            }\r\n            else\r\n            {\r\n                // IE6, IE5 浏览器执行代码\r\n                xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n            }\r\n            xmlhttp.onreadystatechange = function()\r\n            {\r\n                if (xmlhttp.readyState==4 && xmlhttp.status==200)\r\n                {\r\n                    resolve(xmlhttp.response);\r\n                }\r\n            }\r\n            xmlhttp.open(\"GET\",purl,true);\r\n            xmlhttp.send();\r\n        });\r\n    },\r\n    post : (url, param, callback, errCallback) => {\r\n        $.ajax({\r\n            type : \"post\",\r\n            contentType: 'application/json',\r\n            data :  JSON.stringify(param),\r\n            url : url,\r\n            success : function(data, textStatus, jqXHR){\r\n                if (callback && typeof(callback) == \"function\")\r\n                {\r\n                    callback.apply(this, [data]);\r\n                }\r\n            },\r\n            error: function (jqXHR, textStatus, errorThrown) {\r\n                if (errCallback && typeof(errCallback) == \"function\")\r\n                {\r\n                    errCallback.apply(this, [textStatus]);\r\n                }\r\n            }\r\n        });\r\n    }\r\n};\r\nexport default httpUtil;\n\n\n// WEBPACK FOOTER //\n// ./src/js/util/httpUtil.js","/**\r\n * Created by heju on 2017/7/21.\r\n */\r\nimport globalUtil from \"../util/globalUtil\";\r\n\r\nexport default class Controller{\r\n    constructor(panel) {\r\n        this.panel = panel;\r\n        this.viewState = globalUtil.viewState;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/controller.js","import Rect from \"../rect.js\";\r\n\r\nexport default class Sprite extends Rect {\r\n    constructor(parent) {\r\n        super(parent);\r\n    }\r\n\r\n    initCfg(cfg){\r\n        super.initCfg(cfg);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/components/game/sprite.js"],"sourceRoot":""}