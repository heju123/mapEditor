{"version":3,"sources":["webpack:///webpack/bootstrap ac035e348b310bdd82e7","webpack:///./src/js/util/globalUtil.js","webpack:///./src/js/util/commonUtil.js","webpack:///./src/js/ui/components/rect.js","webpack:///./src/js/ui/components/panel.js","webpack:///./src/js/event/type/event.js","webpack:///./src/js/ui/components/input.js","webpack:///./src/js/ui/components/scrollbar.js","webpack:///./src/js/main.js","webpack:///./src/js/ui/fps.js","webpack:///./src/js/ui/viewState.js","webpack:///./src/js/ui/components/component.js","webpack:///./src/js/ui/components/button.js","webpack:///./src/js/ui/components/game/sprite.js","webpack:///./src/js/ui/components/router.js","webpack:///./src/js/event/eventBus.js","webpack:///./src/js/event/eventListener.js","webpack:///./src/js/event/type/clickEvent.js","webpack:///./src/js/event/type/mouseEvent.js","webpack:///./src/js/event/type/keyEvent.js","webpack:///./src/js/event/type/wheelEvent.js","webpack:///./src/js/data/structure/stack.js","webpack:///./src/js/event/eventNotify.js","webpack:///./src/js/util/httpUtil.js","webpack:///./src/js/ui/controller.js"],"names":["globalUtil","commonUtil","asyncLoadedScripts","asyncLoadedScriptsCallbackQueue","getScriptDomFromUrl","url","dom","test","document","createElement","setAttribute","href","type","rel","asyncLoadScript","callback","$this","undefined","push","apply","scriptDom","readyState","onreadystatechange","i","j","length","onload","getElementsByTagName","appendChild","concatList","list","addList","forEach","item","isEmptyObj","obj","key","copyObject","dest","override","result","copyArray","getArrayInfoByKey","arr","value","inArray","object","Rect","parent","cfg","ctx","save","beginPath","setCommonStyle","style","backgroundColor","fillStyle","borderRadius","getRectRadiusPath","rect","getRealX","getRealY","getWidth","getHeight","fill","setClip","backgroundImage","backgroundImageDom","backgroundImageClip","drawImage","restore","closePath","borderWidth","bcolor","borderColor","lineWidth","strokeStyle","stroke","text","font","fontSize","fontFamily","textBaseline","row","index","char","cindex","fillText","getTextRealX","parseInt","getTextRealY","lineHeight","getInnerWidth","getInnerHeight","clip","arguments","getRectRadiusPath_self","getRectRadiusPath_xywh","self","radius","padding","px","py","pwidth","pheight","x","y","width","height","moveTo","lineTo","arcTo","com","getRealXRecursion","getRealYRecursion","Panel","controller","Event","propagation","immediatePropagation","target","currentTarget","Input","showTextCursor","showTextCursorInterval","setStyle","multiLine","scrollText","action","focusComponent","drawTextCursor","selectionEnd","inputListenerDom","textRow","textCursorX","textCursorY","compositionMode","getTextCursorPos","mx","my","getText","textX","textY","charCount","setSelectionRange","oriY","doLayout","Scrollbar","setX","setY","setWidth","viewState","setHeight","contentScrollX","contentScrollY","showHScroll","showVScroll","scrollbarBaseLineV","produceLine","baseLineColor","baseLineAlpha","active","scrollbarOpeLineV","opeLineColor","opeLineAlpha","hover","alpha","appendChildren","scrollbarBaseLineH","scrollbarOpeLineH","registerEvent","doMouseDown","bind","doMouseMoveBind","doMouseMove","doMouseUpBind","doMouseUp","doMouseWheel","initScrollbar","hoverComponent","parentOf","onScrollObj","e","pageX","pageY","opeLine","onScrollMDOffset","mp","setVal","maxVal","Math","max","min","contentHeight","setScrollY","contentWidth","setScrollX","wheelDelta","wheelVal","scrollObjY","children","child","oritation","lineColor","require","default","swidth","scrollbarWidth","scrollbarRadius","scrollbarX","scrollbarY","line","init","propagationDoLayout","maxWidth","maxHeight","getTextHeight","getTextWidth","getX","getY","removeEvent","Main","eleId","mainBody","getElementById","fps","position","left","top","body","viewCfg","setMainView","startLoop","window","Monk","httpUtil","Controller","Fps","canvas","offsetWidth","offsetHeight","getContext","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","eventBus","draw","saveStyle","getChildren","Array","sort","a","b","zIndex","drawView","restoreClip","restoreStyle","fillRect","beforeDraw","rootPanel","afterDraw","ViewState","isViewState","defaultFontFamily","defaultFontSize","mouseAction","onFocus","activeComponent","dragComponent","getDragComponent","dragOffset","focus","setRealX","setRealY","addEventListener","setVal2FocusCom","initCfg","doNotifyEvent","hoverCom","propagationEvent","setText","eventNotify","captureEvent","val","retCom","getComponentInChildrenByKey","id","eventType","removeAllEvent","Component","eventNotifys","originalStyle","autoLine","img","Image","autoWidth","autoHeight","src","cfgStyle","current","initCfgStyle","name","getTextForRows","events","eventInfo","funName","param","getController","initChildrenCfg","childrenCfg","chiCfg","produceChildrenByCfg","Button","Sprite","childCom","asyncGetView","newComByType","resolve","reject","parentArea","inParentArea","focusEnable","hoverEnable","activeEnable","isPointInComponent","checkEvent","globalAlpha","allWeight","layout","layoutWeight","fixByWeight","getAllWeight","allWH","weight","orientation","setStyle_obj","setStyle_kv","scrollX","scrollY","rx","ry","oriX","textAlign","textLength","textScrollX","textScrollY","toString","indexOf","substring","rowsStr","charWidth","charAt","split","c","map","join","allWidth","draggable","destroy","Router","routes","rCfg","loader","view","isLoaded","currentRoute","getChildrenView","currentChildren","retChild","Promise","then","destory","destroyRoute","splice","EventBus","eventListeners","eventNotifyQueue","propagationEventQueue","initDomEvent","attachEvent","createEventNotify","createOtherEventNotify","batchNo","Date","getTime","event","createPropagationStack","listener","set","setSourceEvent","addEventNotify","ntype","eventFun","bubble","getTop","pop","getEvent","setTarget","setCurrentTarget","setButton","sourceEvent","button","setPageX","setPageY","setKey","setKeyCode","keyCode","setWheelDelta","detail","getEventListener","eventListener","EventListener","ClickEvent","MouseEvent","KeyEvent","WheelEvent","Stack","data","next","ret","EventNotify","getGetParamStr","normal","str","get","purl","xmlhttp","XMLHttpRequest","ActiveXObject","status","response","open","send","post","errCallback","$","ajax","contentType","JSON","stringify","success","textStatus","jqXHR","error","errorThrown","panel"],"mappings":"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","file":"monk.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ac035e348b310bdd82e7","/**\r\n * Created by heju on 2017/7/25.\r\n */\r\nlet globalUtil = {\r\n};\r\nexport default globalUtil;\n\n\n// WEBPACK FOOTER //\n// ./src/js/util/globalUtil.js","/**\r\n * Created by heju on 2017/7/14.\r\n */\r\nlet commonUtil = {\r\n    asyncLoadedScripts: {},\r\n    asyncLoadedScriptsCallbackQueue: {},\r\n    getScriptDomFromUrl : (url)=>{\r\n        let dom;\r\n        if (/.+\\.js$/.test(url))\r\n        {\r\n            dom = document.createElement(\"SCRIPT\");\r\n            dom.setAttribute(\"type\", \"text/javascript\");\r\n            dom.setAttribute(\"src\", url);\r\n        }\r\n        else if(/.+\\.css$/.test(url))\r\n        {\r\n            dom = document.createElement('link');\r\n            dom.href = url;\r\n            dom.type = \"text/css\";\r\n            dom.rel=\"stylesheet\";\r\n        }\r\n        return dom;\r\n    },\r\n    /**\r\n     * 异步加载script或css\r\n     */\r\n    asyncLoadScript: (url, callback) => {\r\n        let $this = commonUtil;\r\n        if ($this.asyncLoadedScripts[url] != undefined)//已加载script标签\r\n        {\r\n            if (callback && typeof(callback) == \"function\") {\r\n                if ($this.asyncLoadedScripts[url] == 0)//未执行首个script标签的回调\r\n                {\r\n                    if (!$this.asyncLoadedScriptsCallbackQueue[url]) {\r\n                        $this.asyncLoadedScriptsCallbackQueue[url] = [];\r\n                    }\r\n                    $this.asyncLoadedScriptsCallbackQueue[url].push(callback);\r\n                }\r\n                else {\r\n                    callback.apply($this, []);\r\n                }\r\n            }\r\n            return;\r\n        }\r\n        $this.asyncLoadedScripts[url] = 0;\r\n        let scriptDom = $this.getScriptDomFromUrl(url);\r\n        if (scriptDom.readyState) {\r\n            scriptDom.onreadystatechange = function () {\r\n                if (scriptDom.readyState == \"loaded\" || scriptDom.readyState == \"complete\") {\r\n                    scriptDom.onreadystatechange = null;\r\n                    $this.asyncLoadedScripts[url] = 1;\r\n                    if (callback && typeof(callback) == \"function\") {\r\n                        callback.apply($this, []);\r\n                    }\r\n                    if ($this.asyncLoadedScriptsCallbackQueue[url]) {\r\n                        for (let i = 0, j = $this.asyncLoadedScriptsCallbackQueue[url].length; i < j; i++) {\r\n                            $this.asyncLoadedScriptsCallbackQueue[url][i].apply($this, []);\r\n                        }\r\n                        $this.asyncLoadedScriptsCallbackQueue[url] = undefined;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            scriptDom.onload = function () {\r\n                $this.asyncLoadedScripts[url] = 1;\r\n                if (callback && typeof(callback) == \"function\") {\r\n                    callback.apply($this, []);\r\n                }\r\n                if ($this.asyncLoadedScriptsCallbackQueue[url]) {\r\n                    for (let i = 0, j = $this.asyncLoadedScriptsCallbackQueue[url].length; i < j; i++) {\r\n                        $this.asyncLoadedScriptsCallbackQueue[url][i].apply($this, []);\r\n                    }\r\n                    $this.asyncLoadedScriptsCallbackQueue[url] = undefined;\r\n                }\r\n            }\r\n        }\r\n        document.getElementsByTagName('head')[0].appendChild(scriptDom);\r\n    },\r\n    concatList : (list, addList)=>{\r\n        addList.forEach((item)=>{\r\n            list.push(item);\r\n        });\r\n    },\r\n    isEmptyObj : (obj)=>{\r\n        for (let key in obj)\r\n        {\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n    /**\r\n     * 复制对象\r\n     * @param obj 待复制的对象\r\n     * @param dest 复制到目标对象\r\n     * @param override 是否覆盖属性，false:如果dest存在相同不为空的属性，则不做复制操作，true:只复制obj不为空的属性\r\n     * @return 复制的目标对象\r\n     */\r\n    copyObject : (obj, dest, override)=>{\r\n        if (override == undefined)\r\n        {\r\n            override = true;\r\n        }\r\n        let result = dest || {};\r\n        for (let key in obj)\r\n        {\r\n            if (!override && result[key])\r\n            {\r\n                continue;\r\n            }\r\n            else\r\n            {\r\n                if (!obj[key] && obj[key] != 0)\r\n                {\r\n                    continue;\r\n                }\r\n                result[key] = obj[key];\r\n            }\r\n        }\r\n        return result;\r\n    },\r\n    copyArray : (obj)=>{\r\n        let result = [];\r\n        for (let i = 0, j = obj.length; i < j; i++)\r\n        {\r\n            if (typeof(obj[i]) == \"object\")\r\n            {\r\n                result[i] = commonUtil.copyObject(obj[i]);\r\n            }\r\n            else\r\n            {\r\n                result[i] = obj[i];\r\n            }\r\n        }\r\n        return result;\r\n    },\r\n    /**\r\n     * 用key值获取数组\r\n     * @param arr 数组\r\n     * @param key 字段名\r\n     * @param value key字段值\r\n     * @return 数组信息\r\n     */\r\n    getArrayInfoByKey : (arr, key, value)=>{\r\n        let item;\r\n        for (let i = 0, j = arr.length; i < j; i++)\r\n        {\r\n            item = arr[i];\r\n            if (item[key] === value)\r\n            {\r\n                return item;\r\n            }\r\n        }\r\n        return undefined;\r\n    },\r\n    /**\r\n     * 判断对象是否在数组中\r\n     * @param arr\r\n     * @param object\r\n     */\r\n    inArray : (arr, object)=>{\r\n        if (arr == undefined || object == undefined)\r\n        {\r\n            return false;\r\n        }\r\n        let item;\r\n        for (let i = 0,j = arr.length; i < j; i++)\r\n        {\r\n            item = arr[i];\r\n            if (item === object)\r\n            {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n};\r\nexport default commonUtil;\n\n\n// WEBPACK FOOTER //\n// ./src/js/util/commonUtil.js","/**\r\n * Created by heju on 2017/7/14.\r\n */\r\nimport commonUtil from \"../../util/commonUtil.js\";\r\nimport globalUtil from \"../../util/globalUtil.js\";\r\nimport Component from \"./component.js\";\r\n\r\nexport default class Rect extends Component{\r\n    constructor(parent) {\r\n        super(parent);\r\n    }\r\n\r\n    initCfg(cfg){\r\n        super.initCfg(cfg);\r\n    }\r\n\r\n    draw(ctx){\r\n        if (!super.draw(ctx))\r\n        {\r\n            return false;\r\n        }\r\n        ctx.save();\r\n        ctx.beginPath();\r\n        this.setCommonStyle(ctx);\r\n        if (this.style.backgroundColor)\r\n        {\r\n            ctx.fillStyle = this.style.backgroundColor;\r\n            if (this.style.borderRadius)\r\n            {\r\n                this.getRectRadiusPath(this, ctx, this.style.borderRadius);\r\n            }\r\n            else\r\n            {\r\n                ctx.rect(this.getRealX(), this.getRealY(), this.getWidth(), this.getHeight());\r\n            }\r\n            ctx.fill();\r\n        }\r\n        ctx.save();\r\n        this.setClip(ctx);//绘制图片前需要先剪切，避免图片超出当前组件\r\n        if (this.style.backgroundImage && this.backgroundImageDom)\r\n        {\r\n            if (this.style.backgroundImageClip)\r\n            {\r\n                ctx.drawImage(this.backgroundImageDom,\r\n                    this.style.backgroundImageClip[0], this.style.backgroundImageClip[1], this.style.backgroundImageClip[2], this.style.backgroundImageClip[3],\r\n                    this.getRealX(), this.getRealY(), this.getWidth(), this.getHeight());\r\n            }\r\n            else\r\n            {\r\n                ctx.drawImage(this.backgroundImageDom, this.getRealX(), this.getRealY(), this.getWidth(), this.getHeight());\r\n            }\r\n        }\r\n        ctx.restore();\r\n        ctx.closePath();\r\n        if (this.style.borderWidth)\r\n        {\r\n            ctx.beginPath();\r\n            let bcolor = this.style.borderColor || this.style.backgroundColor;\r\n            ctx.lineWidth = this.style.borderWidth;\r\n            ctx.strokeStyle = bcolor;\r\n            if (this.style.borderRadius)\r\n            {\r\n                this.getRectRadiusPath(this, ctx, this.style.borderRadius, -this.style.borderWidth / 2);\r\n            }\r\n            else\r\n            {\r\n                ctx.rect(this.getRealX() + this.style.borderWidth / 2, this.getRealY() + this.style.borderWidth / 2,\r\n                    this.getWidth() - this.style.borderWidth, this.getHeight() - this.style.borderWidth);\r\n            }\r\n            ctx.stroke();//调用stroke后得到的图形宽高会增大lineWidth个像素，fill则不会\r\n            ctx.closePath();\r\n        }\r\n        ctx.restore();\r\n\r\n        //绘制文字\r\n        ctx.save();\r\n        this.setClip(ctx);\r\n        ctx.beginPath();\r\n        this.setCommonStyle(ctx);\r\n        if (this.text && this.text.length > 0)\r\n        {\r\n            ctx.font=this.style.fontSize + \" \" + this.style.fontFamily;\r\n            ctx.textBaseline=\"hanging\";\r\n            this.text.forEach((row, index)=>{\r\n                row.forEach((char, cindex)=>{\r\n                    ctx.fillText(char, this.getTextRealX() + cindex * parseInt(this.style.fontSize, 10),\r\n                        this.getTextRealY() + this.style.lineHeight / 2 - parseInt(this.style.fontSize, 10) / 2 + this.style.lineHeight * index);\r\n                });\r\n            });\r\n        }\r\n        ctx.restore();\r\n\r\n        return true;\r\n    }\r\n\r\n    /** 设置后避免超出当前组件范围 */\r\n    setClip(ctx){\r\n        if (this.style.borderRadius)\r\n        {\r\n            this.getRectRadiusPath(this, ctx, this.style.borderRadius, -(this.style.borderWidth || 0));\r\n        }\r\n        else\r\n        {\r\n            ctx.rect(this.getRealX() + (this.style.borderWidth || 0) - 0.5,\r\n                this.getRealY() + (this.style.borderWidth || 0) - 0.5,\r\n                this.getInnerWidth() + 1, this.getInnerHeight() + 1);//clip后矩形会整体缩小1个像素\r\n        }\r\n        ctx.clip();\r\n    }\r\n\r\n    getRectRadiusPath(){\r\n        if (arguments.length <= 4)\r\n        {\r\n            this.getRectRadiusPath_self(arguments[0], arguments[1], arguments[2], arguments[3]);\r\n        }\r\n        else\r\n        {\r\n            this.getRectRadiusPath_xywh(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], arguments[6]);\r\n        }\r\n    }\r\n    /**\r\n     * 获取圆角矩形路径\r\n     *\r\n     * @param self 当前组件\r\n     * @param radius 圆角半径\r\n     * @param padding 整体扩大的像素\r\n     */\r\n    getRectRadiusPath_self(self, ctx, radius, padding){\r\n        this.getRectRadiusPath_xywh(self.getRealX(), self.getRealY(), self.getWidth(), self.getHeight(), ctx, radius, padding);\r\n    }\r\n    /**\r\n     * 获取圆角矩形路径\r\n     *\r\n     * @param px 绝对x坐标\r\n     * @param py 绝对y坐标\r\n     * @param pwidth 矩形宽\r\n     * @param pheight 矩形高\r\n     * @param radius 圆角半径\r\n     * @param padding 整体扩大的像素\r\n     */\r\n    getRectRadiusPath_xywh(px, py, pwidth, pheight, ctx, radius, padding){\r\n        padding = padding || 0;\r\n        let x = px - padding;\r\n        let y = py - padding;\r\n        let width = pwidth + padding * 2;\r\n        let height = pheight + padding * 2;\r\n        radius += padding;\r\n        ctx.moveTo(x + radius + padding, y);\r\n        ctx.lineTo(x + width - radius - padding, y);\r\n        ctx.arcTo(x + width, y,x + width, y + radius + padding, radius);\r\n        ctx.lineTo(x + width, y + height - radius - padding);\r\n        ctx.arcTo(x + width, y + height, x + width - radius - padding, y + height, radius);\r\n        ctx.lineTo(x + radius + padding, y + height);\r\n        ctx.arcTo(x, y + height, x, y + height - radius - padding, radius);\r\n        ctx.lineTo(x, y + radius + padding);\r\n        ctx.arcTo(x, y, x + radius + padding, y, radius);\r\n    }\r\n\r\n    /**\r\n     * 是否在parent区域内\r\n     *\r\n     * @return -1：无parent；0：不在范围内；1：在范围内\r\n     */\r\n    inParentArea(com){\r\n        if (!com.parent)\r\n        {\r\n            return -1;\r\n        }\r\n        else{\r\n            if (this.getRealXRecursion(com.parent) + com.parent.getInnerWidth() <= com.getRealX()\r\n                || this.getRealXRecursion(com.parent) >= com.getRealX() + com.getWidth()\r\n                || this.getRealYRecursion(com.parent) + com.parent.getInnerHeight() <= com.getRealY()\r\n                || this.getRealYRecursion(com.parent) >= com.getRealY() + com.getHeight())//不在parent范围内\r\n            {\r\n                return 0;\r\n            }\r\n            else\r\n            {\r\n                return 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 判断鼠标坐标是否在控件范围内\r\n     *\r\n     * @param px 鼠标x\r\n     * @param py 鼠标y\r\n     * @return true：在范围内\r\n     */\r\n    isPointInComponent(px, py){\r\n        if (px >= this.getRealX(this) && px <= this.getRealX(this) + this.getWidth()\r\n            && py >= this.getRealY(this) && py <= this.getRealY(this) + this.getHeight())\r\n        {\r\n            return true;\r\n        }\r\n        else\r\n        {\r\n            return false;\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/components/rect.js","/**\r\n * Created by heju on 2017/7/20.\r\n */\r\nimport Rect from \"./rect.js\";\r\n\r\nexport default class Panel extends Rect{\r\n    constructor(parent){\r\n        super(parent);\r\n    }\r\n\r\n    initCfg(cfg)\r\n    {\r\n        if (cfg.controller && typeof(cfg.controller) == \"function\")\r\n        {\r\n            this.controller = new cfg.controller(this);\r\n        }\r\n        super.initCfg(cfg);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/components/panel.js","/**\r\n * Created by heju on 2017/7/25.\r\n */\r\nexport default class Event {\r\n    constructor(type) {\r\n        this.type = type;\r\n        this.propagation = true;\r\n        this.immediatePropagation = true;\r\n    }\r\n\r\n    setTarget(target) {\r\n        this.target = target;\r\n    }\r\n\r\n    setCurrentTarget(target) {\r\n        this.currentTarget = target;\r\n    }\r\n\r\n    stopPropagation()\r\n    {\r\n        this.propagation = false;\r\n    }\r\n\r\n    stopImmediatePropagation(){\r\n        this.immediatePropagation = false;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/event/type/event.js","/**\r\n * Created by heju on 2017/7/30.\r\n */\r\nimport Scrollbar from \"./scrollbar.js\";\r\nimport globalUtil from \"../../util/globalUtil\";\r\nimport commonUtil from \"../../util/commonUtil\";\r\n\r\nexport default class Input extends Scrollbar {\r\n    constructor(parent) {\r\n        super(parent);\r\n\r\n        this.showTextCursor = true;\r\n        this.showTextCursorInterval = 0;\r\n\r\n        this.setStyle({\r\n            multiLine : false,\r\n            scrollText : true\r\n        });\r\n    }\r\n\r\n    initCfg(cfg){\r\n        super.initCfg(cfg);\r\n    }\r\n\r\n    draw(ctx) {\r\n        if (!super.draw(ctx)) {\r\n            return false;\r\n        }\r\n\r\n        ctx.save();\r\n        this.setClip(ctx);\r\n        ctx.beginPath();\r\n        //focus\r\n        if (globalUtil.action.focusComponent === this) {\r\n            //绘制光标\r\n            this.drawTextCursor(ctx);\r\n        }\r\n        ctx.restore();\r\n        return true;\r\n    }\r\n\r\n    /** 获取文本输入光标位置 */\r\n    getTextCursorPos(){\r\n        let selectionEnd = globalUtil.action.inputListenerDom.selectionEnd;\r\n        let textRow;\r\n        if (this.text && this.text.length > 0)\r\n        {\r\n            for (let i = 0,j = this.text.length; i < j; i++)\r\n            {\r\n                if (selectionEnd <= this.text[i].length)\r\n                {\r\n                    textRow = i;\r\n                    break;\r\n                }\r\n                selectionEnd -= this.text[i].length;\r\n                selectionEnd--;//selectionEnd里包含多余的换行符，所以要减一个换行符\r\n            }\r\n            textRow = textRow === undefined ? this.text.length - 1 : textRow;\r\n        }\r\n        this.textCursorX = selectionEnd * parseInt(this.style.fontSize) + 1;\r\n        this.textCursorY = this.style.lineHeight / 2 - parseInt(this.style.fontSize, 10) / 2 + this.style.lineHeight * (textRow || 0);\r\n    }\r\n\r\n    drawTextCursor(ctx){\r\n        if (this.showTextCursor)\r\n        {\r\n            if (!globalUtil.action.inputListenerDom.compositionMode)\r\n            {\r\n                this.getTextCursorPos();\r\n            }\r\n            ctx.fillStyle=\"#000\";\r\n            ctx.moveTo(this.getTextRealX() + this.textCursorX, this.getTextRealY() + this.textCursorY + 2);\r\n            ctx.lineTo(this.getTextRealX() + this.textCursorX, this.getTextRealY() + this.textCursorY + this.style.lineHeight - 2);\r\n            ctx.stroke();\r\n        }\r\n        this.showTextCursorInterval++;\r\n        if (this.showTextCursorInterval === 30)\r\n        {\r\n            this.showTextCursorInterval = 0;\r\n            this.showTextCursor = !this.showTextCursor;\r\n        }\r\n    }\r\n\r\n    onFocus(mx, my){\r\n        this.showTextCursorInterval = 0;\r\n        this.showTextCursor = true;\r\n        globalUtil.action.inputListenerDom.value = this.getText() || \"\";\r\n\r\n        if (this.text)//点击输入框更改光标位置\r\n        {\r\n            let textX;\r\n            let textY;\r\n            let charCount = 0;\r\n            this.text.forEach((row, index)=>{\r\n                row.forEach((char, cindex)=>{\r\n                    textX = this.getTextRealX() + cindex * parseInt(this.style.fontSize, 10);\r\n                    textY = this.getTextRealY() + this.style.lineHeight / 2 - parseInt(this.style.fontSize, 10) / 2 + this.style.lineHeight * index;\r\n                    if (my >= textY\r\n                        && my <= textY + parseInt(this.style.fontSize, 10)\r\n                        && mx >= textX\r\n                        && mx <= textX + parseInt(this.style.fontSize, 10))\r\n                    {\r\n                        globalUtil.action.inputListenerDom.setSelectionRange(charCount + 1, charCount + 1);\r\n                    }\r\n                    charCount++;\r\n                });\r\n                charCount++;//加上换行符\r\n            });\r\n        }\r\n    }\r\n\r\n    getTextRealX(){\r\n        return super.getTextRealX();\r\n    }\r\n\r\n    getTextRealY(){\r\n        let oriY = super.getTextRealY();\r\n        if (this.style.multiLine)\r\n        {\r\n            return oriY;\r\n        }\r\n        else\r\n        {\r\n            return oriY + this.getHeight() / 2 - this.style.lineHeight / 2;\r\n        }\r\n    }\r\n\r\n    setText(text){\r\n        super.setText(text);\r\n        this.doLayout();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/components/input.js","import Rect from \"./rect.js\";\r\nimport globalUtil from \"../../util/globalUtil\";\r\n\r\nexport default class Scrollbar extends Rect {\r\n    constructor(parent) {\r\n        super(parent);\r\n\r\n        if (!this.style.scrollText)\r\n        {\r\n            this.setX(0);\r\n            this.setY(0);\r\n            if (!parent)//最顶层\r\n            {\r\n                this.setWidth(globalUtil.viewState.getWidth());\r\n                this.setHeight(globalUtil.viewState.getHeight());\r\n            }\r\n            else {\r\n                this.setWidth(parent.getInnerWidth());\r\n                this.setHeight(parent.getInnerHeight());\r\n            }\r\n        }\r\n\r\n        this.setStyle({\r\n            contentScrollX : 0, //内容整体滚动的x轴距离\r\n            contentScrollY : 0, //内容整体滚动的y轴距离\r\n            showHScroll : false,//是否显示水平滚动条\r\n            showVScroll : false //是否显示垂直滚动条\r\n        });\r\n    }\r\n\r\n    initScrollbar(){\r\n        //竖向滚动条\r\n        this.scrollbarBaseLineV = this.produceLine(1, this.style.baseLineColor || \"#000\", this.style.baseLineAlpha || 0.25);\r\n        this.scrollbarBaseLineV.active = false;\r\n        this.scrollbarOpeLineV = this.produceLine(1, this.style.opeLineColor || \"#000\", this.style.opeLineAlpha || 0.4);\r\n        this.scrollbarOpeLineV.setStyle({\r\n            hover : {\r\n                alpha : 0.5\r\n            },\r\n            active : {\r\n                alpha : 0.7\r\n            }\r\n        });\r\n        this.scrollbarOpeLineV.type = \"V\";\r\n        this.scrollbarBaseLineV.appendChildren(this.scrollbarOpeLineV);\r\n        this.appendChildren(this.scrollbarBaseLineV);\r\n        //横向滚动条\r\n        this.scrollbarBaseLineH = this.produceLine(2, this.style.baseLineColor || \"#000\", this.style.baseLineAlpha || 0.25);\r\n        this.scrollbarBaseLineH.active = false;\r\n        this.scrollbarOpeLineH = this.produceLine(2, this.style.opeLineColor || \"#000\", this.style.opeLineAlpha || 0.4);\r\n        this.scrollbarOpeLineH.setStyle({\r\n            hover : {\r\n                alpha : 0.5\r\n            },\r\n            active : {\r\n                alpha : 0.7\r\n            }\r\n        });\r\n        this.scrollbarOpeLineH.type = \"H\";\r\n        this.scrollbarBaseLineH.appendChildren(this.scrollbarOpeLineH);\r\n        this.appendChildren(this.scrollbarBaseLineH);\r\n\r\n        this.scrollbarOpeLineV.registerEvent(\"mousedown\", this.doMouseDown.bind(this, \"V\"));\r\n        this.scrollbarOpeLineH.registerEvent(\"mousedown\", this.doMouseDown.bind(this, \"H\"));\r\n        this.doMouseMoveBind = this.doMouseMove.bind(this);\r\n        this.doMouseUpBind = this.doMouseUp.bind(this);\r\n        globalUtil.viewState.registerEvent(\"mousemove\", this.doMouseMoveBind);\r\n        globalUtil.viewState.registerEvent(\"mouseup\", this.doMouseUpBind);\r\n\r\n        this.registerEvent(\"mousewheel\", this.doMouseWheel.bind(this));\r\n    }\r\n\r\n    initCfg(cfg){\r\n        super.initCfg(cfg);\r\n        this.initScrollbar();\r\n    }\r\n\r\n    draw(ctx)\r\n    {\r\n        if (!super.draw(ctx))\r\n        {\r\n            return false;\r\n        }\r\n        if (this.scrollbarBaseLineH && this.scrollbarBaseLineV)\r\n        {\r\n            if (globalUtil.action.hoverComponent === this\r\n                || this.parentOf(globalUtil.action.hoverComponent) || this.onScrollObj)\r\n            {\r\n                this.scrollbarBaseLineH.active = this.style.showHScroll;\r\n                this.scrollbarBaseLineV.active = this.style.showVScroll;\r\n            }\r\n            else\r\n            {\r\n                this.scrollbarBaseLineH.active = false;\r\n                this.scrollbarBaseLineV.active = false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    doMouseDown(type, e){\r\n        let x = e.pageX;\r\n        let y = e.pageY;\r\n        let opeLine = this[\"scrollbarOpeLine\" + type];\r\n        this.onScrollMDOffset = type === \"V\" ? y - opeLine.getRealY() : x - opeLine.getRealX();\r\n        this.onScrollObj = opeLine;\r\n    }\r\n\r\n    doMouseMove(e){\r\n        let x = e.pageX;\r\n        let y = e.pageY;\r\n        if (this.onScrollObj)\r\n        {\r\n            let mp = this.onScrollObj.type === \"V\" ? y : x;\r\n            let setVal;//要设置的滚动条xy值\r\n            let maxVal;//滚动条最大能设置的值\r\n            if (this.onScrollObj.type === \"V\")\r\n            {\r\n                setVal = mp - this.scrollbarBaseLineV.getRealY() - this.onScrollMDOffset;\r\n                maxVal = this.scrollbarBaseLineV.getHeight() - this.onScrollObj.getHeight();\r\n                setVal = Math.max(setVal, 0);\r\n                setVal = Math.min(setVal, maxVal);\r\n                this.onScrollObj.setY(setVal);\r\n                this.setStyle(\"contentScrollY\", (this.style.contentHeight - this.getInnerHeight()) * (setVal / maxVal));\r\n                this.setScrollY();\r\n            }\r\n            else\r\n            {\r\n                setVal = mp - this.scrollbarBaseLineH.getRealX() - this.onScrollMDOffset;\r\n                maxVal = this.scrollbarBaseLineH.getWidth() - this.onScrollObj.getWidth();\r\n                setVal = Math.max(setVal, 0);\r\n                setVal = Math.min(setVal, maxVal);\r\n                this.onScrollObj.setX(setVal);\r\n                this.setStyle(\"contentScrollX\", (this.style.contentWidth - this.getInnerWidth()) * (setVal / maxVal));\r\n                this.setScrollX();\r\n            }\r\n        }\r\n    }\r\n\r\n    doMouseUp(e){\r\n        this.onScrollObj = undefined;\r\n    }\r\n\r\n    doMouseWheel(e){\r\n        if (this.style.contentHeight <= this.getInnerHeight())\r\n        {\r\n            return;\r\n        }\r\n        let wheelDelta = e.wheelDelta;\r\n        let wheelVal;\r\n        if (wheelDelta < 0)\r\n        {\r\n            wheelVal = this.style.contentScrollY + 30;\r\n        }\r\n        else\r\n        {\r\n            wheelVal = this.style.contentScrollY - 30;\r\n        }\r\n        wheelVal = Math.min(wheelVal, this.style.contentHeight - this.getInnerHeight());\r\n        wheelVal = Math.max(wheelVal, 0);\r\n        this.setStyle(\"contentScrollY\", wheelVal);\r\n        this.setScrollY();\r\n        let scrollObjY = (this.scrollbarBaseLineV.getHeight() - this.scrollbarOpeLineV.getHeight())\r\n            * (wheelVal / (this.style.contentHeight - this.getInnerHeight()));\r\n        this.scrollbarOpeLineV.setY(scrollObjY);\r\n    }\r\n\r\n    //设置所有子节点的滚动值\r\n    setScrollX(){\r\n        if (this.style.scrollText)\r\n        {\r\n            this.setStyle(\"textScrollX\", this.style.contentScrollX);\r\n        }\r\n        else\r\n        {\r\n            this.children.forEach((child)=>{\r\n                if (child !== this.scrollbarBaseLineV && child !== this.scrollbarBaseLineH)\r\n                {\r\n                    child.setStyle(\"scrollX\", this.style.contentScrollX);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    setScrollY(){\r\n        if (this.style.scrollText)\r\n        {\r\n            this.setStyle(\"textScrollY\", this.style.contentScrollY);\r\n        }\r\n        else\r\n        {\r\n            this.children.forEach((child)=>{\r\n                if (child !== this.scrollbarBaseLineV && child !== this.scrollbarBaseLineH)\r\n                {\r\n                    child.setStyle(\"scrollY\", this.style.contentScrollY);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /** 生成滚动条\r\n     *\r\n     * @param oritation 方向，1：竖向滚动条；2：横向滚动条\r\n     */\r\n    produceLine(oritation, lineColor, alpha)\r\n    {\r\n        let Rect = require(\"./rect.js\").default;\r\n        oritation = oritation || 1;\r\n        let padding = 0;\r\n        let swidth = this.style.scrollbarWidth || 10;\r\n        let radius = this.style.scrollbarRadius || 6;\r\n        let scrollbarX = oritation === 1 ? this.getInnerWidth() - swidth : padding;\r\n        let scrollbarY = oritation === 2 ? this.getInnerHeight() - swidth : padding;\r\n\r\n        let line = new Rect(this);\r\n        line.setX(scrollbarX);\r\n        line.setY(scrollbarY);\r\n        if (oritation === 1)\r\n        {\r\n            line.setWidth(swidth);\r\n            line.setHeight(this.getInnerHeight() - padding * 2);\r\n        }\r\n        else\r\n        {\r\n            line.setHeight(swidth);\r\n            line.setWidth(this.getInnerWidth() - padding * 2);\r\n        }\r\n        line.setStyle({\r\n            backgroundColor : lineColor,\r\n            alpha : alpha,\r\n            borderRadius : radius\r\n        });\r\n        line.init();\r\n        return line;\r\n    }\r\n\r\n    appendChildren(child){\r\n        super.appendChildren(child);\r\n\r\n        this.propagationDoLayout(this);\r\n    }\r\n\r\n    doLayout(){\r\n        let maxWidth = 0;\r\n        let maxHeight = 0;\r\n        if (this.style.scrollText && this.text)\r\n        {\r\n            maxHeight = this.getTextHeight();\r\n            maxWidth = this.getTextWidth();\r\n        }\r\n        else\r\n        {\r\n            this.children.forEach((child, index)=>{\r\n                if (child !== this.scrollbarBaseLineV && child !== this.scrollbarBaseLineH)\r\n                {\r\n                    maxWidth = Math.max(maxWidth, child.getX() + child.getWidth());\r\n                    maxHeight = Math.max(maxHeight, child.getY() + child.getHeight());\r\n                }\r\n            });\r\n        }\r\n        this.setStyle({\r\n            contentWidth : maxWidth,\r\n            contentHeight : maxHeight\r\n        });\r\n\r\n        //是否显示滚动条\r\n        if (this.scrollbarBaseLineH)\r\n        {\r\n            if (this.style.contentWidth <= this.getInnerWidth())\r\n            {\r\n                this.scrollbarBaseLineH.active = false;\r\n                this.setStyle(\"showHScroll\", false);\r\n            }\r\n            else\r\n            {\r\n                this.scrollbarOpeLineH.setWidth(this.scrollbarBaseLineH.getWidth() * (this.getInnerWidth() / this.style.contentWidth));\r\n                this.setStyle(\"showHScroll\", true);\r\n            }\r\n        }\r\n        if (this.scrollbarBaseLineV)\r\n        {\r\n            if (this.style.contentHeight <= this.getHeight())\r\n            {\r\n                this.scrollbarBaseLineV.active = false;\r\n                this.setStyle(\"showVScroll\", false);\r\n            }\r\n            else\r\n            {\r\n                this.scrollbarOpeLineV.setHeight(this.scrollbarBaseLineV.getHeight() * (this.getInnerHeight() / this.style.contentHeight));\r\n                this.setStyle(\"showVScroll\", true);\r\n            }\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n\r\n        globalUtil.viewState.removeEvent(\"mousemove\", this.doMouseMoveBind);\r\n        globalUtil.viewState.removeEvent(\"mouseup\", this.doMouseUpBind);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/components/scrollbar.js","/**\r\n * Created by heju on 2017/7/10.\r\n */\r\nimport Fps from \"./ui/fps.js\";\r\nimport httpUtil from \"./util/httpUtil.js\";\r\nimport commonUtil from \"./util/commonUtil.js\";\r\nimport globalUtil from \"./util/globalUtil.js\";\r\nimport Controller from \"./ui/controller.js\";\r\n\r\nclass Main {\r\n    constructor(eleId){\r\n        let mainBody = document.getElementById(eleId);\r\n        this.fps = new Fps(mainBody);\r\n\r\n        globalUtil.action = {};\r\n\r\n        //输入框输入监听\r\n        globalUtil.action.inputListenerDom = document.createElement(\"TEXTAREA\");\r\n        globalUtil.action.inputListenerDom.style.position = \"fixed\";\r\n        globalUtil.action.inputListenerDom.style.left = \"0px\";\r\n        globalUtil.action.inputListenerDom.style.top = \"0px\";\r\n        globalUtil.action.inputListenerDom.style[\"z-index\"] = -1;\r\n        document.body.appendChild(globalUtil.action.inputListenerDom);\r\n    }\r\n\r\n    setMainView(viewCfg){\r\n        this.fps.setMainView(viewCfg);\r\n        this.fps.startLoop();\r\n    }\r\n\r\n    run(viewCfg){\r\n        this.setMainView(viewCfg);\r\n    }\r\n}\r\n\r\nwindow.Monk = {\r\n    Main : Main,\r\n    commonUtil : commonUtil,\r\n    httpUtil : httpUtil,\r\n    Controller : Controller\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","/**\r\n * Created by heju on 2017/7/13.\r\n */\r\nimport commonUtil from \"../util/commonUtil.js\";\r\nimport globalUtil from \"../util/globalUtil.js\";\r\nimport ViewState from \"./viewState.js\";\r\nimport EventBus from \"../event/eventBus.js\";\r\n\r\nexport default class Fps{\r\n    constructor(mainBody){\r\n        this.canvas = document.createElement(\"CANVAS\");\r\n        mainBody.appendChild(this.canvas);\r\n        this.canvas.width = mainBody.offsetWidth;\r\n        this.canvas.height = mainBody.offsetHeight;\r\n        this.ctx = this.canvas.getContext('2d');\r\n        window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\r\n\r\n        globalUtil.eventBus = new EventBus(this.canvas);\r\n    }\r\n\r\n    setMainView(viewCfg){\r\n        globalUtil.viewState = new ViewState(this.ctx);\r\n        globalUtil.viewState.init(viewCfg);\r\n    }\r\n\r\n    /** 开始循环绘制 */\r\n    startLoop(){\r\n        window.requestAnimationFrame(this.draw.bind(this));\r\n    }\r\n\r\n    /** 防止children超出 */\r\n    setClip(com)\r\n    {\r\n        if (com.setClip)\r\n        {\r\n            this.ctx.save();\r\n            com.setClip(this.ctx);\r\n        }\r\n    }\r\n    restoreClip(com)\r\n    {\r\n        if (com.setClip)\r\n        {\r\n            this.ctx.restore();\r\n        }\r\n    }\r\n\r\n    drawView(com){\r\n        if (!com.active)\r\n        {\r\n            return;\r\n        }\r\n        com.saveStyle();\r\n        if (com.draw(this.ctx))\r\n        {\r\n            let children = com.getChildren();\r\n            if (children)\r\n            {\r\n                if (children instanceof Array)\r\n                {\r\n                    children.sort((a, b)=>a.style.zIndex - b.style.zIndex);//zIndex升序排序\r\n                    let child;\r\n                    for (let i = 0, j = children.length; i < j; i++)\r\n                    {\r\n                        this.setClip(com);\r\n                        child = children[i];\r\n                        this.drawView(child);\r\n                        this.restoreClip(com);\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    this.setClip(com);\r\n                    this.drawView(children);\r\n                    this.restoreClip(com);\r\n                }\r\n            }\r\n        }\r\n        com.restoreStyle();\r\n    }\r\n\r\n    draw(){\r\n        //背景\r\n        this.ctx.fillStyle = \"#000\";\r\n        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n        globalUtil.viewState.beforeDraw(this.ctx);\r\n        this.drawView(globalUtil.viewState.rootPanel);\r\n        globalUtil.viewState.afterDraw(this.ctx);\r\n\r\n        window.requestAnimationFrame(this.draw.bind(this));\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/fps.js","/**\r\n * Created by heju on 2017/7/19.\r\n */\r\nimport globalUtil from \"../util/globalUtil.js\";\r\nimport commonUtil from \"../util/commonUtil.js\";\r\nimport Panel from \"./components/panel.js\";\r\nimport Router from \"./components/router.js\";\r\nimport Input from \"./components/input.js\";\r\n\r\nexport default class ViewState{\r\n    constructor(ctx){\r\n        this.ctx = ctx;\r\n\r\n        this.isViewState = true;\r\n\r\n        this.defaultFontFamily = \"Microsoft YaHei\";\r\n        this.defaultFontSize = \"14px\";\r\n\r\n        this.ctx.mouseAction = {};\r\n\r\n        this.registerEvent(\"mousedown\", (e)=>{\r\n            if (globalUtil.action.hoverComponent)\r\n            {\r\n                globalUtil.action.focusComponent = globalUtil.action.hoverComponent;\r\n                if (globalUtil.action.focusComponent.onFocus && typeof(globalUtil.action.focusComponent.onFocus) === \"function\")\r\n                {\r\n                    globalUtil.action.focusComponent.onFocus(e.pageX, e.pageY);\r\n                }\r\n                globalUtil.action.activeComponent = globalUtil.action.hoverComponent;\r\n                //是否支持拖动\r\n                globalUtil.action.dragComponent = globalUtil.action.hoverComponent.getDragComponent(globalUtil.action.hoverComponent);\r\n                if (globalUtil.action.dragComponent)\r\n                {\r\n                    globalUtil.action.dragOffset = {\r\n                        x : e.pageX - globalUtil.action.dragComponent.getRealX(),\r\n                        y : e.pageY - globalUtil.action.dragComponent.getRealY()\r\n                    };\r\n                }\r\n            }\r\n        });\r\n        this.registerEvent(\"mouseup\", (e)=>{\r\n            globalUtil.action.inputListenerDom.focus();\r\n            if (globalUtil.action.activeComponent)\r\n            {\r\n                globalUtil.action.activeComponent = undefined;\r\n            }\r\n            if (globalUtil.action.dragComponent)\r\n            {\r\n                globalUtil.action.dragComponent = undefined;\r\n                globalUtil.action.dragOffset = undefined;\r\n            }\r\n        });\r\n        this.registerEvent(\"mousemove\", (e)=>{\r\n            this.ctx.mouseAction.mx = e.pageX;\r\n            this.ctx.mouseAction.my = e.pageY;\r\n\r\n            if (globalUtil.action.dragComponent)//拖动\r\n            {\r\n                globalUtil.action.dragComponent.setRealX(e.pageX - globalUtil.action.dragOffset.x);\r\n                globalUtil.action.dragComponent.setRealY(e.pageY - globalUtil.action.dragOffset.y);\r\n            }\r\n        });\r\n\r\n        //输入框事件\r\n        globalUtil.action.inputListenerDom.compositionMode = false;//是否输入法状态\r\n        globalUtil.eventBus.addEventListener(globalUtil.action.inputListenerDom, \"compositionstart\", (e)=>{\r\n            globalUtil.action.inputListenerDom.compositionMode = true;\r\n        });\r\n        globalUtil.eventBus.addEventListener(globalUtil.action.inputListenerDom, \"compositionend\", (e)=>{\r\n            globalUtil.action.inputListenerDom.compositionMode = false;\r\n            if (globalUtil.action.focusComponent && globalUtil.action.focusComponent instanceof Input)\r\n            {\r\n                this.setVal2FocusCom();\r\n            }\r\n        });\r\n        globalUtil.eventBus.addEventListener(globalUtil.action.inputListenerDom, \"input\", (e)=>{\r\n            if (!globalUtil.action.inputListenerDom.compositionMode\r\n                && globalUtil.action.focusComponent && globalUtil.action.focusComponent instanceof Input)\r\n            {\r\n                this.setVal2FocusCom();\r\n            }\r\n        });\r\n    }\r\n\r\n    init(viewCfg){\r\n        if (viewCfg.type == \"panel\")\r\n        {\r\n            this.rootPanel = new Panel();\r\n            this.rootPanel.initCfg(viewCfg);\r\n        }\r\n        else if (viewCfg.type == \"route\")\r\n        {\r\n            this.rootPanel = new Router();\r\n            this.rootPanel.initCfg(viewCfg);\r\n        }\r\n    }\r\n\r\n    /** 绘制前 */\r\n    beforeDraw(ctx){\r\n        //通知触发事件\r\n        globalUtil.eventBus.doNotifyEvent();\r\n\r\n        ctx.mouseAction.hoverCom = undefined;\r\n    }\r\n\r\n    /** 绘制后 */\r\n    afterDraw(ctx){\r\n        globalUtil.eventBus.propagationEvent();\r\n\r\n        //全部绘制完后检查hover的组件\r\n        if (ctx.mouseAction.hoverCom)\r\n        {\r\n            globalUtil.action.hoverComponent = ctx.mouseAction.hoverCom;\r\n        }\r\n    }\r\n\r\n    /** 将textarea中的值设置到焦点组件 */\r\n    setVal2FocusCom(){\r\n        globalUtil.action.focusComponent.setText(globalUtil.action.inputListenerDom.value);\r\n        globalUtil.action.inputListenerDom.text = globalUtil.action.focusComponent.getText() || \"\";\r\n    }\r\n\r\n    addEventNotify(eventNotify){\r\n        globalUtil.eventBus.captureEvent(eventNotify);//为了最后执行mousedown事件，必须第一个占坑\r\n    }\r\n\r\n    getComponentInChildrenByKey(key, val, com) {\r\n        let children = com.getChildren();\r\n        if (children)\r\n        {\r\n            let retCom;\r\n            if (children instanceof Array)\r\n            {\r\n                let child;\r\n                for (let i = 0, j = children.length; i < j; i++)\r\n                {\r\n                    child = children[i];\r\n                    if (child[key] && child[key] === val)\r\n                    {\r\n                        return child;\r\n                    }\r\n                    retCom = this.getComponentInChildrenByKey(key, val, child);\r\n                    if (retCom)\r\n                    {\r\n                        return retCom;\r\n                    }\r\n                    if (i == j - 1)\r\n                    {\r\n                        return undefined;\r\n                    }\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if (children[key] && children[key] === val)\r\n                {\r\n                    return children;\r\n                }\r\n                else\r\n                {\r\n                    return this.getComponentInChildrenByKey(key, val, children);\r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n            return undefined;\r\n        }\r\n    }\r\n\r\n    getComponentById(id){\r\n        if (this.rootPanel.id && this.rootPanel.id === id)\r\n        {\r\n            return this.rootPanel;\r\n        }\r\n        else\r\n        {\r\n            return this.getComponentInChildrenByKey(\"id\", id, this.rootPanel);\r\n        }\r\n    }\r\n\r\n    getWidth(){\r\n        return this.ctx.canvas.width;\r\n    }\r\n\r\n    getHeight(){\r\n        return this.ctx.canvas.height;\r\n    }\r\n\r\n    registerEvent(eventType, callback){\r\n        globalUtil.eventBus.registerEvent(this, eventType, callback);\r\n    }\r\n\r\n    removeEvent(eventType, callback){\r\n        globalUtil.eventBus.removeEvent(this, eventType, callback);\r\n    }\r\n\r\n    removeAllEvent()\r\n    {\r\n        globalUtil.eventBus.removeAllEvent(this);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/viewState.js","/**\r\n * Created by heju on 2017/7/20.\r\n */\r\nimport globalUtil from \"../../util/globalUtil.js\";\r\nimport commonUtil from \"../../util/commonUtil.js\";\r\n\r\nexport default class Component {\r\n    constructor(parent) {\r\n        this.parent = parent;\r\n        this.eventNotifys = [];//事件通知队列\r\n        this.active = true;//为false则不绘制\r\n        this.children = [];\r\n\r\n        this.style = {};\r\n        this.originalStyle = {};//保存原来的样式，避免focus或hover后原来的样式丢失\r\n\r\n        this.setStyle({\r\n            fontFamily : globalUtil.viewState.defaultFontFamily,\r\n            fontSize : globalUtil.viewState.defaultFontSize,\r\n            zIndex : 1,\r\n            multiLine : true,//是否多行文本\r\n            autoLine : true//是否自动换行\r\n        });\r\n        this.setStyle(\"lineHeight\", parseInt(this.style.fontSize, 10));\r\n    }\r\n\r\n    init(){\r\n        let $this = this;\r\n        if (this.style.backgroundImage)\r\n        {\r\n            let img = new Image();\r\n            img.onload = function(){\r\n                $this.backgroundImageDom = this;\r\n                if (!$this.getWidth() || $this.style.autoWidth)\r\n                {\r\n                    $this.setWidth($this.backgroundImageDom.width);\r\n                }\r\n                if (!$this.getHeight() || $this.style.autoHeight)\r\n                {\r\n                    $this.setHeight($this.backgroundImageDom.height);\r\n                }\r\n            };\r\n            img.src = this.style.backgroundImage;\r\n        }\r\n    }\r\n\r\n    /** 配置文件递归初始化样式 */\r\n    initCfgStyle(cfgStyle, current){\r\n        for (let key in cfgStyle)\r\n        {\r\n            if (typeof(cfgStyle[key]) === \"function\")\r\n            {\r\n                current[key] = cfgStyle[key].apply(this, []);\r\n            }\r\n            else if (typeof(cfgStyle[key]) === \"object\")\r\n            {\r\n                current[key] = {};\r\n                this.initCfgStyle(cfgStyle[key], current[key]);\r\n            }\r\n            else\r\n            {\r\n                current[key] = cfgStyle[key];\r\n            }\r\n        }\r\n    }\r\n\r\n    initCfg(cfg){\r\n        if (cfg.id)\r\n        {\r\n            this.id = cfg.id;\r\n        }\r\n        if (cfg.name)\r\n        {\r\n            this.name = cfg.name;\r\n        }\r\n\r\n        this.initCfgStyle(cfg.style, this.style);\r\n\r\n        this.text = this.getTextForRows(cfg.text);\r\n\r\n        this.active = cfg.active === undefined ? true : false;\r\n\r\n        //事件绑定配置\r\n        if (cfg.events)\r\n        {\r\n            let eventInfo;\r\n            let funName;\r\n            let param;\r\n            let controller;\r\n            for (let type in cfg.events)\r\n            {\r\n                eventInfo = cfg.events[type];\r\n                if (typeof(eventInfo) == \"object\")\r\n                {\r\n                    funName = eventInfo.callback;\r\n                    if (eventInfo.param)//有参数\r\n                    {\r\n                        param = eventInfo.param.apply(this, [this]);\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    funName = eventInfo;\r\n                }\r\n                controller = this.getController(this);\r\n                if (controller && controller[funName]\r\n                    && typeof(controller[funName]) == \"function\")\r\n                {\r\n                    if (param)\r\n                    {\r\n                        this.registerEvent(type, controller[funName].bind(controller, param));\r\n                    }\r\n                    else\r\n                    {\r\n                        this.registerEvent(type, controller[funName].bind(controller));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.init();\r\n\r\n        if (cfg.children)\r\n        {\r\n            this.initChildrenCfg(cfg.children);\r\n        }\r\n    }\r\n\r\n    initChildrenCfg(childrenCfg){\r\n        if (typeof(childrenCfg) == \"object\" && childrenCfg instanceof Array)\r\n        {\r\n            let chiCfg;\r\n            for (let i = 0, j = childrenCfg.length; i < j; i++)\r\n            {\r\n                chiCfg = childrenCfg[i];\r\n                this.produceChildrenByCfg(chiCfg);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            this.produceChildrenByCfg(childrenCfg);\r\n        }\r\n    }\r\n\r\n    newComByType(type){\r\n        let Panel = require(\"./panel.js\").default;\r\n        let Rect = require(\"./rect.js\").default;\r\n        let Input = require(\"./input.js\").default;\r\n        let Button = require(\"./button.js\").default;\r\n        let Scrollbar = require(\"./scrollbar.js\").default;\r\n        let Sprite = require(\"./game/sprite.js\").default;\r\n        let com;\r\n        switch (type)\r\n        {\r\n            case \"panel\" :\r\n                com = new Panel(this);\r\n                break;\r\n            case \"rect\" :\r\n                com = new Rect(this);\r\n                break;\r\n            case \"input\" :\r\n                com = new Input(this);\r\n                break;\r\n            case \"button\" :\r\n                com = new Button(this);\r\n                break;\r\n            case \"scrollbar\" :\r\n                com = new Scrollbar(this);\r\n                break;\r\n            case \"sprite\" :\r\n                com = new Sprite(this);\r\n            default : break;\r\n        }\r\n        return com;\r\n    }\r\n\r\n    produceChildrenByCfg(chiCfg){\r\n        let childCom;\r\n        if (typeof(chiCfg) === \"function\")//异步加载view\r\n        {\r\n            return chiCfg(this.asyncGetView.bind(this));\r\n        }\r\n        else\r\n        {\r\n            childCom = this.newComByType(chiCfg.type);\r\n            childCom.initCfg(chiCfg);\r\n            this.appendChildren(childCom);\r\n            return childCom;\r\n        }\r\n    }\r\n\r\n    asyncGetView(viewCfg, resolve, reject){\r\n        let childCom = this.newComByType(viewCfg.type);\r\n        childCom.initCfg(viewCfg);\r\n        this.appendChildren(childCom);\r\n        if (resolve)\r\n        {\r\n            resolve(childCom);\r\n        }\r\n    }\r\n\r\n    draw(ctx){\r\n        //不在parent范围内，则不需要绘制\r\n        let parentArea = this.inParentArea(this);\r\n        if (parentArea === 0)\r\n        {\r\n            return false;\r\n        }\r\n\r\n        this.focusEnable();\r\n        this.hoverEnable();\r\n        this.activeEnable();\r\n\r\n        //判断鼠标是否在组件范围内\r\n        //防止鼠标指向子组件超出父组件的范围部分而hover到这个子组件上\r\n        if (ctx.mouseAction.mx && ctx.mouseAction.my\r\n            && this.isPointInComponent(ctx.mouseAction.mx, ctx.mouseAction.my)\r\n            && (!this.parent || this.parent === ctx.mouseAction.hoverCom\r\n                || this.parent === ctx.mouseAction.hoverCom.parent\r\n                || this.parent.parentOf(ctx.mouseAction.hoverCom)))\r\n        {\r\n            ctx.mouseAction.hoverCom = this;\r\n        }\r\n\r\n        //检查事件\r\n        if (this.eventNotifys.length > 0)\r\n        {\r\n            this.eventNotifys.forEach((eventNotify)=>{\r\n                this.checkEvent(eventNotify);\r\n            });\r\n            this.eventNotifys.length = 0;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /** 添加子节点 */\r\n    appendChildren(child){\r\n        this.children.push(child);\r\n\r\n        this.propagationDoLayout(this);\r\n    }\r\n\r\n    /** 设置通用样式，所有组件在绘制前都应该设置 */\r\n    setCommonStyle(ctx){\r\n        //半透明\r\n        if (this.style.alpha !== undefined)\r\n        {\r\n            ctx.globalAlpha = this.style.alpha;\r\n        }\r\n    }\r\n\r\n    saveStyle(){\r\n        commonUtil.copyObject(this.style, this.originalStyle, true);\r\n    }\r\n\r\n    restoreStyle(){\r\n        this.setStyle(this.originalStyle);\r\n    }\r\n\r\n    hoverEnable(){\r\n        if (globalUtil.action.hoverComponent === this)\r\n        {\r\n            this.setStyle(this.style.hover);\r\n        }\r\n    }\r\n    focusEnable(){\r\n        if (globalUtil.action.focusComponent === this)\r\n        {\r\n            this.setStyle(this.style.focus);\r\n        }\r\n    }\r\n    activeEnable(){\r\n        if (globalUtil.action.activeComponent === this)\r\n        {\r\n            this.setStyle(this.style.active);\r\n        }\r\n    }\r\n\r\n    /** 检查事件是否匹配 */\r\n    checkEvent(eventNotify){\r\n        if (eventNotify.type)\r\n        {\r\n            if (eventNotify.type === 1\r\n                && this.isPointInComponent(eventNotify.px, eventNotify.py))//判断鼠标是否在控件范围内\r\n            {\r\n                globalUtil.eventBus.captureEvent(eventNotify);\r\n            }\r\n            else if (eventNotify.type === 2\r\n                && globalUtil.action.focusComponent === this)//键盘事件\r\n            {\r\n                globalUtil.eventBus.captureEvent(eventNotify);\r\n            }\r\n            else if (eventNotify.type === 3\r\n                && (globalUtil.action.focusComponent === this\r\n                    || this.parentOf(globalUtil.action.focusComponent)))//鼠标滚动事件\r\n            {\r\n                globalUtil.eventBus.captureEvent(eventNotify);\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 冒泡执行doLayout方法 */\r\n    propagationDoLayout(com){\r\n        if (com.doLayout && typeof(com.doLayout) === \"function\")\r\n        {\r\n            com.doLayout();\r\n        }\r\n        if (com.parent)\r\n        {\r\n            this.propagationDoLayout(com.parent);\r\n        }\r\n    }\r\n\r\n    /** 获取所有的权值 */\r\n    getAllWeight(){\r\n        let allWeight = 0;\r\n        this.children.forEach((child, index)=>{\r\n            if (child.style.layout && child.style.layout.layoutWeight)\r\n            {\r\n                allWeight += child.style.layout.layoutWeight;\r\n            }\r\n            else\r\n            {\r\n                allWeight += 1;\r\n            }\r\n        });\r\n        return allWeight;\r\n    }\r\n    doLayout(){\r\n        if (this.style.layout && this.style.layout.type && this.children.length > 0)\r\n        {\r\n            switch(this.style.layout.type)\r\n            {\r\n                case \"linearLayout\" :\r\n                    let fixByWeight = this.style.layout.fixByWeight || false;\r\n                    let allWeight = 0;\r\n                    if (fixByWeight)\r\n                    {\r\n                        allWeight = this.getAllWeight();//总权值\r\n                    }\r\n                    let allWH = 0;//记录高宽，确定x和y坐标\r\n                    this.children.forEach((child, index)=>{\r\n                        let weight = 1;\r\n                        if (child.style.layout && child.style.layout.layoutWeight)\r\n                        {\r\n                            weight = child.style.layout.layoutWeight;\r\n                        }\r\n                        if (!this.style.layout.orientation || this.style.layout.orientation === \"horizontal\")\r\n                        {\r\n                            let width;\r\n                            if (fixByWeight)\r\n                            {\r\n                                width = this.getInnerWidth() * (weight / allWeight);\r\n                            }\r\n                            else\r\n                            {\r\n                                width = child.getWidth();\r\n                            }\r\n                            child.setX(allWH);\r\n                            child.setY(0);\r\n                            child.setWidth(width);\r\n                            allWH += width;\r\n                        }\r\n                        else if (this.style.layout.orientation === \"vertical\")\r\n                        {\r\n                            let height;\r\n                            if (fixByWeight)\r\n                            {\r\n                                height = this.getInnerHeight() * (weight / allWeight);\r\n                            }\r\n                            else\r\n                            {\r\n                                height = child.getHeight();\r\n                            }\r\n                            child.setY(allWH);\r\n                            child.setX(0);\r\n                            child.setHeight(height);\r\n                            allWH += height;\r\n                        }\r\n                    });\r\n                    //自适应高宽\r\n                    if ((!this.style.layout.orientation || this.style.layout.orientation === \"horizontal\")\r\n                        && this.style.autoWidth)\r\n                    {\r\n                        this.setWidth(allWH);\r\n                    }\r\n                    else if ((this.style.layout.orientation === \"vertical\")\r\n                        && this.style.autoHeight)\r\n                    {\r\n                        this.setHeight(allWH);\r\n                    }\r\n                    break;\r\n                default : break;\r\n            }\r\n        }\r\n    }\r\n\r\n    /** this是否是com的父亲 */\r\n    parentOf(com){\r\n        if (!com || !com.parent)\r\n        {\r\n            return false;\r\n        }\r\n        if (com.parent === this)\r\n        {\r\n            return true;\r\n        }\r\n        return this.parentOf(com.parent);\r\n    }\r\n\r\n    /** 设置组件样式 */\r\n    setStyle(){\r\n        if (arguments.length === 0)\r\n        {\r\n            return;\r\n        }\r\n        if (arguments.length === 1 && typeof(arguments[0]) === \"object\")\r\n        {\r\n            this.setStyle_obj(arguments[0]);\r\n        }\r\n        else if (arguments.length === 2 && typeof(arguments[0]) === \"string\")\r\n        {\r\n            this.setStyle_kv(arguments[0], arguments[1]);\r\n        }\r\n    }\r\n    setStyle_kv(key, value){\r\n        this.style[key] = value;\r\n    }\r\n    setStyle_obj(style){\r\n        commonUtil.copyObject(style, this.style, true);\r\n    }\r\n\r\n\r\n    getController(com){\r\n        let Panel = require(\"./panel.js\").default;\r\n        if (!com.parent)\r\n        {\r\n            return com.controller;\r\n        }\r\n        if (com instanceof Panel && com.controller)\r\n        {\r\n            return com.controller;\r\n        }\r\n        else\r\n        {\r\n            return this.getController(com.parent);\r\n        }\r\n    }\r\n\r\n    setX(x){\r\n        this.setStyle(\"x\", x);\r\n    }\r\n    setY(y){\r\n        this.setStyle(\"y\", y);\r\n    }\r\n    getX(){\r\n        return this.style.x - (this.style.scrollX || 0);//要减去滚动的长度\r\n    }\r\n    getY(){\r\n        return this.style.y - (this.style.scrollY || 0);\r\n    }\r\n\r\n    //设置真实坐标，传入真实坐标,会转换成x或y\r\n    setRealX(rx){\r\n        if (this.parent)\r\n        {\r\n            this.setX(rx - this.getRealXRecursion(this.parent));\r\n        }\r\n        else\r\n        {\r\n            this.setX(rx);\r\n        }\r\n    }\r\n    setRealY(ry){\r\n        if (this.parent)\r\n        {\r\n            this.setY(ry - this.getRealYRecursion(this.parent));\r\n        }\r\n        else\r\n        {\r\n            this.setY(ry);\r\n        }\r\n    }\r\n\r\n    //获取显示在界面上真实的x坐标，加上父级坐标\r\n    getRealXRecursion(com){\r\n        if (com.parent)\r\n        {\r\n            return com.getX() + this.getRealXRecursion(com.parent) + (com.parent.style.borderWidth || 0);\r\n        }\r\n        else\r\n        {\r\n            return com.getX();\r\n        }\r\n    }\r\n    getRealX(){\r\n        return this.getRealXRecursion(this);\r\n    }\r\n    getRealYRecursion(com){\r\n        if (com.parent)\r\n        {\r\n            return com.getY() + this.getRealYRecursion(com.parent) + (com.parent.style.borderWidth || 0);\r\n        }\r\n        else{\r\n            return com.getY();\r\n        }\r\n    }\r\n    getRealY(){\r\n        return this.getRealYRecursion(this);\r\n    }\r\n\r\n    /** 获取文本的坐标 */\r\n    getTextRealX(){\r\n        let oriX = this.getRealX() + (this.style.borderWidth || 0);\r\n        //文字居中显示\r\n        if (this.text && this.style.textAlign === \"center\")\r\n        {\r\n            let textLength = parseInt(this.style.fontSize) * this.getText().length;\r\n            if (textLength <= this.getWidth())\r\n            {\r\n                return oriX + (this.getWidth() / 2 - textLength / 2);\r\n            }\r\n        }\r\n        return oriX - (this.style.textScrollX || 0);\r\n    }\r\n    getTextRealY(){\r\n        return this.getRealY() + (this.style.borderWidth || 0) - (this.style.textScrollY || 0);\r\n    }\r\n\r\n    /** 高宽处理 */\r\n    setWidth(width){\r\n        this.setStyle(\"width\", width);\r\n    }\r\n    setHeight(height){\r\n        this.setStyle(\"height\", height);\r\n    }\r\n    getWidth(){\r\n        if (!this.style.width)\r\n        {\r\n            return undefined;\r\n        }\r\n        if (this.style.width.toString().indexOf(\"%\") > -1)//百分比\r\n        {\r\n            let maxWidth = this.parent.getInnerWidth();\r\n            return maxWidth * (this.style.width.substring(0, this.style.width.length - 1) / 100);\r\n        }\r\n        return this.style.width;\r\n    }\r\n    getHeight(){\r\n        if (!this.style.height)\r\n        {\r\n            return undefined;\r\n        }\r\n        if (this.style.height.toString().indexOf(\"%\") > -1)\r\n        {\r\n            let maxHeight = this.parent.getInnerHeight();\r\n            return maxHeight * (this.style.height.substring(0, this.style.height.length - 1) / 100);\r\n        }\r\n        return this.style.height;\r\n    }\r\n    //获取去边框的宽高\r\n    getInnerWidth(){\r\n        return this.getWidth() - (this.style.borderWidth || 0) * 2;\r\n    }\r\n    getInnerHeight(){\r\n        return this.getHeight() - (this.style.borderWidth || 0) * 2;\r\n    }\r\n\r\n    /** 用\\n分隔string，实现换行 */\r\n    getTextForRows(text){\r\n        if (!text)\r\n        {\r\n            return undefined;\r\n        }\r\n        let rowsStr;\r\n        if (!this.style.multiLine)//单行\r\n        {\r\n            rowsStr = [text];\r\n        }\r\n        else\r\n        {\r\n            if (this.style.autoLine)//如果自动换行\r\n            {\r\n                let index = 0;\r\n                let charWidth = 0;\r\n                let char;\r\n                while (char = text.charAt(index)) {\r\n                    if (char === \"\\n\") {\r\n                        charWidth = 0;\r\n                    }\r\n                    else {\r\n                        charWidth += parseInt(this.style.fontSize, 10);\r\n                        if (charWidth > this.getWidth() - (this.style.borderWidth || 0) * 2) {//如果当前行宽度大于组件宽度，则添加一个换行符\r\n                            charWidth = 0;\r\n                            text = text.substring(0, index) + \"\\n\" + text.substring(index);\r\n                        }\r\n                    }\r\n                    index++;\r\n                }\r\n            }\r\n            rowsStr = text.split(\"\\n\");\r\n        }\r\n        let i;\r\n        let c;\r\n        let arr;\r\n        return rowsStr.map((row)=>{\r\n            i = 0;\r\n            arr = [];\r\n            while (c = row.charAt(i))\r\n            {\r\n                arr.push(c);\r\n                i++;\r\n            }\r\n            return arr;\r\n        });\r\n    }\r\n\r\n    setText(text){\r\n        this.text = this.getTextForRows(text);\r\n    }\r\n\r\n    getText(){\r\n        if (!this.text)\r\n        {\r\n            return undefined;\r\n        }\r\n        return this.text.map((row, index)=>{\r\n            return row.join(\"\");\r\n        }).join(\"\\n\");\r\n    }\r\n\r\n    /** 获取文本占的总高度 */\r\n    getTextHeight(){\r\n        if (!this.text)\r\n        {\r\n            return 0;\r\n        }\r\n        return this.text.length * parseInt(this.style.fontSize, 10);\r\n    }\r\n    getTextWidth(){\r\n        if (!this.text)\r\n        {\r\n            return 0;\r\n        }\r\n        let allWidth = 0;\r\n        this.text.forEach((row, index)=> {\r\n            allWidth = Math.max(allWidth, row.length * parseInt(this.style.fontSize, 10));\r\n        });\r\n        return allWidth;\r\n    }\r\n\r\n    getChildren(){\r\n        return this.children;\r\n    }\r\n\r\n    registerEvent(eventType, callback){\r\n        globalUtil.eventBus.registerEvent(this, eventType, callback);\r\n    }\r\n\r\n    removeEvent(eventType, callback){\r\n        globalUtil.eventBus.removeEvent(this, eventType, callback);\r\n    }\r\n\r\n    removeAllEvent()\r\n    {\r\n        globalUtil.eventBus.removeAllEvent(this);\r\n    }\r\n\r\n    addEventNotify(eventNotify){\r\n        this.eventNotifys.push(eventNotify);\r\n    }\r\n\r\n    //是否支持拖动\r\n    getDragComponent(com){\r\n        if (com.style.draggable)\r\n        {\r\n            return com;\r\n        }\r\n        else if (!com.parent)\r\n        {\r\n            return undefined;\r\n        }\r\n        else\r\n        {\r\n            return com.getDragComponent(com.parent);\r\n        }\r\n    }\r\n\r\n    destroy(){\r\n        this.removeAllEvent();\r\n\r\n        if (this.controller && this.controller.destroy\r\n            && typeof(this.controller.destroy) === \"function\")\r\n        {\r\n            this.controller.destroy();\r\n        }\r\n\r\n        this.getChildren().forEach((child)=>{\r\n                child.destroy();\r\n        });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/components/component.js","import Rect from \"./rect.js\";\r\n\r\nexport default class Button extends Rect {\r\n    constructor(parent) {\r\n        super(parent);\r\n        this.setStyle(\"textAlign\", \"center\");\r\n    }\r\n\r\n    initCfg(cfg){\r\n        super.initCfg(cfg);\r\n        this.setStyle(\"lineHeight\", this.getHeight());\r\n        //自适应宽度\r\n        if (this.style.autoWidth)\r\n        {\r\n            this.setStyle(\"width\", this.getTextWidth() + 20);\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/components/button.js","import Rect from \"../rect.js\";\r\n\r\nexport default class Sprite extends Rect {\r\n    constructor(parent) {\r\n        super(parent);\r\n    }\r\n\r\n    initCfg(cfg){\r\n        super.initCfg(cfg);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/components/game/sprite.js","import globalUtil from \"../../util/globalUtil.js\";\r\nimport Rect from \"./rect.js\";\r\n\r\nexport default class Router extends Rect{\r\n    constructor(parent){\r\n        super(parent);\r\n\r\n        //routes对象结构：每个name下面包含loader：子节点的配置文件；isLoaded：当前路由资源是否加载\r\n        this.routes = {};\r\n        this.children = [];\r\n\r\n        this.setX(0);\r\n        this.setY(0);\r\n        if (!parent)//最顶层\r\n        {\r\n            this.setWidth(globalUtil.viewState.getWidth());\r\n            this.setHeight(globalUtil.viewState.getHeight());\r\n        }\r\n        else\r\n        {\r\n            this.setWidth(parent.getInnerWidth());\r\n            this.setHeight(parent.getInnerHeight());\r\n        }\r\n    }\r\n\r\n    initCfg(cfg)\r\n    {\r\n        super.initCfg(cfg);\r\n\r\n        if (cfg.routes)\r\n        {\r\n            let rCfg;\r\n            for (let name in cfg.routes)\r\n            {\r\n                rCfg = cfg.routes[name];\r\n                this.routes[name] = {\r\n                    loader : rCfg.view,\r\n                    isLoaded : false\r\n                };\r\n                if (rCfg.default)\r\n                {\r\n                    this.currentRoute = name;\r\n                    this.getChildrenView();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    draw(ctx){\r\n        if (!super.draw(ctx)) {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    getChildrenView(){\r\n        if (!this.currentChildren)\r\n        {\r\n            if (this.routes[this.currentRoute].isLoaded === false)//未加载资源\r\n            {\r\n                let retChild = this.produceChildrenByCfg(this.routes[this.currentRoute].loader);\r\n                if (retChild instanceof Promise)\r\n                {\r\n                    retChild.then((child)=>{\r\n                        this.currentChildren = child;\r\n                        this.currentChildren.name = this.currentRoute;\r\n                        this.currentChildren.active = true;\r\n                        this.routes[this.currentRoute].isLoaded = true;\r\n                    });\r\n                }\r\n                else\r\n                {\r\n                    this.currentChildren = retChild;\r\n                    this.currentChildren.name = this.currentRoute;\r\n                    this.currentChildren.active = true;\r\n                    this.routes[this.currentRoute].isLoaded = true;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                this.children.forEach((child)=>{\r\n                    if (child.name === this.currentRoute)\r\n                    {\r\n                        this.currentChildren = child;\r\n                    }\r\n                });\r\n                this.currentChildren.active = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    getChildren(){\r\n        return this.currentChildren;\r\n    }\r\n\r\n    /** 切换route\r\n     *\r\n     * @param name 要切换route的name\r\n     * @param destory 是否销毁之前的route\r\n     */\r\n    changeRoute(name, destory){\r\n        if (this.currentChildren)\r\n        {\r\n            this.currentChildren.active = false;\r\n        }\r\n        if (destory)\r\n        {\r\n            this.destroyRoute(this.currentRoute);\r\n        }\r\n        this.currentRoute = name;\r\n        this.currentChildren = undefined;\r\n        this.getChildrenView();\r\n    }\r\n\r\n    destroyRoute(name){\r\n        this.currentChildren.destroy();\r\n        let cindex = -1;\r\n        this.children.forEach((child, index)=>{\r\n            if (child.name === name)\r\n            {\r\n                cindex = index;\r\n            }\r\n        });\r\n        if (cindex > -1)\r\n        {\r\n            this.children.splice(cindex, 1);\r\n            this.routes[name].isLoaded = false;\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/components/router.js","/**\r\n * Created by heju on 2017/7/25.\r\n */\r\nimport EventListener from \"./eventListener.js\";\r\nimport ClickEvent from \"./type/clickEvent.js\";\r\nimport MouseEvent from \"./type/mouseEvent.js\";\r\nimport KeyEvent from \"./type/keyEvent.js\";\r\nimport WheelEvent from \"./type/wheelEvent.js\";\r\nimport Stack from \"../data/structure/stack.js\";\r\nimport EventNotify from \"./eventNotify.js\";\r\nimport globalUtil from \"../util/globalUtil\";\r\nimport commonUtil from \"../util/commonUtil\";\r\n\r\nexport default class EventBus{\r\n    constructor(canvas){\r\n        this.canvas = canvas;\r\n        //注册事件列表\r\n        this.eventListeners = {\r\n            \"click\" : [],\r\n            \"mousedown\" : [],\r\n            \"mousemove\" : [],\r\n            \"mouseup\" : [],\r\n            \"keydown\" : [],\r\n            \"keyup\" : [],\r\n            \"mousewheel\" : []\r\n        };\r\n        //事件通知队列\r\n        this.eventNotifyQueue = [];\r\n        //事件冒泡执行队列\r\n        this.propagationEventQueue = {};\r\n\r\n        this.initDomEvent();\r\n    }\r\n\r\n    addEventListener(dom, type, callback){\r\n        if (window.addEventListener)\r\n        {\r\n            dom.addEventListener(type, callback, false);\r\n        }\r\n        else\r\n        {\r\n            dom.attachEvent(\"on\" + type, callback);\r\n        }\r\n    }\r\n\r\n    initDomEvent(){\r\n        this.addEventListener(this.canvas, \"click\", (e)=>{\r\n            this.createEventNotify(e, \"click\");\r\n        });\r\n\r\n        this.addEventListener(this.canvas, \"mousedown\", (e)=>{\r\n            this.createEventNotify(e, \"mousedown\");\r\n        });\r\n\r\n        this.addEventListener(this.canvas, \"mousemove\", (e)=>{\r\n            this.createEventNotify(e, \"mousemove\");\r\n        });\r\n\r\n        this.addEventListener(this.canvas, \"mouseup\", (e)=>{\r\n            this.createEventNotify(e, \"mouseup\");\r\n        });\r\n\r\n        this.addEventListener(window, \"keydown\", (e)=>{\r\n            this.createOtherEventNotify(e, \"keydown\", 2);\r\n        });\r\n\r\n        this.addEventListener(window, \"keyup\", (e)=>{\r\n            this.createOtherEventNotify(e, \"keyup\", 2);\r\n        });\r\n\r\n        this.addEventListener(this.canvas, \"DOMMouseScroll\", (e)=>{\r\n            this.createOtherEventNotify(e, \"mousewheel\", 3);\r\n        });\r\n        this.addEventListener(this.canvas, \"mousewheel\", (e)=>{\r\n            this.createOtherEventNotify(e, \"mousewheel\", 3);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 创建冒泡执行堆栈，用批次号分类\r\n     *\r\n     * @return 批次号（时间戳）\r\n     */\r\n    createPropagationStack(){\r\n        let batchNo = (new Date).getTime();\r\n        this.propagationEventQueue[batchNo] = new Stack();\r\n        return batchNo;\r\n    }\r\n\r\n    createEventNotify(e, type){\r\n        e = e || window.event;\r\n        let px = e.pageX;\r\n        let py = e.pageY;\r\n        let batchNo = this.createPropagationStack();\r\n        let eventNotify;\r\n        this.eventNotifyQueue.push(()=>{\r\n            let eventListeners = this.eventListeners[type];\r\n            if (eventListeners.length > 0)\r\n            {\r\n                let listener;\r\n                for (let i = eventListeners.length - 1; i >=0; i--)\r\n                {\r\n                    listener = eventListeners[i];\r\n                    if (listener.target.isViewState || listener.target.active)\r\n                    {\r\n                        eventNotify = new EventNotify();\r\n                        eventNotify.set({\r\n                            batchNo: batchNo,\r\n                            type: 1,\r\n                            px: px,\r\n                            py: py,\r\n                            listener: listener\r\n                        });\r\n                        listener.setSourceEvent(e);\r\n                        listener.target.addEventNotify(eventNotify);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    createOtherEventNotify(e, type, ntype){\r\n        e = e || window.event;\r\n        let batchNo = this.createPropagationStack();\r\n        let eventNotify;\r\n        this.eventNotifyQueue.push(()=>{\r\n            this.eventListeners[type].forEach((listener)=>{\r\n                if (listener.target.isViewState || listener.target.active)\r\n                {\r\n                    eventNotify = new EventNotify();\r\n                    eventNotify.set({\r\n                        batchNo : batchNo,\r\n                        type : ntype,\r\n                        listener : listener\r\n                    });\r\n                    listener.setSourceEvent(e);\r\n                    listener.target.addEventNotify(eventNotify);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    //通知触发事件\r\n    doNotifyEvent(){\r\n        this.eventNotifyQueue.forEach((eventFun)=>{\r\n            if (eventFun && typeof(eventFun) == \"function\")\r\n            {\r\n                eventFun();\r\n            }\r\n        });\r\n        this.eventNotifyQueue.length = 0;\r\n    }\r\n\r\n    //捕获事件\r\n    captureEvent(eventNotify){\r\n        if (!this.propagationEventQueue[eventNotify.batchNo])\r\n        {\r\n            return;\r\n        }\r\n        this.propagationEventQueue[eventNotify.batchNo].push(eventNotify.listener);\r\n    }\r\n\r\n    /**\r\n     * 冒泡执行事件\r\n     */\r\n    propagationEvent(){\r\n        let listener;\r\n        let bubble;//上一个冒泡节点\r\n        let target;\r\n        let event;\r\n        let top;\r\n        let key;\r\n        for (key in this.propagationEventQueue)\r\n        {\r\n            bubble = undefined;\r\n            target = undefined;\r\n            event = undefined;\r\n            top = this.propagationEventQueue[key].getTop();\r\n            if (top)//获取target，第一个冒泡节点的target\r\n            {\r\n                target = top.target;\r\n            }\r\n            while (listener = this.propagationEventQueue[key].pop())\r\n            {\r\n                if (listener.target.isViewState || !bubble//viewstate节点或第一个节点\r\n                    || (event && event.immediatePropagation && bubble === listener.target)//自己\r\n                    || (event && event.propagation && listener.target.parentOf(bubble)))//parent\r\n                {\r\n                    event = this.getEvent(listener);\r\n                    event.setTarget(target);\r\n                    if (listener.callback && typeof(listener.callback) === \"function\")\r\n                    {\r\n                        listener.callback(event);\r\n                    }\r\n                    bubble = listener.target;\r\n                }\r\n            }\r\n            delete this.propagationEventQueue[key];\r\n        }\r\n    }\r\n\r\n    getEvent(listener){\r\n        let event;\r\n        switch (listener.type)\r\n        {\r\n            case \"click\" :\r\n                event = new ClickEvent(listener.type);\r\n                event.setCurrentTarget(listener.target);\r\n                break;\r\n            case \"mousedown\" :\r\n                event = new MouseEvent(listener.type);\r\n                event.setCurrentTarget(listener.target);\r\n                event.setButton(listener.sourceEvent.button);\r\n                event.setPageX(listener.sourceEvent.pageX);\r\n                event.setPageY(listener.sourceEvent.pageY);\r\n                break;\r\n            case \"mousemove\" :\r\n                event = new MouseEvent(listener.type);\r\n                event.setCurrentTarget(listener.target);\r\n                event.setPageX(listener.sourceEvent.pageX);\r\n                event.setPageY(listener.sourceEvent.pageY);\r\n                break;\r\n            case \"mouseup\" :\r\n                event = new MouseEvent(listener.type);\r\n                event.setCurrentTarget(listener.target);\r\n                event.setButton(listener.sourceEvent.button);\r\n                event.setPageX(listener.sourceEvent.pageX);\r\n                event.setPageY(listener.sourceEvent.pageY);\r\n                break;\r\n            case \"keydown\" :\r\n                event = new KeyEvent(listener.type);\r\n                event.setCurrentTarget(listener.target);\r\n                event.setKey(listener.sourceEvent.key);\r\n                event.setKeyCode(listener.sourceEvent.keyCode);\r\n                break;\r\n            case \"keyup\" :\r\n                event = new KeyEvent(listener.type);\r\n                event.setCurrentTarget(listener.target);\r\n                event.setKey(listener.sourceEvent.key);\r\n                event.setKeyCode(listener.sourceEvent.keyCode);\r\n                break;\r\n            case \"mousewheel\" :\r\n                event = new WheelEvent(listener.type);\r\n                event.setCurrentTarget(listener.target);\r\n                event.setWheelDelta(listener.sourceEvent.wheelDelta || -listener.sourceEvent.detail);\r\n                break;\r\n            default : break;\r\n        }\r\n        return event;\r\n    }\r\n\r\n    /** 注册事件 */\r\n    registerEvent(com, type, callback){\r\n        let listener = this.getEventListener(com, type, callback);\r\n        this.eventListeners[type].push(listener);\r\n        return listener;\r\n    }\r\n\r\n    /**\r\n     * 移除事件\r\n     *\r\n     * @param callback 如果callback不传，则删除所有type类型的事件\r\n     */\r\n    removeEvent(com, type, callback){\r\n        if (!com || !type)\r\n        {\r\n            return;\r\n        }\r\n        let listener;\r\n        for (let i = 0; i < this.eventListeners[type].length; i++)\r\n        {\r\n            listener = this.eventListeners[type][i];\r\n            if (listener.target === com && (!callback || listener.callback === callback))\r\n            {\r\n                this.eventListeners[type].splice(i, 1);\r\n                i--;\r\n            }\r\n        }\r\n    }\r\n\r\n    removeAllEvent(com){\r\n        for (let type in this.eventListeners)\r\n        {\r\n            this.removeEvent(com, type);\r\n        }\r\n    }\r\n\r\n    getEventListener(target, type, callback){\r\n       let eventListener = new EventListener(type, callback);\r\n       eventListener.setTarget(target);\r\n       return eventListener;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/event/eventBus.js","//事件监听类\r\nexport default class EventListener {\r\n    constructor(type, callback) {\r\n        this.type = type;\r\n        this.callback = callback;\r\n    }\r\n\r\n    setTarget(target)\r\n    {\r\n        this.target = target;\r\n    }\r\n\r\n    setSourceEvent(sourceEvent){\r\n        this.sourceEvent = sourceEvent;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/event/eventListener.js","/**\r\n * Created by heju on 2017/7/25.\r\n */\r\nimport Event from \"./event.js\";\r\n\r\nexport default class ClickEvent extends Event{\r\n    constructor(type) {\r\n        super(type);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/event/type/clickEvent.js","/**\r\n * Created by heju on 2017/7/26.\r\n */\r\nimport Event from \"./event.js\";\r\n\r\nexport default class MouseEvent extends Event{\r\n    constructor(type) {\r\n        super(type);\r\n\r\n        this.pageX = undefined;\r\n        this.pageY = undefined;\r\n        this.button = undefined;\r\n    }\r\n\r\n    setPageX(x){\r\n        this.pageX = x;\r\n    }\r\n\r\n    setPageY(y){\r\n        this.pageY = y;\r\n    }\r\n\r\n    setButton(button){\r\n        this.button = button;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/event/type/mouseEvent.js","/**\r\n * Created by heju on 2017/7/26.\r\n */\r\nimport Event from \"./event.js\";\r\n\r\nexport default class KeyEvent extends Event{\r\n    constructor(type) {\r\n        super(type);\r\n\r\n        this.key = undefined;\r\n        this.keyCode = undefined;\r\n    }\r\n\r\n    setKey(key){\r\n        this.key = key;\r\n    }\r\n\r\n    setKeyCode(keyCode){\r\n        this.keyCode = keyCode;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/event/type/keyEvent.js","import Event from \"./event.js\";\r\n\r\nexport default class WheelEvent extends Event{\r\n    constructor(type) {\r\n        super(type);\r\n\r\n        this.wheelDelta = undefined;\r\n    }\r\n\r\n    setWheelDelta(wheelDelta){\r\n        this.wheelDelta = wheelDelta;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/event/type/wheelEvent.js","/**\r\n * Created by heju on 2017/7/26.\r\n */\r\nexport default class Stack{\r\n    constructor() {\r\n    }\r\n\r\n    push(obj){\r\n        if (obj)\r\n        {\r\n            let data;\r\n            if (!this.top)\r\n            {\r\n                data = {\r\n                    value : obj\r\n                };\r\n            }\r\n            else\r\n            {\r\n                data = {\r\n                    value : obj,\r\n                    next : this.top\r\n                };\r\n            }\r\n            this.top = data;\r\n        }\r\n    }\r\n\r\n    pop(){\r\n        if (!this.top)\r\n        {\r\n            return undefined;\r\n        }\r\n        let ret;\r\n        if (this.top)\r\n        {\r\n            ret = this.top.value;\r\n        }\r\n        this.top = this.top.next;\r\n        return ret;\r\n    }\r\n\r\n    getTop(){\r\n        return this.top ? this.top.value : undefined;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/data/structure/stack.js","/**\r\n * Created by heju on 2017/7/26.\r\n */\r\n//事件通知类\r\nexport default class EventNotify {\r\n    constructor() {\r\n    }\r\n\r\n    /**\r\n     * 设置通知，下次循环draw的时候用这些值判断是否触发事件\r\n     */\r\n    set(obj){\r\n        this.batchNo = obj.batchNo;//批次号，表明是哪一批次的事件\r\n        this.type = obj.type;//1：鼠标相关事件；2：键盘事件\r\n        this.px = obj.px;\r\n        this.py = obj.py;\r\n        this.listener = obj.listener;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/event/eventNotify.js","/**\r\n * Created by heju on 2017/2/10.\r\n */\r\nlet httpUtil = {\r\n    getGetParamStr : (param, normal) => {\r\n        let str = \"\";\r\n        if (param != undefined)\r\n        {\r\n            for (let key in param)\r\n            {\r\n                if (normal)\r\n                {\r\n                    str += key + \"=\" + param[key] + \"&\";\r\n                }\r\n                else\r\n                {\r\n                    str += \"/\" + param[key];\r\n                }\r\n            }\r\n            if (normal)\r\n            {\r\n                str = str.substring(0, str.length - 1);\r\n            }\r\n        }\r\n        return str;\r\n    },\r\n    get : (url, param) => {\r\n        return new Promise((resolve, reject)=>{\r\n            let purl = url;\r\n            if (param)\r\n            {\r\n                purl = url + httpUtil.getGetParamStr(param);\r\n            }\r\n            let xmlhttp;\r\n            if (window.XMLHttpRequest)\r\n            {\r\n                //  IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码\r\n                xmlhttp=new XMLHttpRequest();\r\n            }\r\n            else\r\n            {\r\n                // IE6, IE5 浏览器执行代码\r\n                xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n            }\r\n            xmlhttp.onreadystatechange = function()\r\n            {\r\n                if (xmlhttp.readyState==4 && xmlhttp.status==200)\r\n                {\r\n                    resolve(xmlhttp.response);\r\n                }\r\n            }\r\n            xmlhttp.open(\"GET\",purl,true);\r\n            xmlhttp.send();\r\n        });\r\n    },\r\n    post : (url, param, callback, errCallback) => {\r\n        $.ajax({\r\n            type : \"post\",\r\n            contentType: 'application/json',\r\n            data :  JSON.stringify(param),\r\n            url : url,\r\n            success : function(data, textStatus, jqXHR){\r\n                if (callback && typeof(callback) == \"function\")\r\n                {\r\n                    callback.apply(this, [data]);\r\n                }\r\n            },\r\n            error: function (jqXHR, textStatus, errorThrown) {\r\n                if (errCallback && typeof(errCallback) == \"function\")\r\n                {\r\n                    errCallback.apply(this, [textStatus]);\r\n                }\r\n            }\r\n        });\r\n    }\r\n};\r\nexport default httpUtil;\n\n\n// WEBPACK FOOTER //\n// ./src/js/util/httpUtil.js","/**\r\n * Created by heju on 2017/7/21.\r\n */\r\nimport globalUtil from \"../util/globalUtil\";\r\n\r\nexport default class Controller{\r\n    constructor(panel) {\r\n        this.panel = panel;\r\n        this.viewState = globalUtil.viewState;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/ui/controller.js"],"sourceRoot":""}