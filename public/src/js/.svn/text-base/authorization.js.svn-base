/**
 * Created by heju on 2017/2/10.
 */
import cacheUtil from "./common/utils/cacheUtil.js";
import {hashHistory} from 'react-router';

let authorization = {
    permit : false,
    currentUser : undefined,
    login : (userName)=>{
        authorization.permit = true;
        authorization.currentUser = userName;
        cacheUtil.putCache("permit", true);
        cacheUtil.putCache("currentUser", authorization.currentUser);
    },
    logout : ()=>{
        authorization.permit = false;
        authorization.currentUser = undefined;
        cacheUtil.putCache("permit", false);
        cacheUtil.putCache("currentUser", undefined);
        hashHistory.push('/login');
    }
};
export default authorization;